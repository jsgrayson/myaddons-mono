<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">

    <Button name="DeepPocketsItemTemplate" virtual="true">
        <Size x="37" y="37"/>
        <Layers>
            <Layer level="BORDER">
                <Texture parentKey="Icon"><Size x="37" y="37"/><Anchors><Anchor point="CENTER"/></Anchors></Texture>
            </Layer>
            <Layer level="OVERLAY">
                <Texture parentKey="Border" file="Interface\Buttons\UI-ActionButton-Border" alphaMode="ADD" hidden="true">
                    <Size x="60" y="60"/>
                    <Anchors><Anchor point="CENTER"/></Anchors>
                </Texture>
                <FontString parentKey="Count" inherits="NumberFontNormal" justifyH="RIGHT">
                    <Anchors><Anchor point="BOTTOMRIGHT" x="-2" y="2"/></Anchors>
                </FontString>
            </Layer>
        </Layers>
        <HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD"/>
        <Scripts>
            <OnEnter>
                GameTooltip:SetOwner(self, "ANCHOR_RIGHT");
                if self.bagID and self.slotID then
                    GameTooltip:SetBagItem(self.bagID, self.slotID);
                    GameTooltip:Show();
                end
            </OnEnter>
            <OnLeave>GameTooltip:Hide();</OnLeave>
            <OnClick>
                if self.bagID then
                     -- Handle standard WoW clicks (Use, Split, Link to Chat)
                     if IsModifiedClick() then
                         HandleModifiedItemClick(GetContainerItemLink(self.bagID, self.slotID));
                     else
                         UseContainerItem(self.bagID, self.slotID);
                     end
                end
            </OnClick>
        </Scripts>
    </Button>

    <Frame name="DeepPocketsFrame" toplevel="true" parent="UIParent" movable="true" enableMouse="true" hidden="true" inherits="PortraitFrameTemplate">
        <Size x="500" y="500"/>
        <Anchors><Anchor point="CENTER"/></Anchors>
        <Layers>
            <Layer level="OVERLAY" textureSubLevel="1">
                <Texture name="$parentPortrait" parentKey="portrait" file="Interface\Icons\inv_misc_bag_08">
                    <Size x="60" y="60"/>
                    <Anchors><Anchor point="TOPLEFT" x="-5" y="5"/></Anchors>
                </Texture>
            </Layer>
        </Layers>
        <Frames>
            
            <Frame name="$parentHeader" parentKey="Header">
                <Size x="0" y="40"/>
                <Anchors><Anchor point="TOPLEFT" x="60" y="-25"/><Anchor point="TOPRIGHT" x="-10" y="-25"/></Anchors>
                <Frames>
                    <EditBox name="$parentSearchBox" parentKey="SearchBox" inherits="SearchBoxTemplate" autoFocus="false">
                        <Size x="200" y="20"/>
                        <Anchors><Anchor point="LEFT" x="10" y="0"/></Anchors>
                    </EditBox>
                    <Button name="$parentSortButton" inherits="UIPanelButtonTemplate" text="Cleanup">
                        <Size x="80" y="22"/>
                        <Anchors><Anchor point="RIGHT" x="-10" y="0"/></Anchors>
                    </Button>
                </Frames>
            </Frame>

            <Frame name="$parentInset" inherits="InsetFrameTemplate">
                <Anchors>
                    <Anchor point="TOPLEFT" x="10" y="-70"/>
                    <Anchor point="BOTTOMRIGHT" x="-10" y="30"/>
                </Anchors>
                <Frames>
                    <ScrollFrame name="$parentScroll" parentKey="Scroll" inherits="UIPanelScrollFrameTemplate">
                        <Anchors><Anchor point="TOPLEFT" x="5" y="-5"/><Anchor point="BOTTOMRIGHT" x="-25" y="5"/></Anchors>
                        <ScrollChild>
                            <Frame name="$parentChild" parentKey="Child">
                                <Size x="450" y="500"/> </Frame>
                        </ScrollChild>
                    </ScrollFrame>
                </Frames>
            </Frame>
            
            <Frame name="$parentFooter">
                <Size x="0" y="20"/>
                <Anchors><Anchor point="BOTTOMLEFT" x="10" y="5"/><Anchor point="BOTTOMRIGHT" x="-10" y="5"/></Anchors>
                <Layers>
                    <Layer level="OVERLAY">
                        <FontString parentKey="SlotsText" inherits="GameFontHighlightSmall" text="Slots: 0/0">
                            <Anchors><Anchor point="LEFT"/></Anchors>
                        </FontString>
                        <FontString parentKey="GoldText" inherits="GameFontNormalSmall" text="0g 0s 0c">
                            <Anchors><Anchor point="RIGHT"/></Anchors>
                        </FontString>
                    </Layer>
                </Layers>
            </Frame>

        </Frames>
        <Scripts>
            <OnLoad>
                self:RegisterForDrag("LeftButton"); 
                DeepPocketsFrameTitleText:SetText("|cffDAA520Deep Pockets|r Inventory"); 
            </OnLoad>
            <OnDragStart>self:StartMoving();</OnDragStart>
            <OnDragStop>self:StopMovingOrSizing();</OnDragStop>
        </Scripts>
    </Frame>
</Ui>
