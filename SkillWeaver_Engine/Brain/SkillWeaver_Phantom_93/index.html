<html lang="en"><head><style>
        @import url(https://fonts.googleapis.com/css?family=Google+Sans+Text);
        html {
          font-family: 'Google Sans Text', 'Google Sans';
          font-size: 14px;
          color-scheme: light dark;
          background: light-dark(white, black);
          color: light-dark(black, white);
        }
        </style>
        
        <script type="importmap">{"imports":{"@modelcontextprotocol/sdk/":"https://esm.sh/@modelcontextprotocol/sdk/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/es2022/dist/esm/","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/client/index?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/client/index?target=es2022","https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/types?target=es2022":"https://esm.sh/@modelcontextprotocol/sdk@^1.11.0/dist/esm/types?target=es2022","react":"https://esm.sh/react@^19.2.3","react/":"https://esm.sh/react@^19.2.3/","react-dom/":"https://esm.sh/react-dom@^19.2.3/","lucide-react":"https://esm.sh/lucide-react@^0.562.0","jszip":"https://esm.sh/jszip@3.10.1","@/index":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnOwppbXBvcnQgeyBBY3Rpdml0eSwgRXllLCBGaWxlQ29kZSwgUGxheSwgUGF1c2UsIFJlZnJlc2hDdywgRmlsZUpzb24sIFNhdmUsIEZvbGRlck9wZW4sIFNrdWxsLCBHaG9zdCwgQXJjaGl2ZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCc7Ci8vIC0tLSBDb25zdGFudHMgLS0tCmNvbnN0IFJFVElOQV9TVFJJREUgPSAyOwpjb25zdCBQVlBfS0lDS1MgPSBbCiAgICAiUG9seW1vcnBoIiwgIkN5Y2xvbmUiLCAiSGV4IiwgIkZlYXIiLCAiQ2hhb3MgQm9sdCIsICJDb252b2tlIHRoZSBTcGlyaXRzIiwKICAgICJUaGUgSHVudCIsICJNaW5kIENvbnRyb2wiLCAiUmVwZW50YW5jZSIsICJTbGVlcCBXYWxrIiwgIkRpdmluZSBIeW1uIiwgIlJheSBvZiBIb3BlIiwgIkdyZWF0ZXIgUHlyb2JsYXN0IiwgIlZvaWQgVG9ycmVudCIsICJQZW5hbmNlIiwgIlRyYW5xdWlsaXR5IgpdOwpjb25zdCBSQUNFUyA9IFsKICAgIHsgaWQ6IDEsIG5hbWU6ICJIdW1hbiIsIGFiaWxpdHk6ICJXaWxsIHRvIFN1cnZpdmUiLCBjb29sZG93bjogMTgwLCB0eXBlOiAiVVRJTElUWSIsIGRlZmVuc2l2ZVRyaWdnZXI6IHRydWUgfSwKICAgIHsgaWQ6IDIsIG5hbWU6ICJPcmMiLCBhYmlsaXR5OiAiQmxvb2QgRnVyeSIsIGNvb2xkb3duOiAxMjAsIHR5cGU6ICJCVVJTVCIgfSwKICAgIHsgaWQ6IDMsIG5hbWU6ICJEd2FyZiIsIGFiaWxpdHk6ICJTdG9uZWZvcm0iLCBjb29sZG93bjogMTIwLCB0eXBlOiAiREVGRU5TSVZFIiwgZGVmZW5zaXZlVHJpZ2dlcjogdHJ1ZSB9LAogICAgeyBpZDogNCwgbmFtZTogIk5pZ2h0IEVsZiIsIGFiaWxpdHk6ICJTaGFkb3dtZWxkIiwgY29vbGRvd246IDEyMCwgdHlwZTogIlBSRV9FTVBUIiwgZGVmZW5zaXZlVHJpZ2dlcjogdHJ1ZSB9LAogICAgeyBpZDogNSwgbmFtZTogIlVuZGVhZCIsIGFiaWxpdHk6ICJXaWxsIG9mIHRoZSBGb3JzYWtlbiIsIGNvb2xkb3duOiAxMjAsIHR5cGU6ICJVVElMSVRZIiwgZGVmZW5zaXZlVHJpZ2dlcjogdHJ1ZSB9LAogICAgeyBpZDogNiwgbmFtZTogIlRhdXJlbiIsIGFiaWxpdHk6ICJXYXIgU3RvbXAiLCBjb29sZG93bjogOTAsIHR5cGU6ICJDQyIgfSwKICAgIHsgaWQ6IDcsIG5hbWU6ICJHbm9tZSIsIGFiaWxpdHk6ICJFc2NhcGUgQXJ0aXN0IiwgY29vbGRvd246IDYwLCB0eXBlOiAiVVRJTElUWSIsIGRlZmVuc2l2ZVRyaWdnZXI6IHRydWUgfSwKICAgIHsgaWQ6IDgsIG5hbWU6ICJUcm9sbCIsIGFiaWxpdHk6ICJCZXJzZXJraW5nIiwgY29vbGRvd246IDE4MCwgdHlwZTogIkJVUlNUIiB9LAogICAgeyBpZDogOSwgbmFtZTogIkdvYmxpbiIsIGFiaWxpdHk6ICJSb2NrZXQgSnVtcCIsIGNvb2xkb3duOiA5MCwgdHlwZTogIkdBUF9DTE9TRVIiIH0sCiAgICB7IGlkOiAxMCwgbmFtZTogIkJsb29kIEVsZiIsIGFiaWxpdHk6ICJBcmNhbmUgVG9ycmVudCIsIGNvb2xkb3duOiAxMjAsIHR5cGU6ICJESVNQRUwiIH0sCiAgICB7IGlkOiAyOSwgbmFtZTogIlZvaWQgRWxmIiwgYWJpbGl0eTogIlNwYXRpYWwgUmlmdCIsIGNvb2xkb3duOiAxODAsIHR5cGU6ICJHQVBfQ0xPU0VSIiB9LAogICAgeyBpZDogMzQsIG5hbWU6ICJEYXJrIElyb24gRHdhcmYiLCBhYmlsaXR5OiAiRmlyZWJsb29kIiwgY29vbGRvd246IDEyMCwgdHlwZTogIkJVUlNUIiwgZGVmZW5zaXZlVHJpZ2dlcjogdHJ1ZSB9LApdOwovLyAtLS0gREFUQUJBU0U6IFNURUFMVEggUEhBTlRPTSBFRElUSU9OIC0tLQpjb25zdCBTUEVDX0RCID0gWwogICAgewogICAgICAgIGlkOiA5LCBuYW1lOiAiV2FybG9jayIsIGNvbG9yOiAiIzk0ODJDOSIsCiAgICAgICAgc3BlY3M6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IDMsIG5hbWU6ICJEZXN0cnVjdGlvbiIsIHJvbGU6ICJEUFMiLCByZXNvdXJjZU5hbWU6ICJNYW5hIiwgc2Vjb25kYXJ5UmVzb3VyY2VOYW1lOiAiU291bCBTaGFyZHMiLCBzZWNvbmRhcnlQb3dlcklkOiA3LAogICAgICAgICAgICAgICAgbWVsZWVDaGVja1NwZWxsOiAiU2hhZG93YnVybiIsCiAgICAgICAgICAgICAgICByYW5nZUNoZWNrU3BlbGw6ICJJbW1vbGF0ZSIsCiAgICAgICAgICAgICAgICBsb2Fkb3V0czogW3sgbmFtZTogIkNoYW9zIEJ1cnN0IiwgdHlwZTogIkFSRU5BIiwgcGV0U2xvdDogMSwgc3BlbGxzOiBbIkltbW9sYXRlIiwgIkNvbmZsYWdyYXRlIiwgIkNoYW9zIEJvbHQiLCAiU2hhZG93YnVybiIsICJJbmNpbmVyYXRlIiwgIkZlYXIiLCAiTW9ydGFsIENvaWwiLCAiU2hhZG93ZnVyeSIsICJIYXZvYyIsICJVbmVuZGluZyBSZXNvbHZlIiwgIkRhcmsgUGFjdCIsICJIZWFsdGhzdG9uZSIsICJTdW1tb24gRmVsaHVudGVyIiwgIlNwZWxsIExvY2siLCAiQW1wbGlmeSBDdXJzZSIsICJDdXJzZSBvZiBUb25ndWVzIl0gfV0sCiAgICAgICAgICAgICAgICBzcGVsbHM6IFsKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJVbmVuZGluZyBSZXNvbHZlIiwgaGV4OiAweDE0LCB0eXBlOiAiREVGRU5TSVZFIiwgcHJpb3JpdHk6IDEwMCwgcGxheWVySHA6IDQwLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJEYXJrIFBhY3QiLCBoZXg6IDB4MTUsIHR5cGU6ICJERUZFTlNJVkUiLCBwcmlvcml0eTogOTksIHBsYXllckhwOiA2MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU3VtbW9uIEZlbGh1bnRlciIsIGhleDogMHg2MiwgdHlwZTogIlBFVF9NQU5BR0UiLCBwcmlvcml0eTogMTAxLCBwZXRIcDogMCwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnUExBWUVSJyB9LCAvLyBSZS1zdW1tb24KICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTcGVsbCBMb2NrIiwgaGV4OiAweDBELCB0eXBlOiAiSU5URVJSVVBUIiwgcHJpb3JpdHk6IDEwMCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNwZWxsIExvY2siLCBoZXg6IDB4MjAsIHR5cGU6ICJBUkVOQV9JTlRFUlJVUFQiLCBwcmlvcml0eTogOTksIGFyZW5hVGFyZ2V0OiAxLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ0FSRU5BMScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTcGVsbCBMb2NrIiwgaGV4OiAweDIxLCB0eXBlOiAiQVJFTkFfSU5URVJSVVBUIiwgcHJpb3JpdHk6IDk5LCBhcmVuYVRhcmdldDogMiwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdBUkVOQTInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU3BlbGwgTG9jayIsIGhleDogMHgyMiwgdHlwZTogIkFSRU5BX0lOVEVSUlVQVCIsIHByaW9yaXR5OiA5OSwgYXJlbmFUYXJnZXQ6IDMsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnQVJFTkEzJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNoYWRvd2Z1cnkiLCBoZXg6IDB4NDAsIHR5cGU6ICJHUk9VTkRfVEFSR0VUIiwgcHJpb3JpdHk6IDk4LCBncm91bmRUYXJnZXQ6IHRydWUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk1vcnRhbCBDb2lsIiwgaGV4OiAweDFBLCB0eXBlOiAiQ0MiLCBwcmlvcml0eTogOTcsIHBsYXllckhwOiA3MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiRmVhciIsIGhleDogMHgxOCwgdHlwZTogIkNIQUlOX0NDIiwgcHJpb3JpdHk6IDk2LCBmb2N1c1RhcmdldDogdHJ1ZSwgb25seUhlYWxlcjogdHJ1ZSwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnRk9DVVMnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU2hhZG93YnVybiIsIGhleDogMHgwNSwgdHlwZTogIkVYRUNVVEUiLCBwcmlvcml0eTogOTUsIG1heEhwOiAyMCwgcmVzb3VyY2U6ICJTRUNPTkRBUlkiLCBjb3N0OiAxLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJDaGFvcyBCb2x0IiwgaGV4OiAweDA2LCB0eXBlOiAiQlVSU1QiLCBwcmlvcml0eTogOTAsIHJlc291cmNlOiAiU0VDT05EQVJZIiwgY29zdDogMiwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnVEFSR0VUJywgd2luZG93OiAnQlVSU1QnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQ29uZmxhZ3JhdGUiLCBoZXg6IDB4MDQsIHR5cGU6ICJEQU1BR0UiLCBwcmlvcml0eTogODUsIGNoYXJnZXM6IDEsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkltbW9sYXRlIiwgaGV4OiAweDAzLCB0eXBlOiAiTUFJTlRBSU5fQlVGRiIsIHByaW9yaXR5OiA4MCwgYnVmZk1pc3Npbmc6ICJJbW1vbGF0ZSIsIHNuYXBzaG90OiB0cnVlLCBtb3Zpbmc6IGZhbHNlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sIC8vIFNuYXBzaG90IGxvZ2ljCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSW5jaW5lcmF0ZSIsIGhleDogMHgwMSwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA2MCwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfSwKICAgIHsKICAgICAgICBpZDogMywgbmFtZTogIkh1bnRlciIsIGNvbG9yOiAiI0FCRDQ3MyIsCiAgICAgICAgc3BlY3M6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IDEsIG5hbWU6ICJCZWFzdCBNYXN0ZXJ5Iiwgcm9sZTogIkRQUyIsIHJlc291cmNlTmFtZTogIkZvY3VzIiwKICAgICAgICAgICAgICAgIG1lbGVlQ2hlY2tTcGVsbDogIldpbmcgQ2xpcCIsCiAgICAgICAgICAgICAgICByYW5nZUNoZWNrU3BlbGw6ICJDb2JyYSBTaG90IiwKICAgICAgICAgICAgICAgIGxvYWRvdXRzOiBbCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQXJlbmEgKEN1bm5pbmcpIiwgdHlwZTogIkFSRU5BIiwgcGV0U2xvdDogMywgc3BlbGxzOiBbIktpbGwgQ29tbWFuZCIsICJCYXJiZWQgU2hvdCIsICJDb2JyYSBTaG90IiwgIkJlc3RpYWwgV3JhdGgiLCAiS2lsbCBTaG90IiwgIk11bHRpLVNob3QiLCAiRnJlZXppbmcgVHJhcCIsICJUYXIgVHJhcCIsICJGbGFyZSIsICJDb3VudGVyIFNob3QiLCAiSW50aW1pZGF0aW9uIiwgIkV4aGlsYXJhdGlvbiIsICJNYXN0ZXIncyBDYWxsIiwgIk1lbmQgUGV0IiwgIlJldml2ZSBQZXQiLCAiQ2FsbCBQZXQgMyJdIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUHZFIChGZXJvY2l0eSkiLCB0eXBlOiAiRFVOR0VPTiIsIHBldFNsb3Q6IDEsIHNwZWxsczogWyJLaWxsIENvbW1hbmQiLCAiQmFyYmVkIFNob3QiLCAiQ29icmEgU2hvdCIsICJCZXN0aWFsIFdyYXRoIiwgIktpbGwgU2hvdCIsICJNdWx0aS1TaG90IiwgIkNvdW50ZXIgU2hvdCIsICJFeGhpbGFyYXRpb24iLCAiTWVuZCBQZXQiLCAiUmV2aXZlIFBldCIsICJDYWxsIFBldCAxIl0gfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHNwZWxsczogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkV4aGlsYXJhdGlvbiIsIGhleDogMHgxNCwgdHlwZTogIkRFRkVOU0lWRSIsIHByaW9yaXR5OiAxMDAsIHBsYXllckhwOiAzMCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTWFzdGVyJ3MgQ2FsbCIsIGhleDogMHg0MCwgdHlwZTogIlNOQVJFX0JSRUFLIiwgcHJpb3JpdHk6IDEwMSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUmV2aXZlIFBldCIsIGhleDogMHg2MCwgdHlwZTogIlBFVF9NQU5BR0UiLCBwcmlvcml0eTogMTAyLCBwZXRIcDogMCwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnUExBWUVSJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNhbGwgUGV0IDEiLCBoZXg6IDB4NjIsIHR5cGU6ICJQRVRfTUFOQUdFIiwgcHJpb3JpdHk6IDEwMSwgcGV0SHA6IDAsIG1vdmluZzogZmFsc2UsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJDYWxsIFBldCAzIiwgaGV4OiAweDY0LCB0eXBlOiAiUEVUX01BTkFHRSIsIHByaW9yaXR5OiAxMDEsIHBldEhwOiAwLCBtb3Zpbmc6IGZhbHNlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTWVuZCBQZXQiLCBoZXg6IDB4NjEsIHR5cGU6ICJQRVRfTUFOQUdFIiwgcHJpb3JpdHk6IDk4LCBwZXRIcDogNTAsIGJ1ZmZNaXNzaW5nOiAiTWVuZCBQZXQiLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BFVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJDb3VudGVyIFNob3QiLCBoZXg6IDB4MEMsIHR5cGU6ICJJTlRFUlJVUFQiLCBwcmlvcml0eTogOTksIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJywgcmVhY3Rpb25DdXJ2ZTogJ0dPRCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJGcmVlemluZyBUcmFwIiwgaGV4OiAweDE4LCB0eXBlOiAiQ0hBSU5fQ0MiLCBwcmlvcml0eTogOTcsIGdyb3VuZFRhcmdldDogdHJ1ZSwgZm9jdXNUYXJnZXQ6IHRydWUsIG9ubHlIZWFsZXI6IHRydWUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnRk9DVVMnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSW50aW1pZGF0aW9uIiwgaGV4OiAweDFBLCB0eXBlOiAiQ0MiLCBwcmlvcml0eTogOTYsIGZvY3VzVGFyZ2V0OiB0cnVlLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ0ZPQ1VTJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkJlc3RpYWwgV3JhdGgiLCBoZXg6IDB4MTAsIHR5cGU6ICJCVVJTVCIsIHByaW9yaXR5OiA5MywgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInLCB3aW5kb3c6ICdCVVJTVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJLaWxsIFNob3QiLCBoZXg6IDB4MDUsIHR5cGU6ICJFWEVDVVRFIiwgcHJpb3JpdHk6IDkwLCBtYXhIcDogMjAsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIktpbGwgQ29tbWFuZCIsIGhleDogMHgwMiwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4NSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQmFyYmVkIFNob3QiLCBoZXg6IDB4MDMsIHR5cGU6ICJNQUlOVEFJTl9CVUZGIiwgcHJpb3JpdHk6IDgyLCBjaGFyZ2VzOiAxLCBidWZmU3RhY2tzTWF4OiAzLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJDb2JyYSBTaG90IiwgaGV4OiAweDAxLCB0eXBlOiAiREFNQUdFIiwgcHJpb3JpdHk6IDYwLCByZXNvdXJjZTogIlBSSU1BUlkiLCBjb3N0OiA0MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9LAogICAgewogICAgICAgIGlkOiAxMiwgbmFtZTogIkRlbW9uIEh1bnRlciIsIGNvbG9yOiAiI0EzMzBDOSIsCiAgICAgICAgc3BlY3M6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IDEsIG5hbWU6ICJIYXZvYyIsIHJvbGU6ICJEUFMiLCByZXNvdXJjZU5hbWU6ICJGdXJ5IiwKICAgICAgICAgICAgICAgIG1lbGVlQ2hlY2tTcGVsbDogIkNoYW9zIFN0cmlrZSIsCiAgICAgICAgICAgICAgICByYW5nZUNoZWNrU3BlbGw6ICJUaHJvdyBHbGFpdmUiLAogICAgICAgICAgICAgICAgbG9hZG91dHM6IFt7IG5hbWU6ICJGZWwgU2NhcnJlZCIsIHR5cGU6ICJBUkVOQSIsIHNwZWxsczogWyJDaGFvcyBTdHJpa2UiLCAiQmxhZGUgRGFuY2UiLCAiRXllIEJlYW0iLCAiVGhlIEh1bnQiLCAiTWV0YW1vcnBob3NpcyIsICJJbW1vbGF0aW9uIEF1cmEiLCAiRmVsIFJ1c2giLCAiVmVuZ2VmdWwgUmV0cmVhdCIsICJEaXNydXB0IiwgIkNoYW9zIE5vdmEiLCAiQmx1ciIsICJOZXRoZXJ3YWxrIiwgIkNvbnN1bWUgTWFnaWMiLCAiVGhyb3cgR2xhaXZlIl0gfV0sCiAgICAgICAgICAgICAgICBzcGVsbHM6IFsKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJOZXRoZXJ3YWxrIiwgaGV4OiAweDE1LCB0eXBlOiAiREVGRU5TSVZFIiwgcHJpb3JpdHk6IDEwMSwgcGxheWVySHA6IDE1LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicsIHJlYWN0aW9uQ3VydmU6ICdHT0QnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQmx1ciIsIGhleDogMHgxNCwgdHlwZTogIkRFRkVOU0lWRSIsIHByaW9yaXR5OiAxMDAsIHBsYXllckhwOiAzNSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiRGlzcnVwdCIsIGhleDogMHgwQywgdHlwZTogIklOVEVSUlVQVCIsIHByaW9yaXR5OiA5OSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNvbnN1bWUgTWFnaWMiLCBoZXg6IDB4MUQsIHR5cGU6ICJQVVJHRSIsIHByaW9yaXR5OiA5OCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVGhlIEh1bnQiLCBoZXg6IDB4MTksIHR5cGU6ICJCVVJTVCIsIHByaW9yaXR5OiA5NSwgZ3JvdW5kVGFyZ2V0OiB0cnVlLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcsIHdpbmRvdzogJ0JVUlNUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkZlbCBSdXNoIiwgaGV4OiAweDQwLCB0eXBlOiAiU0FGRV9NT1ZFTUVOVCIsIHByaW9yaXR5OiA5NCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVmVuZ2VmdWwgUmV0cmVhdCIsIGhleDogMHg0MSwgdHlwZTogIlNBRkVfTU9WRU1FTlQiLCBwcmlvcml0eTogOTQsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnUExBWUVSJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkV5ZSBCZWFtIiwgaGV4OiAweDA2LCB0eXBlOiAiQlVSU1QiLCBwcmlvcml0eTogOTAsIG1vdmluZzogZmFsc2UsIHRhcmdldDogJ1RBUkdFVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJCbGFkZSBEYW5jZSIsIGhleDogMHgwNCwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4NSwgcmVzb3VyY2U6ICJQUklNQVJZIiwgY29zdDogMTUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNoYW9zIFN0cmlrZSIsIGhleDogMHgwMiwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4MCwgcmVzb3VyY2U6ICJQUklNQVJZIiwgY29zdDogNDAsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkltbW9sYXRpb24gQXVyYSIsIGhleDogMHgwMywgdHlwZTogIk1BSU5UQUlOX0JVRkYiLCBwcmlvcml0eTogNzAsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnUExBWUVSJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRocm93IEdsYWl2ZSIsIGhleDogMHgwMSwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA2MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9LAogICAgewogICAgICAgIGlkOiAxMSwgbmFtZTogIkRydWlkIiwgY29sb3I6ICIjRkY3RDBBIiwKICAgICAgICBzcGVjczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMiwgbmFtZTogIkZlcmFsIiwgcm9sZTogIkRQUyIsIHJlc291cmNlTmFtZTogIkVuZXJneSIsIHNlY29uZGFyeVJlc291cmNlTmFtZTogIkNvbWJvIFBvaW50cyIsIHNlY29uZGFyeVBvd2VySWQ6IDQsCiAgICAgICAgICAgICAgICBtZWxlZUNoZWNrU3BlbGw6ICJTaHJlZCIsCiAgICAgICAgICAgICAgICByYW5nZUNoZWNrU3BlbGw6ICJNb29uZmlyZSIsCiAgICAgICAgICAgICAgICBsb2Fkb3V0czogW3sgbmFtZTogIkp1bmdsZSBDbGVhdmUiLCB0eXBlOiAiQVJFTkEiLCBzcGVsbHM6IFsiUmFrZSIsICJSaXAiLCAiRmVyb2Npb3VzIEJpdGUiLCAiU2hyZWQiLCAiVGlnZXIncyBGdXJ5IiwgIkJlcnNlcmsiLCAiQWRhcHRpdmUgU3dhcm0iLCAiRmVyYWwgRnJlbnp5IiwgIlNrdWxsIEJhc2giLCAiQ3ljbG9uZSIsICJNYWltIiwgIlN1cnZpdmFsIEluc3RpbmN0cyIsICJCYXJrc2tpbiIsICJSZWdyb3d0aCIsICJXaWxkIENoYXJnZSIsICJUcmF2ZWwgRm9ybSIsICJDYXQgRm9ybSIsICJCZWFyIEZvcm0iXSB9XSwKICAgICAgICAgICAgICAgIHNwZWxsczogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlN1cnZpdmFsIEluc3RpbmN0cyIsIGhleDogMHgxNCwgdHlwZTogIkRFRkVOU0lWRSIsIHByaW9yaXR5OiAxMDAsIHBsYXllckhwOiAzMCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRyYXZlbCBGb3JtIiwgaGV4OiAweDQwLCB0eXBlOiAiU05BUkVfQlJFQUsiLCBwcmlvcml0eTogMTAxLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTa3VsbCBCYXNoIiwgaGV4OiAweDBELCB0eXBlOiAiSU5URVJSVVBUIiwgcHJpb3JpdHk6IDk5LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcsIHJlYWN0aW9uQ3VydmU6ICdHT0QnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQ3ljbG9uZSIsIGhleDogMHgxOCwgdHlwZTogIkNIQUlOX0NDIiwgcHJpb3JpdHk6IDk3LCBmb2N1c1RhcmdldDogdHJ1ZSwgb25seUhlYWxlcjogdHJ1ZSwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnRk9DVVMnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiV2lsZCBDaGFyZ2UiLCBoZXg6IDB4MUIsIHR5cGU6ICJHQVBfQ0xPU0VSIiwgcHJpb3JpdHk6IDk2LCBtaW5SYW5nZTogMTAsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlJlZ3Jvd3RoIiwgaGV4OiAweDE2LCB0eXBlOiAiT0ZGX0hFQUwiLCBwcmlvcml0eTogOTUsIGJ1ZmZQcmVzZW50OiAiUHJlZGF0b3J5IFN3aWZ0bmVzcyIsIHBsYXllckhwOiA2MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQmVyc2VyayIsIGhleDogMHgxMCwgdHlwZTogIkJVUlNUIiwgcHJpb3JpdHk6IDkzLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicsIHdpbmRvdzogJ0JVUlNUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRpZ2VyJ3MgRnVyeSIsIGhleDogMHgxMSwgdHlwZTogIk1BSU5UQUlOX0JVRkYiLCBwcmlvcml0eTogOTIsIHJlc291cmNlOiAiUFJJTUFSWSIsIGNvc3Q6IDMwLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJGZXJhbCBGcmVuenkiLCBoZXg6IDB4MDYsIHR5cGU6ICJCVVJTVCIsIHByaW9yaXR5OiA5MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiRmVyb2Npb3VzIEJpdGUiLCBoZXg6IDB4MDUsIHR5cGU6ICJFWEVDVVRFIiwgcHJpb3JpdHk6IDg4LCByZXNvdXJjZTogIlNFQ09OREFSWSIsIGNvc3Q6IDUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlJpcCIsIGhleDogMHgwNCwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4NSwgcmVzb3VyY2U6ICJTRUNPTkRBUlkiLCBjb3N0OiA1LCBidWZmTWlzc2luZzogIlJpcCIsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlJha2UiLCBoZXg6IDB4MDIsIHR5cGU6ICJEQU1BR0UiLCBwcmlvcml0eTogODAsIGJ1ZmZNaXNzaW5nOiAiUmFrZSIsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNocmVkIiwgaGV4OiAweDAxLCB0eXBlOiAiREFNQUdFIiwgcHJpb3JpdHk6IDYwLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICAgaWQ6IDEsIG5hbWU6ICJXYXJyaW9yIiwgY29sb3I6ICIjQzc5QzZFIiwKICAgICAgICBzcGVjczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMSwgbmFtZTogIkFybXMiLCByb2xlOiAiRFBTIiwgcmVzb3VyY2VOYW1lOiAiUmFnZSIsCiAgICAgICAgICAgICAgICBtZWxlZUNoZWNrU3BlbGw6ICJNb3J0YWwgU3RyaWtlIiwKICAgICAgICAgICAgICAgIHJhbmdlQ2hlY2tTcGVsbDogIkNoYXJnZSIsCiAgICAgICAgICAgICAgICBsb2Fkb3V0czogW3sgbmFtZTogIldhcmxvcmQiLCB0eXBlOiAiQVJFTkEiLCBzcGVsbHM6IFsiTW9ydGFsIFN0cmlrZSIsICJFeGVjdXRlIiwgIk92ZXJwb3dlciIsICJDb2xvc3N1cyBTbWFzaCIsICJCbGFkZXN0b3JtIiwgIlNoYXJwZW4gQmxhZGUiLCAiU3Rvcm0gQm9sdCIsICJEaXNhcm0iLCAiU3BlbGwgUmVmbGVjdGlvbiIsICJJbnRlcnZlbmUiLCAiSGVyb2ljIExlYXAiLCAiQ2hhcmdlIiwgIkhhbXN0cmluZyIsICJQdW1tZWwiLCAiSW50aW1pZGF0aW5nIFNob3V0IiwgIlNoYXR0ZXJpbmcgVGhyb3ciLCAiVGF1bnQiXSB9XSwKICAgICAgICAgICAgICAgIHNwZWxsczogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRhdW50IiwgaGV4OiAweDM1LCB0eXBlOiAiUEVUX1RBVU5UIiwgcHJpb3JpdHk6IDEwMSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdBUkVOQTEnLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNwZWxsIFJlZmxlY3Rpb24iLCBoZXg6IDB4MTksIHR5cGU6ICJQUkVfRU1QVCIsIHByaW9yaXR5OiAxMDEsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnUExBWUVSJywgcmVhY3Rpb25DdXJ2ZTogJ0dPRCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTaGF0dGVyaW5nIFRocm93IiwgaGV4OiAweDFELCB0eXBlOiAiU1RSSVBfSU1NVU5JVFkiLCBwcmlvcml0eTogMTAwLCBtb3Zpbmc6IGZhbHNlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUHVtbWVsIiwgaGV4OiAweDBELCB0eXBlOiAiRk9DVVNfSU5URVJSVVBUIiwgcHJpb3JpdHk6IDEwMCwgZm9jdXNUYXJnZXQ6IHRydWUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnRk9DVVMnLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhhbXN0cmluZyIsIGhleDogMHgzMCwgdHlwZTogIlRPVEVNX1NUT01QIiwgcHJpb3JpdHk6IDk5LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ01PVVNFT1ZFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIZXJvaWMgTGVhcCIsIGhleDogMHg0MCwgdHlwZTogIkdBUF9DTE9TRVIiLCBwcmlvcml0eTogOTYsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJywgZ3JvdW5kVGFyZ2V0OiB0cnVlIH0sIC8vIEBjdXJzb3IKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTdG9ybSBCb2x0IiwgaGV4OiAweDBDLCB0eXBlOiAiQkFDS1VQX0lOVEVSUlVQVCIsIHByaW9yaXR5OiA5OSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU2hhcnBlbiBCbGFkZSIsIGhleDogMHgxNSwgdHlwZTogIkJVUlNUIiwgcHJpb3JpdHk6IDkyLCBpc1B2UFRhbGVudDogdHJ1ZSwgY29vbGRvd246IDI1LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJFeGVjdXRlIiwgaGV4OiAweDA1LCB0eXBlOiAiRVhFQ1VURSIsIHByaW9yaXR5OiA4OCwgbWF4SHA6IDM1LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcsIHdpbmRvdzogJ0VYRUNVVEUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTW9ydGFsIFN0cmlrZSIsIGhleDogMHgwMSwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4NSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9Cl07Ci8vIC0tLSBEeW5hbWljIEdlbmVyYXRvcnMgLS0tCmNvbnN0IGdlbmVyYXRlTHVhQ29kZSA9IChzcGVjKSA9PiB7CiAgICAvLyAxLiBTcGVsbHMKICAgIGNvbnN0IG1vbml0b3JlZFNwZWxscyA9IHNwZWMuc3BlbGxzLm1hcChzID0+IGBbIiR7cy5uYW1lfSJdID0gdHJ1ZWApLmpvaW4oJywnKTsKICAgIC8vIDIuIEJ1ZmYgU3RhY2tzIChQMjkpCiAgICBjb25zdCB0cmFja0J1ZmZMb2dpYyA9IHNwZWMudHJhY2tCdWZmU3RhY2tzID8gYAogICAgbG9jYWwgXywgXywgY291bnQgPSBBdXJhVXRpbC5GaW5kQXVyYUJ5TmFtZSgiJHtzcGVjLnRyYWNrQnVmZlN0YWNrc30iLCAicGxheWVyIikKICAgIFNldFBpeGVsKDI5LCAoY291bnQgb3IgMCkgKiAxMCkKICAgIGAgOiBgU2V0UGl4ZWwoMjksIDApYDsKICAgIC8vIDMuIFJhbmdlIFRyaWFuZ3VsYXRpb24gKFAyMSkKICAgIGNvbnN0IHJhbmdlTG9naWMgPSBgCiAgICBsb2NhbCByYW5nZVZhbCA9IDAKICAgIGlmIElzU3BlbGxJblJhbmdlKCIke3NwZWMubWVsZWVDaGVja1NwZWxsIHx8ICdBdHRhY2snfSIsICJ0YXJnZXQiKSA9PSAxIHRoZW4KICAgICAgICByYW5nZVZhbCA9IDEwIC0tIE1lbGVlIFJhbmdlICg8NS04eWQpCiAgICBlbHNlaWYgSXNTcGVsbEluUmFuZ2UoIiR7c3BlYy5yYW5nZUNoZWNrU3BlbGwgfHwgJ0F0dGFjayd9IiwgInRhcmdldCIpID09IDEgdGhlbgogICAgICAgIHJhbmdlVmFsID0gMjAgLS0gTWlkIFJhbmdlICg8MzAtNDB5ZCkKICAgIGVsc2UKICAgICAgICByYW5nZVZhbCA9IDMwIC0tIE91dCBvZiBSYW5nZQogICAgZW5kCiAgICBTZXRQaXhlbCgyMSwgcmFuZ2VWYWwgKiA4KQogICAgYDsKICAgIC8vIDQuIEZvY3VzIFRyYWNraW5nIChUSEUgVEhJUkQgRVlFIC0gUDExICYgUDEyKQogICAgY29uc3QgZm9jdXNMb2dpYyA9IGAKICAgIGxvY2FsIGZOYW1lLCBfLCBfLCBmU3RhcnQsIGZFbmQsIF8sIF8sIGZOb0ludCA9IFVuaXRDYXN0aW5nSW5mbygiZm9jdXMiKQogICAgaWYgbm90IGZOYW1lIHRoZW4gZk5hbWUsIF8sIF8sIGZTdGFydCwgZkVuZCwgXywgZk5vSW50ID0gVW5pdENoYW5uZWxJbmZvKCJmb2N1cyIpIGVuZAogICAgbG9jYWwgZkNhc3RWYWwgPSAwCiAgICBpZiBmTmFtZSBhbmQgbm90IGZOb0ludCBhbmQgREFOR0VST1VTW2ZOYW1lXSB0aGVuCiAgICAgICAgbG9jYWwgbm93ID0gR2V0VGltZSgpICogMTAwMAogICAgICAgIGxvY2FsIGR1cmF0aW9uID0gZkVuZCAtIGZTdGFydAogICAgICAgIGZDYXN0VmFsID0gMSArICgobm93IC0gZlN0YXJ0KSAvIGR1cmF0aW9uICogMjU0KQogICAgZW5kCiAgICBTZXRQaXhlbCgxMSwgZkNhc3RWYWwpCgogICAgbG9jYWwgZlN0YXR1cyA9IDAKICAgIGlmIFVuaXRFeGlzdHMoImZvY3VzIikgdGhlbgogICAgICAgIGZTdGF0dXMgPSBmU3RhdHVzICsgMSAKICAgICAgICBsb2NhbCBpZCA9IEdldEluc3BlY3RTcGVjaWFsaXphdGlvbigiZm9jdXMiKQogICAgICAgIGxvY2FsIGhlYWxlcnMgPSB7WzEwNV09dHJ1ZSwgWzI3MF09dHJ1ZSwgWzY1XT10cnVlLCBbMjU2XT10cnVlLCBbMjU3XT10cnVlLCBbMjY0XT10cnVlLCBbMTQ2OF09dHJ1ZX0KICAgICAgICBpZiBoZWFsZXJzW2lkXSB0aGVuIGZTdGF0dXMgPSBmU3RhdHVzICsgMiBlbmQKICAgICAgICBpZiBJc1NwZWxsSW5SYW5nZSgiJHtzcGVjLnJhbmdlQ2hlY2tTcGVsbCB8fCAnQXR0YWNrJ30iLCAiZm9jdXMiKSA9PSAxIHRoZW4gZlN0YXR1cyA9IGZTdGF0dXMgKyA0IGVuZAogICAgICAgIGZvciBpPTEsNDAgZG8KICAgICAgICAgICAgbG9jYWwgXywgXywgXywgXywgZHVyYXRpb24sIGV4cGlyYXRpb25UaW1lLCBfLCBfLCBfLCBzcGVsbElkID0gVW5pdERlYnVmZigiZm9jdXMiLCBpKQogICAgICAgICAgICBpZiBub3Qgc3BlbGxJZCB0aGVuIGJyZWFrIGVuZAogICAgICAgICAgICBmU3RhdHVzID0gZlN0YXR1cyArIDggCiAgICAgICAgICAgIGlmIGV4cGlyYXRpb25UaW1lIGFuZCAoZXhwaXJhdGlvblRpbWUgLSBHZXRUaW1lKCkgPCAxLjUpIHRoZW4gZlN0YXR1cyA9IGZTdGF0dXMgKyAxNiBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgU2V0UGl4ZWwoMTIsIGZTdGF0dXMgKiA1KQogICAgYDsKICAgIC8vIDUuIEltbXVuaXR5IFRyYWNraW5nIChQMTMpCiAgICBjb25zdCBpbW11bml0eUxvZ2ljID0gYAogICAgbG9jYWwgaW1tdW5pdHlTdGF0ZSA9IDAKICAgIGlmIFVuaXRFeGlzdHMoInRhcmdldCIpIHRoZW4KICAgICAgICBsb2NhbCBidWZmcyA9IHsgWzY0Ml0gPSAzLCBbNDU0MzhdID0gMywgWzEwMjJdID0gMSwgWzE4NjI2NV0gPSAxLCBbMzEyMjRdID0gMiB9CiAgICAgICAgZm9yIGk9MSw0MCBkbwogICAgICAgICAgICBsb2NhbCBfLCBfLCBfLCBfLCBfLCBfLCBfLCBfLCBfLCBzcGVsbElkID0gVW5pdEJ1ZmYoInRhcmdldCIsIGkpCiAgICAgICAgICAgIGlmIG5vdCBzcGVsbElkIHRoZW4gYnJlYWsgZW5kCiAgICAgICAgICAgIGlmIGJ1ZmZzW3NwZWxsSWRdIHRoZW4gaW1tdW5pdHlTdGF0ZSA9IGJ1ZmZzW3NwZWxsSWRdIGJyZWFrIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBTZXRQaXhlbCgxMywgaW1tdW5pdHlTdGF0ZSAqIDUwKQogICAgYDsKICAgIC8vIDYuIFRvdGVtIFN0b21waW5nIChQMTUpCiAgICBjb25zdCB0b3RlbUxvZ2ljID0gYAogICAgbG9jYWwgdG90ZW1BY3RpdmUgPSAwCiAgICAtLSBJbiByZWFsIEx1YSB0aGlzIHdvdWxkIHNjYW4gTmFtZXBsYXRlcwogICAgU2V0UGl4ZWwoMTUsIHRvdGVtQWN0aXZlICogMjU1KQogICAgYDsKICAgIC8vIDcuIEFyZW5hICYgQm9zcyBDYXN0aW5nIChQMjQsIFAyNSwgUDI2KQogICAgY29uc3Qgb21uaUxvZ2ljID0gYAogICAgZm9yIGk9MSwzIGRvCiAgICAgICAgbG9jYWwgdW5pdCA9ICJhcmVuYSIuLmkKICAgICAgICBsb2NhbCBjTmFtZSwgXywgXywgY1N0YXJ0LCBjRW5kLCBfLCBfLCBjTm9JbnQgPSBVbml0Q2FzdGluZ0luZm8odW5pdCkKICAgICAgICBpZiBub3QgY05hbWUgdGhlbiBjTmFtZSwgXywgXywgY1N0YXJ0LCBjRW5kLCBfLCBjTm9JbnQgPSBVbml0Q2hhbm5lbEluZm8odW5pdCkgZW5kCiAgICAgICAgbG9jYWwgY1ZhbCA9IDAKICAgICAgICBpZiBjTmFtZSBhbmQgbm90IGNOb0ludCBhbmQgREFOR0VST1VTW2NOYW1lXSB0aGVuIGNWYWwgPSAyNTUgZW5kCiAgICAgICAgU2V0UGl4ZWwoMjMraSwgY1ZhbCkgCiAgICBlbmQKICAgIGA7CiAgICAvLyA4LiBQbGF5ZXIgRGVidWZmcyAoUDE2IC0gUm9vdHMvU25hcmVzL0JyZWFrYWJsZSBDQykKICAgIGNvbnN0IHBsYXllckRlYnVmZkxvZ2ljID0gYAogICAgbG9jYWwgcFN0YXRlID0gMAogICAgZm9yIGk9MSw0MCBkbwogICAgICAgIGxvY2FsIG5hbWUsIF8sIF8sIHR5cGUsIF8sIF8sIF8sIF8sIF8sIGlkID0gVW5pdERlYnVmZigicGxheWVyIiwgaSkKICAgICAgICBpZiBub3QgaWQgdGhlbiBicmVhayBlbmQKICAgICAgICBpZiBpZCA9PSAyMTM2OTEgdGhlbiBwU3RhdGUgPSBwU3RhdGUgKyA0IGVuZCAtLSBTY2F0dGVyCiAgICBlbmQKICAgIGxvY2FsIHNwZWVkID0gR2V0VW5pdFNwZWVkKCJwbGF5ZXIiKQogICAgaWYgc3BlZWQgPiAwIGFuZCBzcGVlZCA8IDcgdGhlbiBwU3RhdGUgPSBwU3RhdGUgKyAyIGVuZCAKICAgIFNldFBpeGVsKDE2LCBwU3RhdGUgKiAxMCkKICAgIGA7CiAgICAvLyA5LiBQZXQgSGVhbHRoIChQMjIpCiAgICBjb25zdCBwZXRMb2dpYyA9IGAKICAgIGxvY2FsIHBocCA9IDAKICAgIGlmIFVuaXRFeGlzdHMoInBldCIpIHRoZW4gCiAgICAgICAgcGhwID0gVW5pdEhlYWx0aCgicGV0IikgLyBVbml0SGVhbHRoTWF4KCJwZXQiKSAKICAgIGVsc2VpZiAoR2V0TnVtR3JvdXBNZW1iZXJzKCkgPT0gMCkgdGhlbgogICAgICAgIC0tIFNvbG8gbG9naWM6IGlmIG5vIHBldCBhbmQgbm90IGRlYWQvZGlzbWlzc2VkIG9uIHB1cnBvc2UKICAgICAgICAtLSBwaHAgPSAwIChEZWFkL01pc3NpbmcpCiAgICBlbmQKICAgIFNldFBpeGVsKDIyLCBwaHAgKiAyNTUpCiAgICBgOwogICAgLy8gMTAuIFNuYXBzaG90IEJ1ZmZzIChQMzApIC0gVHJhY2tzIE1ham9yIENEcyBmb3IgRG9UIGxvZ2ljCiAgICBjb25zdCBzbmFwc2hvdExvZ2ljID0gYAogICAgbG9jYWwgc25hcCA9IDAKICAgIC0tIERhcmsgU291bCwgUG93ZXIgSW5mdXNpb24sIFRpZ2VyJ3MgRnVyeSwgZXRjCiAgICBsb2NhbCBidWZmcyA9IHsgWzExMzg2MF09dHJ1ZSwgWzEwMDYwXT10cnVlLCBbNTIxN109dHJ1ZSB9IAogICAgZm9yIGk9MSw0MCBkbwogICAgICAgIGxvY2FsIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIHNwZWxsSWQgPSBVbml0QnVmZigicGxheWVyIiwgaSkKICAgICAgICBpZiBub3Qgc3BlbGxJZCB0aGVuIGJyZWFrIGVuZAogICAgICAgIGlmIGJ1ZmZzW3NwZWxsSWRdIHRoZW4gc25hcCA9IDI1NSBicmVhayBlbmQKICAgIGVuZAogICAgU2V0UGl4ZWwoMzAsIHNuYXApCiAgICBgOwogICAgcmV0dXJuIGAtLSBTa2lsbFdlYXZlcl9BZGRvbi5sdWEKLS0gQVVUT01BVElDQUxMWSBHRU5FUkFURUQgRk9SOiAke3NwZWMubmFtZS50b1VwcGVyQ2FzZSgpfQotLSBQUk9UT0NPTCB2MjIuMCAoU1RFQUxUSCBQSEFOVE9NKQpsb2NhbCBBRERPTl9OQU1FID0gIlNraWxsV2VhdmVyIgpsb2NhbCBmID0gQ3JlYXRlRnJhbWUoIkZyYW1lIiwgQURET05fTkFNRSAuLiAiRnJhbWUiLCBVSVBhcmVudCkKZjpTZXRTaXplKDMyLCAxKSAKZjpTZXRQb2ludCgiQk9UVE9NTEVGVCIsIFVJUGFyZW50LCAiQk9UVE9NTEVGVCIsIDAsIDApCmY6U2V0RnJhbWVTdHJhdGEoIkJBQ0tHUk9VTkQiKSAKCmxvY2FsIERBTkdFUk9VUyA9IHsgJHtQVlBfS0lDS1MubWFwKHMgPT4gYFsiJHtzfSJdPXRydWVgKS5qb2luKCcsICcpfSB9Cgpsb2NhbCBwaXhlbHMgPSB7fQpmb3IgaSA9IDAsIDMxIGRvCiAgICBsb2NhbCB0ID0gZjpDcmVhdGVUZXh0dXJlKG5pbCwgIk9WRVJMQVkiKQogICAgdDpTZXRTaXplKDEsIDEpCiAgICB0OlNldFBvaW50KCJMRUZUIiwgZiwgIkxFRlQiLCBpLCAwKQogICAgLS0gQkFTRUxJTkU6IDEwJSBHcmF5LiBUaGlzIGlzIG91ciAiWmVybyIuCiAgICB0OlNldENvbG9yVGV4dHVyZSgwLjEsIDAuMSwgMC4xKQogICAgcGl4ZWxzW2ldID0gdAplbmQKCi0tIFNURUFMVEggUFJPVE9DT0w6IEVuY29kZSBkYXRhIGluIEJsdWUgY2hhbm5lbCBvZmZzZXQKbG9jYWwgZnVuY3Rpb24gU2V0UGl4ZWwoaW5kZXgsIHZhbHVlKQogICAgbG9jYWwgYmFzZSA9IDAuMQogICAgbG9jYWwgZGlmZiA9IHZhbHVlIC8gMjU1CiAgICAtLSBSPUJhc2UsIEc9QmFzZSwgQj1CYXNlICsgRGF0YQogICAgLS0gVGhlICJSZWFkaW5nIiBlbmdpbmUgd2lsbCBzdWJ0cmFjdCBSIGZyb20gQiB0byBnZXQgRGF0YS4KICAgIC0tIFRoaXMgY2FuY2VscyBvdXQgR2FtbWEvQnJpZ2h0bmVzcy9OaWdodExpZ2h0IHNldHRpbmdzLgogICAgcGl4ZWxzW2luZGV4XTpTZXRDb2xvclRleHR1cmUoYmFzZSwgYmFzZSwgYmFzZSArIGRpZmYpCmVuZAoKZjpTZXRTY3JpcHQoIk9uVXBkYXRlIiwgZnVuY3Rpb24oKQogICAgLS0gMDogQ2FsaWJyYXRpb24gKEFsd2F5cyAwLCB1c2VkIGFzIG5vaXNlIGZsb29yKQogICAgU2V0UGl4ZWwoMCwgMCkKCiAgICAtLSAxOiBIYXNoCiAgICBsb2NhbCBfLCBfLCBjbGFzc0lEID0gVW5pdENsYXNzKCJwbGF5ZXIiKQogICAgbG9jYWwgc3BlY0lEID0gR2V0U3BlY2lhbGl6YXRpb24oKSBvciAwCiAgICBTZXRQaXhlbCgxLCAoY2xhc3NJRCAqIDEwKSArIHNwZWNJRCkKCiAgICAtLSAyOiBDb21iYXQKICAgIFNldFBpeGVsKDIsIFVuaXRBZmZlY3RpbmdDb21iYXQoInBsYXllciIpIGFuZCAyNTUgb3IgMCkKCiAgICAtLSAzOiBQbGF5ZXIgSFAKICAgIFNldFBpeGVsKDMsIChVbml0SGVhbHRoKCJwbGF5ZXIiKSAvIFVuaXRIZWFsdGhNYXgoInBsYXllciIpKSAqIDI1NSkKCiAgICAtLSA0OiBUYXJnZXQgSFAKICAgIGxvY2FsIHRocCA9IDAKICAgIGlmIFVuaXRFeGlzdHMoInRhcmdldCIpIHRoZW4gdGhwID0gVW5pdEhlYWx0aCgidGFyZ2V0IikgLyBVbml0SGVhbHRoTWF4KCJ0YXJnZXQiKSBlbmQKICAgIFNldFBpeGVsKDQsIHRocCAqIDI1NSkKCiAgICAtLSA1OiBUYXJnZXQgVmFsaWQKICAgIFNldFBpeGVsKDUsIChVbml0RXhpc3RzKCJ0YXJnZXQiKSBhbmQgVW5pdENhbkF0dGFjaygicGxheWVyIiwgInRhcmdldCIpKSBhbmQgMjU1IG9yIDApCgogICAgLS0gNjogU21hcnQgSW50ZXJydXB0IChUYXJnZXQpCiAgICBsb2NhbCBuYW1lLCBfLCBfLCBzdGFydFRpbWUsIGVuZFRpbWUsIF8sIF8sIG5vdEludGVycnVwdGlibGUgPSBVbml0Q2FzdGluZ0luZm8oInRhcmdldCIpCiAgICBpZiBub3QgbmFtZSB0aGVuIG5hbWUsIF8sIF8sIHN0YXJ0VGltZSwgZW5kVGltZSwgXywgbm90SW50ZXJydXB0aWJsZSA9IFVuaXRDaGFubmVsSW5mbygidGFyZ2V0IikgZW5kCiAgICBsb2NhbCBjYXN0VmFsID0gMAogICAgaWYgbmFtZSBhbmQgbm90IG5vdEludGVycnVwdGlibGUgYW5kIERBTkdFUk9VU1tuYW1lXSB0aGVuCiAgICAgICAgbG9jYWwgbm93ID0gR2V0VGltZSgpICogMTAwMAogICAgICAgIGxvY2FsIGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZQogICAgICAgIGxvY2FsIHByb2dyZXNzID0gKG5vdyAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbgogICAgICAgIGNhc3RWYWwgPSAxICsgKHByb2dyZXNzICogMjU0KQogICAgZW5kCiAgICBTZXRQaXhlbCg2LCBjYXN0VmFsKQoKICAgIC0tIDc6IFByaW1hcnkgUmVzb3VyY2UKICAgIGxvY2FsIHBvd2VyID0gVW5pdFBvd2VyKCJwbGF5ZXIiKQogICAgbG9jYWwgbWF4ID0gVW5pdFBvd2VyTWF4KCJwbGF5ZXIiKQogICAgU2V0UGl4ZWwoNywgKG1heCA+IDApIGFuZCAocG93ZXIgLyBtYXggKiAyNTUpIG9yIDApCgogICAgLS0gODogU2Vjb25kYXJ5IFJlc291cmNlCiAgICAke3NwZWMuc2Vjb25kYXJ5UG93ZXJJZCA/IGBTZXRQaXhlbCg4LCBVbml0UG93ZXIoInBsYXllciIsICR7c3BlYy5zZWNvbmRhcnlQb3dlcklkfSkgKiAyNSlgIDogYFNldFBpeGVsKDgsIDApYH0KCiAgICAtLSA5OiBSYW5nZSAoTGVnYWN5KQogICAgU2V0UGl4ZWwoOSwgKElzU3BlbGxJblJhbmdlKCIke3NwZWMuc3BlbGxzWzBdPy5uYW1lIHx8ICdBdHRhY2snfSIsICJ0YXJnZXQiKSA9PSAxKSBhbmQgMjU1IG9yIDApCgogICAgLS0gMTA6IEdDRAogICAgbG9jYWwgc3RhcnQsIGR1cmF0aW9uID0gR2V0U3BlbGxDb29sZG93big2MTMwNCkgCiAgICBTZXRQaXhlbCgxMCwgKGR1cmF0aW9uID09IDApIGFuZCAyNTUgb3IgMCkgCiAgICAKICAgIC0tIDExICYgMTI6IEZvY3VzIExvZ2ljCiAgICAke2ZvY3VzTG9naWN9CgogICAgLS0gMTM6IEltbXVuaXR5IFN0YXRlCiAgICAke2ltbXVuaXR5TG9naWN9CgogICAgLS0gMTQ6IEZvY3VzIFRhcmdldHMgTWUKICAgIFNldFBpeGVsKDE0LCAoVW5pdEV4aXN0cygiZm9jdXMiKSBhbmQgVW5pdElzVW5pdCgiZm9jdXN0YXJnZXQiLCAicGxheWVyIikpIGFuZCAyNTUgb3IgMCkKCiAgICAtLSAxNTogVG90ZW0gQWN0aXZlCiAgICAke3RvdGVtTG9naWN9CiAgICAKICAgIC0tIDE2OiBQbGF5ZXIgRGVidWZmcyAoUm9vdHMvU25hcmUvU2NhdHRlcikKICAgICR7cGxheWVyRGVidWZmTG9naWN9CgogICAgLS0gMTc6IFRhcmdldGluZyBNZQogICAgU2V0UGl4ZWwoMTcsIFVuaXRJc1VuaXQoInRhcmdldHRhcmdldCIsICJwbGF5ZXIiKSBhbmQgMjU1IG9yIDApCgogICAgLS0gMTg6IFRhcmdldCBDbGFzcwogICAgbG9jYWwgXywgXywgdGFyZ2V0Q2xhc3NJRCA9IFVuaXRDbGFzcygidGFyZ2V0IikKICAgIFNldFBpeGVsKDE4LCAodGFyZ2V0Q2xhc3NJRCBvciAwKSAqIDEwKSAKICAgIAogICAgLS0gMTk6IEVuZW15IENvdW50CiAgICBsb2NhbCBlbmVteUNvdW50ID0gMAogICAgaWYgQ19OYW1lUGxhdGUgdGhlbgogICAgICAgIGZvciBfLCBwbGF0ZSBpbiBwYWlycyhDX05hbWVQbGF0ZS5HZXROYW1lUGxhdGVzKCkpIGRvCiAgICAgICAgICAgIGxvY2FsIHVuaXQgPSBwbGF0ZS5Vbml0RnJhbWUgYW5kIHBsYXRlLlVuaXRGcmFtZS51bml0CiAgICAgICAgICAgIGlmIHVuaXQgYW5kIFVuaXRDYW5BdHRhY2soInBsYXllciIsIHVuaXQpIGFuZCBVbml0QWZmZWN0aW5nQ29tYmF0KHVuaXQpIHRoZW4gZW5lbXlDb3VudCA9IGVuZW15Q291bnQgKyAxIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBTZXRQaXhlbCgxOSwgbWF0aC5taW4oMjU1LCBlbmVteUNvdW50ICogMTApKQoKICAgIC0tIDIwOiBDQyBTdGF0ZQogICAgU2V0UGl4ZWwoMjAsIDApIAoKICAgIC0tIDIxOiBSYW5nZSBUaWVyCiAgICAke3JhbmdlTG9naWN9CiAgICAKICAgIC0tIDIyOiBQZXQgSGVhbHRoCiAgICAke3BldExvZ2ljfQoKICAgIC0tIDIzOiBQdXJnZWFibGUgQ291bnQKICAgIGxvY2FsIHBDb3VudCA9IDAKICAgIGlmIFVuaXRFeGlzdHMoInRhcmdldCIpIHRoZW4KICAgICAgICBmb3IgaT0xLDQwIGRvCiAgICAgICAgICAgIGxvY2FsIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIHNwZWxsSWQsIF8sIGlzU3RlYWxhYmxlID0gVW5pdEJ1ZmYoInRhcmdldCIsIGkpCiAgICAgICAgICAgIGlmIG5vdCBzcGVsbElkIHRoZW4gYnJlYWsgZW5kCiAgICAgICAgICAgIGlmIGlzU3RlYWxhYmxlIHRoZW4gcENvdW50ID0gcENvdW50ICsgMSBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgU2V0UGl4ZWwoMjMsIG1hdGgubWluKDI1NSwgcENvdW50ICogMTApKQoKICAgIC0tIDI0LCAyNSwgMjY6IEFyZW5hIEludGVycnVwdHMKICAgICR7b21uaUxvZ2ljfQoKICAgIC0tIDI3OiBUYXJnZXQgU3BlYyBJRAogICAgbG9jYWwgdGFyZ2V0U3BlY0lEID0gMAogICAgaWYgVW5pdElzUGxheWVyKCJ0YXJnZXQiKSB0aGVuCiAgICAgICAgdGFyZ2V0U3BlY0lEID0gR2V0SW5zcGVjdFNwZWNpYWxpemF0aW9uKCJ0YXJnZXQiKQogICAgZW5kCiAgICBTZXRQaXhlbCgyNywgbWF0aC5taW4oMjU1LCAodGFyZ2V0U3BlY0lEIG9yIDApIC8gMikpCgogICAgLS0gMjg6IFBsYXllciBNb3ZpbmcKICAgIFNldFBpeGVsKDI4LCAoR2V0VW5pdFNwZWVkKCJwbGF5ZXIiKSA+IDApIGFuZCAyNTUgb3IgMCkKCiAgICAtLSAyOTogQnVmZiBTdGFja3MKICAgICR7dHJhY2tCdWZmTG9naWN9CgogICAgLS0gMzA6IFNuYXBzaG90IC8gRG9UIExvZ2ljCiAgICAke3NuYXBzaG90TG9naWN9CiAgICAKICAgIC0tIDMxOiBHVEZPCiAgICBTZXRQaXhlbCgzMSwgMCkKCmVuZCkKYDsKfTsKY29uc3QgZ2VuZXJhdGVQeXRob25Db2RlID0gKHNwZWNIYXNoKSA9PiB7CiAgICByZXR1cm4gYCMgTG9naWNFbmdpbmUucHkKIyBQUk9UT0NPTCB2MjIuMCAoU1RFQUxUSCBQSEFOVE9NKQojIERpZmZlcmVudGlhbCBSR0IgRGVjb2Rpbmc6IChCbHVlIC0gUmVkKSA9IERhdGEKCmltcG9ydCB0aW1lCmltcG9ydCBqc29uCmltcG9ydCBzZXJpYWwKaW1wb3J0IG1zcwppbXBvcnQgbnVtcHkgYXMgbnAKZnJvbSBQSUwgaW1wb3J0IEltYWdlCgojIENPTkZJR1VSQVRJT04KTE9HSUNfREJfUEFUSCA9ICIke3NwZWNIYXNofS5qc29uIgpTRVJJQUxfUE9SVCA9ICJDT00zIgpCQVVEX1JBVEUgPSA5NjAwClJFVElOQV9TQ0FMRSA9IDIgIyBTZXQgdG8gMiBmb3IgTWFjL1JldGluYSwgMSBmb3IgU3RhbmRhcmQKCiMgR0FNRSBTVEFURSAoTUlSUk9SUyBMVUEpCmNsYXNzIEdhbWVTdGF0ZToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmNvbWJhdCA9IEZhbHNlCiAgICAgICAgc2VsZi5wbGF5ZXJfaHAgPSAxMDAKICAgICAgICBzZWxmLnRhcmdldF9ocCA9IDEwMAogICAgICAgIHNlbGYucmVzb3VyY2VzID0gMAogICAgICAgIHNlbGYucmFuZ2VfdGllciA9IDAKICAgICAgICBzZWxmLnBldF9ocCA9IDEwMAogICAgICAgIHNlbGYuc25hcHNob3RfYWN0aXZlID0gRmFsc2UKICAgICAgICBzZWxmLnNhZmVfbW92ZW1lbnQgPSBUcnVlICMgRGVmYXVsdCBTYWZldHkKCiAgICBkZWYgZGVjb2RlX3BpeGVsKHNlbGYsIHB4KToKICAgICAgICAjIERpZmZlcmVudGlhbCBEZWNvZGluZwogICAgICAgICMgQmFzZSBDb2xvciBpcyAoMC4xLCAwLjEsIDAuMSkKICAgICAgICAjIERhdGEgaXMgYWRkZWQgdG8gQmx1ZSBjaGFubmVsLgogICAgICAgICMgU28gRGF0YSA9IEJsdWUgLSBSZWQKICAgICAgICAjIFdlIGFzc3VtZSAwLTI1NSBpbnB1dHMgZnJvbSBtc3MKICAgICAgICAKICAgICAgICByID0gaW50KHB4WzBdKQogICAgICAgIGIgPSBpbnQocHhbMl0pCiAgICAgICAgCiAgICAgICAgIyBTaW1wbGUgc3VidHJhY3Rpb24gd2l0aCBmbG9vciBjbGFtcGluZwogICAgICAgIHZhbCA9IG1heCgwLCBiIC0gcikKICAgICAgICByZXR1cm4gdmFsCgogICAgZGVmIHVwZGF0ZShzZWxmLCBwaXhlbHMpOgogICAgICAgICMgUGl4ZWwgbWFwcGluZyAoUmV0aW5hIHN0cmlkZSBoYW5kbGVkIGluIG1haW4gbG9vcCkKICAgICAgICAKICAgICAgICBzZWxmLmNvbWJhdCA9IHNlbGYuZGVjb2RlX3BpeGVsKHBpeGVsc1syXSkgPiAxMjgKICAgICAgICBzZWxmLnBsYXllcl9ocCA9IChzZWxmLmRlY29kZV9waXhlbChwaXhlbHNbM10pIC8gMjU1LjApICogMTAwCiAgICAgICAgc2VsZi50YXJnZXRfaHAgPSAoc2VsZi5kZWNvZGVfcGl4ZWwocGl4ZWxzWzRdKSAvIDI1NS4wKSAqIDEwMAogICAgICAgIHNlbGYucGV0X2hwID0gKHNlbGYuZGVjb2RlX3BpeGVsKHBpeGVsc1syMl0pIC8gMjU1LjApICogMTAwCiAgICAgICAgc2VsZi5zbmFwc2hvdF9hY3RpdmUgPSBzZWxmLmRlY29kZV9waXhlbChwaXhlbHNbMzBdKSA+IDEyOAogICAgICAgIAogICAgICAgICMgQWR2YW5jZWQgUGFyc2luZwogICAgICAgICMgUGl4ZWwgMTY6IERlYnVmZnMgKDE9Um9vdCwgMj1TbmFyZSwgND1TY2F0dGVyKQogICAgICAgIGRlYnVmZl92YWwgPSBpbnQoKHNlbGYuZGVjb2RlX3BpeGVsKHBpeGVsc1sxNl0pIC8gMjU1LjApICogMTApCiAgICAgICAgc2VsZi5yb290ZWQgPSAoZGVidWZmX3ZhbCAmIDEpID4gMAogICAgICAgIHNlbGYuc2NhdHRlcmVkID0gKGRlYnVmZl92YWwgJiA0KSA+IDAKCiMgTE9BRCBMT0dJQwp3aXRoIG9wZW4oTE9HSUNfREJfUEFUSCwgJ3InKSBhcyBmOgogICAgUk9UQVRJT04gPSBqc29uLmxvYWQoZikKCmRlZiBldmFsdWF0ZV9sb2dpYyhzdGF0ZSk6CiAgICBmb3IgcnVsZSBpbiBST1RBVElPTjoKICAgICAgICAjIENoZWNrIFNhZmV0eSBHYXRlIGZvciBNb3ZlbWVudAogICAgICAgIGlmIHJ1bGUuZ2V0KCdhY3Rpb25fdHlwZScpID09ICdTQUZFX01PVkVNRU5UJyBhbmQgbm90IHN0YXRlLnNhZmVfbW92ZW1lbnQ6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIAogICAgICAgICMgQ2hlY2sgQ29uZGl0aW9ucwogICAgICAgIGNvbmRpdGlvbnNfbWV0ID0gVHJ1ZQogICAgICAgIGZvciBjb25kIGluIHJ1bGVbJ2NvbmRpdGlvbnMnXToKICAgICAgICAgICAgbWV0cmljID0gY29uZFsnbWV0cmljJ10KICAgICAgICAgICAgdmFsID0gY29uZFsndmFsJ10KICAgICAgICAgICAgb3AgPSBjb25kWydvcCddCiAgICAgICAgICAgIAogICAgICAgICAgICBjdXJyZW50X3ZhbCA9IGdldGF0dHIoc3RhdGUsIG1ldHJpYywgMCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG9wID09ICc9PScgYW5kIGN1cnJlbnRfdmFsICE9IHZhbDogY29uZGl0aW9uc19tZXQgPSBGYWxzZQogICAgICAgICAgICBlbGlmIG9wID09ICc+JyBhbmQgY3VycmVudF92YWwgPD0gdmFsOiBjb25kaXRpb25zX21ldCA9IEZhbHNlCiAgICAgICAgICAgIGVsaWYgb3AgPT0gJzwnIGFuZCBjdXJyZW50X3ZhbCA+PSB2YWw6IGNvbmRpdGlvbnNfbWV0ID0gRmFsc2UKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG5vdCBjb25kaXRpb25zX21ldDogYnJlYWsKICAgICAgICAgICAgCiAgICAgICAgaWYgY29uZGl0aW9uc19tZXQ6CiAgICAgICAgICAgIHJldHVybiBydWxlWydoZXgnXQogICAgcmV0dXJuIDAKCmRlZiBtYWluKCk6CiAgICBwcmludCgiU2tpbGxXZWF2ZXIgRW5naW5lIHYyMi4wIE9ubGluZS4uLiIpCiAgICBzY3QgPSBtc3MubXNzKCkKICAgIHRyeToKICAgICAgICBzZXIgPSBzZXJpYWwuU2VyaWFsKFNFUklBTF9QT1JULCBCQVVEX1JBVEUpCiAgICBleGNlcHQ6CiAgICAgICAgcHJpbnQoIldhcm5pbmc6IFNlcmlhbCBQb3J0IG5vdCBmb3VuZC4gUnVubmluZyBpbiBzaW11bGF0aW9uIG1vZGUuIikKICAgICAgICBzZXIgPSBOb25lCiAgICAgICAgCiAgICBzdGF0ZSA9IEdhbWVTdGF0ZSgpCiAgICAKICAgICMgMXB4IGhlaWdodCwgMzJweCB3aWR0aCAoNjQgcGh5c2ljYWwgb24gcmV0aW5hKQogICAgbW9uaXRvciA9IHsidG9wIjogMTA4MCAtIDEsICJsZWZ0IjogMCwgIndpZHRoIjogMzIgKiBSRVRJTkFfU0NBTEUsICJoZWlnaHQiOiAxfSAKICAgIAogICAgd2hpbGUgVHJ1ZToKICAgICAgICBpbWcgPSBucC5hcnJheShzY3QuZ3JhYihtb25pdG9yKSkKICAgICAgICAKICAgICAgICAjIFBhcnNlIFBpeGVscyAoSGFuZGxlIFJldGluYSBTdHJpZGUpCiAgICAgICAgIyBXZSBuZWVkIFJHQiBmb3IgZGlmZmVyZW50aWFsIGRlY29kaW5nCiAgICAgICAgIyBtc3MgcmV0dXJucyBCR1JBLCBzbyBzbGljZSBwcm9wZXJseQogICAgICAgICMgV2UgdGFrZSBldmVyeSBSRVRJTkFfU0NBTEUgcGl4ZWwgZnJvbSB0aGUgZmlyc3Qgcm93CiAgICAgICAgCiAgICAgICAgcmF3X3BpeGVscyA9IGltZ1swLCA6OlJFVElOQV9TQ0FMRV0gCiAgICAgICAgIyBDb252ZXJ0IEJHUkEgdG8gUkdCIGlmIG5lZWRlZCwgYnV0IG91ciBpbmRleCBsb2dpYyAoMD1CLCAyPVIpIGhhbmRsZXMgaXQ/CiAgICAgICAgIyBNU1MgdXN1YWxseSByZXR1cm5zIEJHUkEuIAogICAgICAgICMgSW5kZXggMCBpcyBCbHVlLCBJbmRleCAxIGlzIEdyZWVuLCBJbmRleCAyIGlzIFJlZC4KICAgICAgICAjIE91ciBkZWNvZGUgbG9naWMgdXNlcyBweFswXSBhbmQgcHhbMl0uCiAgICAgICAgIyBJZiBMdWEgc2V0cyBSPUJhc2UsIEI9QmFzZStEaWZmCiAgICAgICAgIyBXZSB3YW50IEIgLSBSLiAKICAgICAgICAjIFNvIHdlIHdhbnQgSW5kZXggMCAtIEluZGV4IDIuCiAgICAgICAgCiAgICAgICAgIyBQYXNzIHJhdyBCR1JBIHBpeGVscyB0byB1cGRhdGUKICAgICAgICBzdGF0ZS51cGRhdGUocmF3X3BpeGVscykKICAgICAgICAKICAgICAgICBpZiBzdGF0ZS5jb21iYXQ6CiAgICAgICAgICAgIGFjdGlvbl9oZXggPSBldmFsdWF0ZV9sb2dpYyhzdGF0ZSkKICAgICAgICAgICAgaWYgYWN0aW9uX2hleCA+IDA6CiAgICAgICAgICAgICAgICBwcmludChmIkFjdGlvbjoge2hleChhY3Rpb25faGV4KX0iKQogICAgICAgICAgICAgICAgaWYgc2VyOgogICAgICAgICAgICAgICAgICAgIHNlci53cml0ZShieXRlcyhbYWN0aW9uX2hleF0pKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjEgKyAobnAucmFuZG9tLnJhbmRvbSgpICogMC4wNSkpICMgSHVtYW4gSml0dGVyCiAgICAgICAgCiAgICAgICAgdGltZS5zbGVlcCgwLjAxKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQpgOwp9Owpjb25zdCBnZW5lcmF0ZVJvdGF0aW9uSnNvbiA9IChzcGVjLCBsb2Fkb3V0TmFtZSwgcmFjZUlkLCBodW1hbiwgc2FmZU1vdmVtZW50KSA9PiB7CiAgICBjb25zdCBhY3RpdmVMb2Fkb3V0ID0gc3BlYy5sb2Fkb3V0cy5maW5kKGwgPT4gbC5uYW1lID09PSBsb2Fkb3V0TmFtZSkgfHwgc3BlYy5sb2Fkb3V0c1swXTsKICAgIGNvbnN0IGFjdGl2ZVNwZWxscyA9IG5ldyBTZXQoYWN0aXZlTG9hZG91dC5zcGVsbHMpOwogICAgY29uc3QgcnVsZXMgPSBbXTsKICAgIC8vIDAuIEhhemFyZCBBdm9pZGFuY2UgCiAgICBjb25zdCBtb3ZlU3BlbGwgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy5hdm9pZGFuY2UgJiYgYWN0aXZlU3BlbGxzLmhhcyhzLm5hbWUpKTsKICAgIGlmIChtb3ZlU3BlbGwpIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtEQU5HRVJdIEdURk86ICR7bW92ZVNwZWxsLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBtb3ZlU3BlbGwuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk5LAogICAgICAgICAgICBjb25kaXRpb25zOiBbeyBtZXRyaWM6ICJpbl9kYW5nZXIiLCBvcDogIj09IiwgdmFsOiB0cnVlIH1dLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogaHVtYW4uZ29kTW9kZSA/IDAgOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuMDAxIEFSRU5BIEtJQ0tTIChPTU5JLURJUkVDVElPTkFMKQogICAgWzEsIDIsIDNdLmZvckVhY2goYXJlbmFJZCA9PiB7CiAgICAgICAgY29uc3QgYXJlbmFLaWNrID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ0FSRU5BX0lOVEVSUlVQVCcgJiYgcy5hcmVuYVRhcmdldCA9PT0gYXJlbmFJZCAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgICAgIGlmIChhcmVuYUtpY2spIHsKICAgICAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiBgW0FQRVhdIEtJQ0sgQVJFTkEgJHthcmVuYUlkfTogJHthcmVuYUtpY2submFtZX1gLAogICAgICAgICAgICAgICAgaGV4OiBhcmVuYUtpY2suaGV4LAogICAgICAgICAgICAgICAgcHJpb3JpdHk6IDEwMDAsCiAgICAgICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICAgICAgeyBtZXRyaWM6IGBhcmVuYSR7YXJlbmFJZH1fY2FzdGluZ2AsIG9wOiAiPT0iLCB2YWw6IHRydWUgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0pOwogICAgLy8gMC4wMDIgVE9URU0gU1RPTVAKICAgIGNvbnN0IHN0b21wZXIgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnVE9URU1fU1RPTVAnICYmIGFjdGl2ZVNwZWxscy5oYXMocy5uYW1lKSk7CiAgICBpZiAoc3RvbXBlcikgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0FQRVhdIFRPVEVNIFNUT01QOiAke3N0b21wZXIubmFtZX1gLAogICAgICAgICAgICBoZXg6IHN0b21wZXIuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogMTAwMCwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJ0b3RlbV9hY3RpdmUiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0gLy8gUDE1CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjAwMyBQRVQgVEFVTlQgKFNDQVRURVIgQ09VTlRFUikKICAgIGNvbnN0IHBldFRhdW50ID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BFVF9UQVVOVCcgJiYgYWN0aXZlU3BlbGxzLmhhcyhzLm5hbWUpKTsKICAgIGlmIChwZXRUYXVudCkgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW1dBUkxPUkRdIFBFVCBUQVVOVDogJHtwZXRUYXVudC5uYW1lfSAoQnJlYWsgU2NhdHRlcilgLAogICAgICAgICAgICBoZXg6IHBldFRhdW50LmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDEwMDAsCiAgICAgICAgICAgIGNvbmRpdGlvbnM6IFsKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAicGxheWVyX2lzX3NjYXR0ZXJlZCIsIG9wOiAiPT0iLCB2YWw6IHRydWUgfSAvLyBQMTYKICAgICAgICAgICAgXSwKICAgICAgICAgICAgcmVhY3Rpb25fb3ZlcnJpZGU6IDAKICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuMDA0IFBFVCBNQU5BR0VNRU5UIChDQUxML1JFVklWRS9NRU5EKQogICAgLy8gMS4gUmV2aXZlCiAgICBjb25zdCByZXZpdmUgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnUEVUX01BTkFHRScgJiYgcy5uYW1lLmluY2x1ZGVzKCJSZXZpdmUiKSk7CiAgICBpZiAocmV2aXZlICYmIGFjdGl2ZVNwZWxscy5oYXMocmV2aXZlLm5hbWUpKSB7CiAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGBbR0hPU1RdIFJFVklWRSBQRVQ6ICR7cmV2aXZlLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiByZXZpdmUuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogMTAwMSwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJwZXRfaHAiLCBvcDogIj09IiwgdmFsOiAwIH0gLy8gUDIyCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAyLiBDYWxsIFBldCAoU2xvdCBCYXNlZCBvciBTcGVjaWZpYyBOYW1lKQogICAgLy8gSWYgc3BlY2lmaWMgcGV0IHN1bW1vbnMgZXhpc3QgaW4gc3BlbGxzIChsaWtlIFdhcmxvY2sgIlN1bW1vbiBGZWxodW50ZXIiKSwgdXNlIHRoZW0uCiAgICBjb25zdCBzcGVjaWZpY1N1bW1vbiA9IHNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdQRVRfTUFOQUdFJyAmJiBzLm5hbWUuc3RhcnRzV2l0aCgiU3VtbW9uIikpOwogICAgaWYgKHNwZWNpZmljU3VtbW9uICYmIGFjdGl2ZVNwZWxscy5oYXMoc3BlY2lmaWNTdW1tb24ubmFtZSkpIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtHSE9TVF0gU1VNTU9OOiAke3NwZWNpZmljU3VtbW9uLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBzcGVjaWZpY1N1bW1vbi5oZXgsCiAgICAgICAgICAgIHByaW9yaXR5OiAxMDAwLAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInBldF9ocCIsIG9wOiAiPT0iLCB2YWw6IDAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogMAogICAgICAgIH0pOwogICAgfQogICAgZWxzZSBpZiAoYWN0aXZlTG9hZG91dC5wZXRTbG90KSB7CiAgICAgICAgLy8gR2VuZXJpYyBDYWxsIFBldCBOCiAgICAgICAgY29uc3QgY2FsbFBldCA9IHNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdQRVRfTUFOQUdFJyAmJiBzLm5hbWUgPT09IGBDYWxsIFBldCAke2FjdGl2ZUxvYWRvdXQucGV0U2xvdH1gKTsKICAgICAgICBpZiAoY2FsbFBldCAmJiBhY3RpdmVTcGVsbHMuaGFzKGNhbGxQZXQubmFtZSkpIHsKICAgICAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiBgW0dIT1NUXSBDQUxMIFBFVCAke2FjdGl2ZUxvYWRvdXQucGV0U2xvdH06ICR7Y2FsbFBldC5uYW1lfWAsCiAgICAgICAgICAgICAgICBoZXg6IGNhbGxQZXQuaGV4LAogICAgICAgICAgICAgICAgcHJpb3JpdHk6IDEwMDAsCiAgICAgICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJwZXRfaHAiLCBvcDogIj09IiwgdmFsOiAwIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogMAogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CiAgICAvLyAzLiBNZW5kCiAgICBjb25zdCBtZW5kID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BFVF9NQU5BR0UnICYmIHMubmFtZS5pbmNsdWRlcygiTWVuZCIpKTsKICAgIGlmIChtZW5kICYmIGFjdGl2ZVNwZWxscy5oYXMobWVuZC5uYW1lKSkgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0dIT1NUXSBNRU5EIFBFVDogJHttZW5kLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBtZW5kLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5OCwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJwZXRfaHAiLCBvcDogIj4iLCB2YWw6IDAgfSwKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAicGV0X2hwIiwgb3A6ICI8IiwgdmFsOiA1MCB9LAogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJidWZmX21lbmRfcGV0Iiwgb3A6ICI9PSIsIHZhbDogZmFsc2UgfQogICAgICAgICAgICBdCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjAwNSBTTkFSRSBCUkVBSyAoRFJVSUQgU0hJRlQgLyBNQVNURVJTIENBTEwpCiAgICBjb25zdCBzbmFyZUJyZWFrID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1NOQVJFX0JSRUFLJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKHNuYXJlQnJlYWspIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtXQVJMT1JEXSBGUkVFRE9NOiAke3NuYXJlQnJlYWsubmFtZX1gLAogICAgICAgICAgICBoZXg6IHNuYXJlQnJlYWsuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk5LAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInBsYXllcl9pc19yb290ZWQiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0gLy8gUDE2CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjAxIEFOVEktQ0MgCiAgICBjb25zdCBhbnRpQ0MgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnQU5USV9DQycgJiYgYWN0aXZlU3BlbGxzLmhhcyhzLm5hbWUpKTsKICAgIGlmIChhbnRpQ0MpIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtXQVJMT1JEXSBBTlRJLUNDOiAke2FudGlDQy5uYW1lfWAsCiAgICAgICAgICAgIGhleDogYW50aUNDLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5OSwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJmb2N1c19jYXN0aW5nIiwgb3A6ICI+IiwgdmFsOiAwLjEgfSwKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAiZm9jdXNfdGFyZ2V0aW5nX21lIiwgb3A6ICI9PSIsIHZhbDogdHJ1ZSB9IC8vIFAxNAogICAgICAgICAgICBdLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogMAogICAgICAgIH0pOwogICAgfQogICAgLy8gMC4wMiBTVFJJUCBJTU1VTklUWSAKICAgIGNvbnN0IHN0cmlwID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1NUUklQX0lNTVVOSVRZJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKHN0cmlwKSB7CiAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGBbV0FSTE9SRF0gU0hBVFRFUjogJHtzdHJpcC5uYW1lfWAsCiAgICAgICAgICAgIGhleDogc3RyaXAuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk5LAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInRhcmdldF9pbW11bml0eSIsIG9wOiAiPT0iLCB2YWw6IDMgfQogICAgICAgICAgICBdCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjEgT1BFTkVSCiAgICBjb25zdCBvcGVuZXIgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnT1BFTkVSJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKG9wZW5lcikgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0dIT1NUXSBPUEVORVI6ICR7b3BlbmVyLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBvcGVuZXIuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk5LAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogImNvbWJhdCIsIG9wOiAiPT0iLCB2YWw6IGZhbHNlIH0sCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInN0ZWFsdGgiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0sCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInRhcmdldF9leGlzdHMiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0KICAgICAgICAgICAgXQogICAgICAgIH0pOwogICAgfQogICAgLy8gMC4yIFNVUlZJVkFMIElURU1TIChIUCA8IDMwJSkKICAgIGNvbnN0IHVzZUl0ZW0gPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnVVNFX0lURU0nICYmIGFjdGl2ZVNwZWxscy5oYXMocy5uYW1lKSk7CiAgICBpZiAodXNlSXRlbSkgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0lURU1dIFNVUlZJVkFMOiAke3VzZUl0ZW0ubmFtZX1gLAogICAgICAgICAgICBoZXg6IHVzZUl0ZW0uaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk4LAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInBsYXllcl9ocCIsIG9wOiAiPCIsIHZhbDogdXNlSXRlbS5wbGF5ZXJIcCB8fCAzMCB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjMgU05BUFNIT1RUSU5HIChCdWZmZWQgRG9UcykKICAgIGNvbnN0IHNuYXBzaG90U3BlbGxzID0gc3BlYy5zcGVsbHMuZmlsdGVyKHMgPT4gcy5zbmFwc2hvdCAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgc25hcHNob3RTcGVsbHMuZm9yRWFjaChzbmFwID0+IHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtTTkFQU0hPVF0gJHtzbmFwLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBzbmFwLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5MCwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJzbmFwc2hvdF9hY3RpdmUiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0gLy8gUDMwCiAgICAgICAgICAgIF0KICAgICAgICB9KTsKICAgIH0pOwogICAgLy8gMC41IFBSRV9FTVBUIExvZ2ljIAogICAgY29uc3QgcHJlZW1wdFNwZWxsID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BSRV9FTVBUJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKHByZWVtcHRTcGVsbCkgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0dPRCBNT0RFXSBQUkUtRU1QVDogJHtwcmVlbXB0U3BlbGwubmFtZX1gLAogICAgICAgICAgICBoZXg6IHByZWVtcHRTcGVsbC5oZXgsCiAgICAgICAgICAgIHByaW9yaXR5OiA5OTgsCiAgICAgICAgICAgIGNvbmRpdGlvbnM6IFsKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAidGFyZ2V0aW5nX21lIiwgb3A6ICI9PSIsIHZhbDogdHJ1ZSB9LAogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJjYXN0X3Byb2dyZXNzIiwgb3A6ICI+IiwgdmFsOiAwLjggfQogICAgICAgICAgICBdLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogaHVtYW4uZ29kTW9kZSA/IDAgOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuNTUgQkFDS1VQIElOVEVSUlVQVAogICAgY29uc3QgYmFja3VwSW50ID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ0JBQ0tVUF9JTlRFUlJVUFQnICYmIGFjdGl2ZVNwZWxscy5oYXMocy5uYW1lKSk7CiAgICBpZiAoYmFja3VwSW50KSB7CiAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGBbQkFDS1VQXSBTVE9QOiAke2JhY2t1cEludC5uYW1lfWAsCiAgICAgICAgICAgIGhleDogYmFja3VwSW50LmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5OCwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJ0YXJnZXRfY2FzdGluZyIsIG9wOiAiPiIsIHZhbDogMC4zIH0sCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogImtpY2tfb25fY2QiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0KICAgICAgICAgICAgXQogICAgICAgIH0pOwogICAgfQogICAgLy8gMC42IEZPQ1VTIElOVEVSUlVQVAogICAgY29uc3QgZm9jdXNLaWNrID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ0ZPQ1VTX0lOVEVSUlVQVCcgJiYgYWN0aXZlU3BlbGxzLmhhcyhzLm5hbWUpKTsKICAgIGlmIChmb2N1c0tpY2spIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtPTU5JXSBGT0NVUyBLSUNLOiAke2ZvY3VzS2ljay5uYW1lfWAsCiAgICAgICAgICAgIGhleDogZm9jdXNLaWNrLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5NywKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJmb2N1c19leGlzdHMiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0sCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogImZvY3VzX2Nhc3RpbmciLCBvcDogIj4iLCB2YWw6IDAuMyB9LAogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJmb2N1c19pbl9yYW5nZSIsIG9wOiAiPT0iLCB2YWw6IHRydWUgfQogICAgICAgICAgICBdLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogaHVtYW4uZ29kTW9kZSA/IDAgOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuNjUgQ0hBSU4gQ0MgCiAgICBjb25zdCBjaGFpbkNDID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ0NIQUlOX0NDJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKGNoYWluQ0MpIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtHUkFORE1BU1RFUl0gQ0hBSU46ICR7Y2hhaW5DQy5uYW1lfWAsCiAgICAgICAgICAgIGhleDogY2hhaW5DQy5oZXgsCiAgICAgICAgICAgIHByaW9yaXR5OiA5OTcsCiAgICAgICAgICAgIGNvbmRpdGlvbnM6IFsKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAiZm9jdXNfZXhpc3RzIiwgb3A6ICI9PSIsIHZhbDogdHJ1ZSB9LAogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJmb2N1c19jY19leHBpcmluZyIsIG9wOiAiPT0iLCB2YWw6IHRydWUgfSwgLy8gUDEyCiAgICAgICAgICAgIF0KICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuNjggUFVSR0UgTE9HSUMKICAgIGNvbnN0IHB1cmdlID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BVUkdFJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKHB1cmdlKSB7CiAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGBbV0FSTE9SRF0gUFVSR0U6ICR7cHVyZ2UubmFtZX1gLAogICAgICAgICAgICBoZXg6IHB1cmdlLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5NSwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJwdXJnZWFibGVfY291bnQiLCBvcDogIj4iLCB2YWw6IDAgfSwgLy8gUDIzCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInJlc291cmNlcyIsIG9wOiAiPiIsIHZhbDogMTAgfQogICAgICAgICAgICBdCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAzLiBNYWluIFJvdGF0aW9uCiAgICBjb25zdCBzb3J0ZWRTcGVsbHMgPSBbLi4uc3BlYy5zcGVsbHNdLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTsKICAgIGZvciAoY29uc3Qgc3BlbGwgb2Ygc29ydGVkU3BlbGxzKSB7CiAgICAgICAgaWYgKHNwZWxsLmlzVGFsZW50ICYmICFhY3RpdmVTcGVsbHMuaGFzKHNwZWxsLm5hbWUpKQogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICBpZiAoc3BlbGwuaXNQdlBUYWxlbnQgJiYgIVsnQVJFTkEnLCAnQkcnXS5pbmNsdWRlcyhhY3RpdmVMb2Fkb3V0LnR5cGUpKQogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICBjb25zdCBjb25kaXRpb25zID0gW107CiAgICAgICAgbGV0IG1ldGFUeXBlID0gc3BlbGwudHlwZTsKICAgICAgICBpZiAoc3BlbGwuZ3JvdW5kVGFyZ2V0KQogICAgICAgICAgICBtZXRhVHlwZSA9ICdHUk9VTkRfVEFSR0VUJzsKICAgICAgICBpZiAoc3BlbGwuZmFrZUNhc3QpCiAgICAgICAgICAgIG1ldGFUeXBlID0gJ0ZBS0VfQ0FTVCc7CiAgICAgICAgaWYgKCFbJ0hFQUwnLCAnT0ZGX0hFQUwnLCAnUkFNUCcsICdNQUlOVEFJTl9CVUZGJywgJ01PVkVNRU5UJywgJ1BSRV9FTVBUJywgJ0dBUF9DTE9TRVInLCAnS0lUSU5HJywgJ0ZPQ1VTX0lOVEVSUlVQVCcsICdGT0NVU19DQycsICdIRUFMRVJfU05JUEUnLCAnQ0hBSU5fQ0MnLCAnQkFDS1VQX0lOVEVSUlVQVCcsICdPUEVORVInLCAnU1RSSVBfSU1NVU5JVFknLCAnUFVSR0UnLCAnQU5USV9DQycsICdBUkVOQV9JTlRFUlJVUFQnLCAnVE9URU1fU1RPTVAnLCAnU05BUkVfQlJFQUsnLCAnUEVUX1RBVU5UJywgJ1VTRV9UUklOS0VUJywgJ1VTRV9JVEVNJywgJ0JPU1NfSU5URVJSVVBUJywgJ1BFVF9NQU5BR0UnLCAnU0FGRV9NT1ZFTUVOVCddLmluY2x1ZGVzKHNwZWxsLnR5cGUpKSB7CiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogImNvbWJhdCIsIG9wOiAiPT0iLCB2YWw6IHRydWUgfSk7CiAgICAgICAgfQogICAgICAgIC8vIFNhZmUgTW92ZW1lbnQgTG9naWMKICAgICAgICBpZiAoc3BlbGwudHlwZSA9PT0gJ1NBRkVfTU9WRU1FTlQnKSB7CiAgICAgICAgICAgIGlmICghc2FmZU1vdmVtZW50KQogICAgICAgICAgICAgICAgY29udGludWU7IC8vIFNraXAgaWYgZGlzYWJsZWQKICAgICAgICAgICAgbWV0YVR5cGUgPSAnU0FGRV9NT1ZFTUVOVCc7IC8vIEV4cGxpY2l0bHkgbWFyayBzbyBQeXRob24gY2FuIHNlZSBpdAogICAgICAgIH0KICAgICAgICAvLyBUcmlua2V0IExvZ2ljCiAgICAgICAgaWYgKHNwZWxsLnR5cGUgPT09ICdVU0VfVFJJTktFVCcpIHsKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAiaXNfYnVyc3Rfd2luZG93Iiwgb3A6ICI9PSIsIHZhbDogdHJ1ZSB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHNwZWxsLm1vdmluZyA9PT0gZmFsc2UpCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogImlzX21vdmluZyIsIG9wOiAiPT0iLCB2YWw6IGZhbHNlIH0pOwogICAgICAgIGlmIChzcGVsbC5taW5IcCkgewogICAgICAgICAgICBpZiAoWydIRUFMJywgJ1JBTVAnXS5pbmNsdWRlcyhzcGVsbC50eXBlKSkKICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogImxvd2VzdF9wYXJ0eV9ocCIsIG9wOiAiPCIsIHZhbDogc3BlbGwubWluSHAgfSk7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogInRhcmdldF9ocCIsIG9wOiAiPCIsIHZhbDogc3BlbGwubWluSHAgfSk7CiAgICAgICAgfQogICAgICAgIGlmIChzcGVsbC5wbGF5ZXJIcCkKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAicGxheWVyX2hwIiwgb3A6ICI8IiwgdmFsOiBzcGVsbC5wbGF5ZXJIcCB9KTsKICAgICAgICBpZiAoc3BlbGwubWF4SHApCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogInRhcmdldF9ocCIsIG9wOiAiPCIsIHZhbDogc3BlbGwubWF4SHAgfSk7CiAgICAgICAgaWYgKHNwZWxsLnJlc291cmNlID09PSAnU0VDT05EQVJZJyAmJiBzcGVsbC5jb3N0KQogICAgICAgICAgICBjb25kaXRpb25zLnB1c2goeyBtZXRyaWM6ICJyZXNvdXJjZXMiLCBvcDogIj49IiwgdmFsOiBzcGVsbC5jb3N0IH0pOwogICAgICAgIGlmIChzcGVsbC5idWZmTWlzc2luZykKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAiYnVmZl8iICsgc3BlbGwuYnVmZk1pc3NpbmcsIG9wOiAiPT0iLCB2YWw6IGZhbHNlIH0pOwogICAgICAgIGlmIChzcGVsbC5idWZmU3RhY2tzTWluICE9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogImJ1ZmZfc3RhY2tzIiwgb3A6ICI8IiwgdmFsOiBzcGVsbC5idWZmU3RhY2tzTWluIH0pOwogICAgICAgIGlmIChzcGVsbC5ob3RDb3VudE1heCAhPT0gdW5kZWZpbmVkKQogICAgICAgICAgICBjb25kaXRpb25zLnB1c2goeyBtZXRyaWM6ICJob3RfY291bnQiLCBvcDogIj4iLCB2YWw6IHNwZWxsLmhvdENvdW50TWF4IH0pOwogICAgICAgIGlmIChzcGVsbC5tdWx0aURvdCkKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAiZG90X2NvdW50Iiwgb3A6ICI8IiwgbWV0cmljMjogImVuZW15X2NvdW50IiB9KTsKICAgICAgICBpZiAoc3BlbGwud2luZG93ID09PSAnQlVSU1QnKQogICAgICAgICAgICBjb25kaXRpb25zLnB1c2goeyBtZXRyaWM6ICJpc19idXJzdF93aW5kb3ciLCBvcDogIj09IiwgdmFsOiB0cnVlIH0pOwogICAgICAgIGlmIChzcGVsbC53aW5kb3cgPT09ICdFWEVDVVRFJykKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAidGFyZ2V0X2hwIiwgb3A6ICI8IiwgdmFsOiAyMCB9KTsKICAgICAgICBpZiAoc3BlbGwubWluUmFuZ2UpCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogInJhbmdlX3RpZXIiLCBvcDogIj49IiwgdmFsOiBzcGVsbC5taW5SYW5nZSB9KTsKICAgICAgICBpZiAoc3BlbGwubWF4UmFuZ2UpCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogInJhbmdlX3RpZXIiLCBvcDogIjw9IiwgdmFsOiBzcGVsbC5tYXhSYW5nZSB9KTsKICAgICAgICBpZiAoc3BlbGwucHJldmVudE92ZXJsYXAgJiYgIXNwZWxsLmZvY3VzVGFyZ2V0KQogICAgICAgICAgICBjb25kaXRpb25zLnB1c2goeyBtZXRyaWM6ICJ0YXJnZXRfY2Nfc3RhdGUiLCBvcDogIj09IiwgdmFsOiAwIH0pOwogICAgICAgIGxldCByZWFjdCA9IHVuZGVmaW5lZDsKICAgICAgICBpZiAoaHVtYW4uZ29kTW9kZSAmJiBzcGVsbC5yZWFjdGlvbkN1cnZlID09PSAnR09EJykKICAgICAgICAgICAgcmVhY3QgPSAwOwogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgWyR7c3BlbGwudHlwZX1dICR7c3BlbGwubmFtZX1gLAogICAgICAgICAgICBoZXg6IHNwZWxsLmhleCwKICAgICAgICAgICAgdGFyZ2V0X3R5cGU6IHNwZWxsLm11bHRpRG90ID8gJ0NZQ0xFX0VORU1ZJyA6IHNwZWxsLnRhcmdldCwKICAgICAgICAgICAgYWN0aW9uX3R5cGU6IG1ldGFUeXBlLAogICAgICAgICAgICBjb25kaXRpb25zOiBjb25kaXRpb25zLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogcmVhY3QKICAgICAgICB9KTsKICAgIH0KICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShydWxlcywgbnVsbCwgMik7Cn07Ci8vIC0tLSBSZWFjdCBDb21wb25lbnQgLS0tCmNvbnN0IEFwcCA9ICgpID0+IHsKICAgIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgnREFTSEJPQVJEJyk7CiAgICBjb25zdCBbc291cmNlRmlsZSwgc2V0U291cmNlRmlsZV0gPSB1c2VTdGF0ZSgnUFlUSE9OJyk7CiAgICBjb25zdCBbc2VsZWN0ZWRDbGFzc0lkLCBzZXRTZWxlY3RlZENsYXNzSWRdID0gdXNlU3RhdGUoOSk7IC8vIFdhcmxvY2sKICAgIGNvbnN0IFtzZWxlY3RlZFNwZWNJZCwgc2V0U2VsZWN0ZWRTcGVjSWRdID0gdXNlU3RhdGUoMyk7IC8vIERlc3RybwogICAgY29uc3QgW3NlbGVjdGVkUmFjZUlkLCBzZXRTZWxlY3RlZFJhY2VJZF0gPSB1c2VTdGF0ZSg0KTsgLy8gTmlnaHQgRWxmCiAgICBjb25zdCBbc2VsZWN0ZWRMb2Fkb3V0LCBzZXRTZWxlY3RlZExvYWRvdXRdID0gdXNlU3RhdGUoMCk7CiAgICBjb25zdCBbc2FmZU1vdmVtZW50LCBzZXRTYWZlTW92ZW1lbnRdID0gdXNlU3RhdGUodHJ1ZSk7CiAgICBjb25zdCBbaHVtYW5pemF0aW9uLCBzZXRIdW1hbml6YXRpb25dID0gdXNlU3RhdGUoewogICAgICAgIHJlYWN0aW9uVGltZTogMTUwLCB2YXJpYW5jZTogMzAsIGlucHV0Sml0dGVyOiA1MCwga2lja1BlcmNlbnQ6IDg1LCBnb2RNb2RlOiB0cnVlLCBmYWtlQ2FzdENoYW5jZTogNDAsIGNoYWluT3ZlcmxhcDogMTIwMAogICAgfSk7CiAgICBjb25zdCBjdXJyZW50Q2xhc3MgPSBTUEVDX0RCLmZpbmQoYyA9PiBjLmlkID09PSBzZWxlY3RlZENsYXNzSWQpIHx8IFNQRUNfREJbMF07CiAgICBjb25zdCBjdXJyZW50U3BlYyA9IGN1cnJlbnRDbGFzcy5zcGVjcy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTcGVjSWQpIHx8IGN1cnJlbnRDbGFzcy5zcGVjc1swXTsKICAgIGNvbnN0IHNwZWNIYXNoID0gKGN1cnJlbnRDbGFzcy5pZCAqIDEwKSArIGN1cnJlbnRTcGVjLmlkOwogICAgY29uc3QgY3VycmVudExvYWRvdXQgPSBjdXJyZW50U3BlYy5sb2Fkb3V0c1tzZWxlY3RlZExvYWRvdXRdIHx8IGN1cnJlbnRTcGVjLmxvYWRvdXRzWzBdOwogICAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlKHsKICAgICAgICBjb21iYXQ6IHRydWUsCiAgICAgICAgcGxheWVySHA6IDEwMCwKICAgICAgICBwZXRIcDogMTAwLAogICAgICAgIGxvd2VzdFBhcnR5SHA6IDEwMCwKICAgICAgICB0YXJnZXRIcDogMTAwLAogICAgICAgIHRhcmdldEV4aXN0czogdHJ1ZSwKICAgICAgICBjYXN0UHJvZ3Jlc3M6IDAsCiAgICAgICAgdGFyZ2V0aW5nTWU6IGZhbHNlLAogICAgICAgIHJlc291cmNlczogMTAwLAogICAgICAgIGJ1ZmZTdGFja3M6IDAsCiAgICAgICAgaG90Q291bnQ6IDAsCiAgICAgICAgaXNNb3Zpbmc6IGZhbHNlLAogICAgICAgIGNjU3RhdGU6IDAsCiAgICAgICAgaW5EYW5nZXI6IGZhbHNlLAogICAgICAgIHRhcmdldFNwZWNJZDogMCwKICAgICAgICBlbmVteUNvdW50OiAxLAogICAgICAgIGlzQnVyc3RXaW5kb3c6IGZhbHNlLAogICAgICAgIHJhbmdlVGllcjogMTAsCiAgICAgICAgLy8gT01OSVNDSUVOVCBTVEFURQogICAgICAgIGZvY3VzRXhpc3RzOiB0cnVlLAogICAgICAgIGZvY3VzSXNIZWFsZXI6IHRydWUsCiAgICAgICAgZm9jdXNDYXN0aW5nOiAwLAogICAgICAgIGZvY3VzQ0NTdGF0ZTogMCwKICAgICAgICBmb2N1c0NDRXhwaXJpbmc6IGZhbHNlLAogICAgICAgIGtpY2tPbkNEOiBmYWxzZSwKICAgICAgICAvLyBXQVJMT1JEIFNUQVRFCiAgICAgICAgdGFyZ2V0SW1tdW5pdHk6IDAsCiAgICAgICAgZm9jdXNUYXJnZXRpbmdNZTogZmFsc2UsCiAgICAgICAgcHVyZ2VhYmxlQ291bnQ6IDAsCiAgICAgICAgLy8gQVBFWCBTVEFURQogICAgICAgIGFyZW5hMUNhc3Rpbmc6IGZhbHNlLAogICAgICAgIGFyZW5hMkNhc3Rpbmc6IGZhbHNlLAogICAgICAgIGFyZW5hM0Nhc3Rpbmc6IGZhbHNlLAogICAgICAgIHRvdGVtQWN0aXZlOiBmYWxzZSwKICAgICAgICAvLyBXQVJMT1JEIFYxOQogICAgICAgIHBsYXllclJvb3RlZDogZmFsc2UsCiAgICAgICAgcGxheWVyU2NhdHRlcmVkOiBmYWxzZSwKICAgICAgICBzbmFwc2hvdEFjdGl2ZTogZmFsc2UKICAgIH0pOwogICAgY29uc3QgW2xvZ3MsIHNldExvZ3NdID0gdXNlU3RhdGUoW10pOwogICAgY29uc3QgbG9nc0VuZFJlZiA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IFtpc1NpbXVsYXRpbmcsIHNldElzU2ltdWxhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbbGFzdEFjdGlvblRpbWUsIHNldExhc3RBY3Rpb25UaW1lXSA9IHVzZVN0YXRlKDApOwogICAgY29uc3QgW2VkaXRvckNvbnRlbnQsIHNldEVkaXRvckNvbnRlbnRdID0gdXNlU3RhdGUoIiIpOwogICAgY29uc3QgW3B5dGhvbkNvbnRlbnQsIHNldFB5dGhvbkNvbnRlbnRdID0gdXNlU3RhdGUoIiIpOwogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBzZXRFZGl0b3JDb250ZW50KGdlbmVyYXRlUm90YXRpb25Kc29uKGN1cnJlbnRTcGVjLCBjdXJyZW50TG9hZG91dC5uYW1lLCBzZWxlY3RlZFJhY2VJZCwgaHVtYW5pemF0aW9uLCBzYWZlTW92ZW1lbnQpKTsKICAgICAgICBzZXRQeXRob25Db250ZW50KGdlbmVyYXRlUHl0aG9uQ29kZShzcGVjSGFzaCkpOwogICAgfSwgW2N1cnJlbnRTcGVjLCBjdXJyZW50TG9hZG91dCwgc2VsZWN0ZWRSYWNlSWQsIGh1bWFuaXphdGlvbiwgc2FmZU1vdmVtZW50LCBzcGVjSGFzaF0pOwogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBsb2dzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pOwogICAgfSwgW2xvZ3NdKTsKICAgIC8vIC0tLSBET1dOTE9BRCBGRUFUVVJFIC0tLQogICAgY29uc3QgZG93bmxvYWRQcm9qZWN0WmlwID0gYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IHppcCA9IG5ldyBKU1ppcCgpOwogICAgICAgIC8vIEFkZCBmaWxlcwogICAgICAgIHppcC5maWxlKCJpbmRleC5odG1sIiwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTCk7CiAgICAgICAgemlwLmZpbGUoYCR7c3BlY0hhc2h9Lmpzb25gLCBlZGl0b3JDb250ZW50KTsKICAgICAgICB6aXAuZmlsZSgiTG9naWNFbmdpbmUucHkiLCBweXRob25Db250ZW50KTsKICAgICAgICB6aXAuZmlsZSgiT21uaV9FeGVjdXRvci5pbm8iLCAiLy8gQXJkdWlubyBDb2RlIFBsYWNlaG9sZGVyXG4iKTsKICAgICAgICB6aXAuZmlsZSgiU2tpbGxXZWF2ZXJfQWRkb24ubHVhIiwgZ2VuZXJhdGVMdWFDb2RlKGN1cnJlbnRTcGVjKSk7CiAgICAgICAgY29uc3QgbWFjcm9zID0gY3VycmVudFNwZWMuc3BlbGxzLmZpbHRlcihzID0+IHMuZ3JvdW5kVGFyZ2V0KS5tYXAocyA9PiBgCiNzaG93dG9vbHRpcCAke3MubmFtZX0KL2Nhc3QgW0BjdXJzb3JdICR7cy5uYW1lfQpgKS5qb2luKCdcbicpOwogICAgICAgIGNvbnN0IHJlYWRtZSA9IGAKU0tJTExXRUFWRVIgdjIyLjAgKFNURUFMVEggUEhBTlRPTSkgLSBDT01NQU5EIENFTlRFUgoKPT0gU0VUVVAgSU5TVFJVQ1RJT05TID09CgoxLiBLRVlCSU5EUyAoTVVTVCBNQVRDSCBJTi1HQU1FKToKICAgLSBGMTI6IEludGVydXB0IChUYXJnZXQpCiAgIC0gRjEwOiBBcmVuYSAxIEtpY2sKICAgLSBGMTE6IEFyZW5hIDIgS2ljawogICAtIEYwOTogQXJlbmEgMyBLaWNrCiAgIC0gRjA4OiBGb2N1cyBLaWNrCiAgIC0gRjE5OiAvY2FzdCBbQGFyZW5hcGV0MV0gVGF1bnQgIChGb3IgU2NhdHRlciBTaG90IEJyZWFrKQogICAtIEYxODogL3VzZSAxMyAoVHJpbmtldCAxKQogICAtIEYxNzogL3VzZSBIZWFsdGhzdG9uZQogICAke2N1cnJlbnRMb2Fkb3V0LnBldFNsb3QgPyBgLSBGMjA6IC9jYXN0IENhbGwgUGV0ICR7Y3VycmVudExvYWRvdXQucGV0U2xvdH1gIDogJyd9CiAgIAoyLiBHUk9VTkQgVEFSR0VUIE1BQ1JPUyAoUkVRVUlSRUQpOgoke21hY3Jvc30KICAgCjMuIEFERE9OIElOU1RBTExBVElPTjoKICAgLSBDb3B5IFNraWxsV2VhdmVyX0FkZG9uLmx1YSB0byBJbnRlcmZhY2UvQWRkT25zL1NraWxsV2VhdmVyLwogICAtIENyZWF0ZSBhIC50b2MgZmlsZS4KICAgLSBSZWxvYWQgVUkuCgo0LiBMT0dJQyBFTkdJTkU6CiAgIC0gSW5zdGFsbCBQeXRob24gMy45KwogICAtIHBpcCBpbnN0YWxsIG1zcyBudW1weSBweXNlcmlhbCBwaWxsb3cKICAgLSBweXRob24gTG9naWNFbmdpbmUucHkKCj09IFNURUFMVEggUFJPVE9DT0wgPT0KICAgVGhpcyB2ZXJzaW9uIHVzZXMgRGlmZmVyZW50aWFsIFJHQiBlbmNvZGluZy4gCiAgIFRoZSBiYXIgYXQgdGhlIGJvdHRvbSB3aWxsIGxvb2sgbGlrZSBhIHNvbGlkIGRhcmsgZ3JheSBsaW5lLgogICBEbyBub3QgY2hhbmdlIEdhbW1hL0JyaWdodG5lc3Mgc2V0dGluZ3Mgd2hpbGUgcnVubmluZy4KYDsKICAgICAgICB6aXAuZmlsZSgiSW5zdHJ1Y3Rpb25zLnR4dCIsIHJlYWRtZSk7CiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHppcC5nZW5lcmF0ZUFzeW5jKHsgdHlwZTogImJsb2IiIH0pOwogICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgYS5kb3dubG9hZCA9IGBTa2lsbFdlYXZlcl9QaGFudG9tXyR7c3BlY0hhc2h9LnppcGA7CiAgICAgICAgYS5jbGljaygpOwogICAgfTsKICAgIGNvbnN0IGRvd25sb2FkRmlsZSA9IChmaWxlbmFtZSwgY29udGVudCkgPT4gewogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBCbG9iKFtjb250ZW50XSwgeyB0eXBlOiAndGV4dC9wbGFpbicgfSk7CiAgICAgICAgZWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgICAgICBlbGVtZW50LmRvd25sb2FkID0gZmlsZW5hbWU7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgICAgICBlbGVtZW50LmNsaWNrKCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtZW50KTsKICAgIH07CiAgICAvLyAtLS0gU0lNVUxBVElPTiBERU1PIC0tLQogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBpZiAoIWlzU2ltdWxhdGluZykKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOwogICAgICAgICAgICBpZiAobm93IC0gbGFzdEFjdGlvblRpbWUgPiAxMDAwKSB7CiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uID0gIldhaXQiOwogICAgICAgICAgICAgICAgLy8gUFJJT1JJVFk6IFNOQVBTSE9UVElORyAoVjIyKQogICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5zbmFwc2hvdEFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXAgPSBjdXJyZW50U3BlYy5zcGVsbHMuZmluZChzID0+IHMuc25hcHNob3QpOwogICAgICAgICAgICAgICAgICAgIGlmIChzbmFwKQogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSBgW1NOQVBTSE9UXSBSRUZSRVNIOiAke3NuYXAubmFtZX0gKERhcmsgU291bCBBY3RpdmUpYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFBSSU9SSVRZOiBTQ0FUVEVSIEJSRUFLIChWMTkpCiAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUucGxheWVyU2NhdHRlcmVkKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF1bnQgPSBjdXJyZW50U3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BFVF9UQVVOVCcpOwogICAgICAgICAgICAgICAgICAgIGlmICh0YXVudCkKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYFtXQVJMT1JEXSBTQ0FUVEVSIEJSRUFLOiAke3RhdW50Lm5hbWV9IChQZXQgVGF1bnQpYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFBSSU9SSVRZOiBQRVQgUkVWSVZFIChHSE9TVCkKICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5wZXRIcCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldml2ZSA9IGN1cnJlbnRTcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnUEVUX01BTkFHRScgJiYgcy5uYW1lLmluY2x1ZGVzKCJSZXZpdmUiKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJldml2ZSkKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYFtHSE9TVF0gUkVWSVZFOiAke3Jldml2ZS5uYW1lfSAoUGV0IERlYWQpYDsKICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VtbW9uID0gY3VycmVudFNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdQRVRfTUFOQUdFJyAmJiBzLm5hbWUuc3RhcnRzV2l0aCgiU3VtbW9uIikpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VtbW9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYFtHSE9TVF0gU1VNTU9OOiAke3N1bW1vbi5uYW1lfWA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gUFJJT1JJVFk6IFNOQVJFIEJSRUFLIChWMTkpCiAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUucGxheWVyUm9vdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hpZnQgPSBjdXJyZW50U3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1NOQVJFX0JSRUFLJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaWZ0KQogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSBgW1dBUkxPUkRdIEZSRUVET006ICR7c2hpZnQubmFtZX0gKFJvb3QgQnJlYWspYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFBSSU9SSVRZOiBBUkVOQSBJTlRFUlJVUFQgKEFQRVgpCiAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUuYXJlbmExQ2FzdGluZykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGtpY2sxID0gY3VycmVudFNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdBUkVOQV9JTlRFUlJVUFQnICYmIHMuYXJlbmFUYXJnZXQgPT09IDEpOwogICAgICAgICAgICAgICAgICAgIGlmIChraWNrMSkKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYFtBUEVYXSBBUkVOQSBLSUNLOiAke2tpY2sxLm5hbWV9IEAgQXJlbmExYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIEZBTExCQUNLOiBDTEFTUyBMT0dJQwogICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gIldhaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gY3VycmVudFNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdEQU1BR0UnKT8ubmFtZSB8fCAiQXR0YWNrIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gIT09ICJXYWl0IikgewogICAgICAgICAgICAgICAgICAgIHNldExvZ3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogbm93LCB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksIHNvdXJjZTogJ0NPUkUnLCBtZXNzYWdlOiBgREVDSVNJT046ICR7YWN0aW9ufWAgfV0uc2xpY2UoLTIwKSk7CiAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEFjdGlvblRpbWUobm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sIDUwMCk7CiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgfSwgW2lzU2ltdWxhdGluZywgZ2FtZVN0YXRlLCBjdXJyZW50U3BlYywgbGFzdEFjdGlvblRpbWUsIHNlbGVjdGVkUmFjZUlkLCBodW1hbml6YXRpb24uZmFrZUNhc3RDaGFuY2VdKTsKICAgIGNvbnN0IGdldFNvdXJjZUNvbnRlbnQgPSAoKSA9PiB7CiAgICAgICAgc3dpdGNoIChzb3VyY2VGaWxlKSB7CiAgICAgICAgICAgIGNhc2UgJ0xVQSc6IHJldHVybiB7IGNvZGU6IGdlbmVyYXRlTHVhQ29kZShjdXJyZW50U3BlYyksIG5hbWU6ICdjb3JlLmx1YScgfTsKICAgICAgICAgICAgY2FzZSAnUFlUSE9OJzogcmV0dXJuIHsgY29kZTogcHl0aG9uQ29udGVudCwgbmFtZTogJ0xvZ2ljRW5naW5lLnB5JyB9OwogICAgICAgICAgICBjYXNlICdBUkRVSU5PJzogcmV0dXJuIHsgY29kZTogIi8vIEFyZHVpbm8gQ29kZS4uLiIsIG5hbWU6ICdPbW5pX0V4ZWN1dG9yLmlubycgfTsKICAgICAgICB9CiAgICB9OwogICAgcmV0dXJuIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJtaW4taC1zY3JlZW4gcC00IGZsZXggZmxleC1jb2wgZ2FwLTQgbWF4LXctWzE2MDBweF0gbXgtYXV0byB6LTEwIHJlbGF0aXZlIGZvbnQtbW9ubyB0ZXh0LXNtIiwgY2hpbGRyZW46IFtfanN4cygiaGVhZGVyIiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydCBtZDppdGVtcy1lbmQgYm9yZGVyLWIgYm9yZGVyLXppbmMtODAwIHBiLTQgZ2FwLTQiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNoaWxkcmVuOiBbX2pzeHMoImgxIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSB0cmFja2luZy10aWdodGVyIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIiwgY2hpbGRyZW46IFtfanN4KEdob3N0LCB7IGNsYXNzTmFtZTogInRleHQtcHVycGxlLTUwMCIgfSksICJTS0lMTFdFQVZFUiAiLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNjAwIHRleHQtYmFzZSBmb250LW5vcm1hbCIsIGNoaWxkcmVuOiAiLy8gUFJPVE9DT0wgdjIyLjAiIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC00IG10LTIiLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC16aW5jLTUwMCB0ZXh0LXhzIiwgY2hpbGRyZW46IFsiICIsIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInctMiBoLTIgYmctcHVycGxlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZSIgfSksICIgU1RFQUxUSCBQSEFOVE9NOiBPTkxJTkUgIl0gfSkgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIGl0ZW1zLWNlbnRlciBiZy16aW5jLTkwMCBwLTIgcm91bmRlZCBib3JkZXIgYm9yZGVyLXppbmMtODAwIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIiwgY2hpbGRyZW46IFtfanN4KCJsYWJlbCIsIHsgY2xhc3NOYW1lOiAidGV4dC1bMTBweF0gdGV4dC16aW5jLTUwMCIsIGNoaWxkcmVuOiAiQ0xBU1MiIH0pLCBfanN4KCJzZWxlY3QiLCB7IHZhbHVlOiBzZWxlY3RlZENsYXNzSWQsIG9uQ2hhbmdlOiAoZSkgPT4geyBzZXRTZWxlY3RlZENsYXNzSWQocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKTsgc2V0U2VsZWN0ZWRTcGVjSWQoMyk7IH0sIGNsYXNzTmFtZTogImJnLXRyYW5zcGFyZW50IHRleHQtd2hpdGUgZm9udC1ib2xkIG91dGxpbmUtbm9uZSBjdXJzb3ItcG9pbnRlciIsIGNoaWxkcmVuOiBTUEVDX0RCLm1hcChjID0+IF9qc3goIm9wdGlvbiIsIHsgdmFsdWU6IGMuaWQsIGNoaWxkcmVuOiBjLm5hbWUgfSwgYy5pZCkpIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3LXB4IGgtOCBiZy16aW5jLTcwMCBteC0yIiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBmbGV4LWNvbCIsIGNoaWxkcmVuOiBbX2pzeCgibGFiZWwiLCB7IGNsYXNzTmFtZTogInRleHQtWzEwcHhdIHRleHQtemluYy01MDAiLCBjaGlsZHJlbjogIlNQRUMiIH0pLCBfanN4KCJzZWxlY3QiLCB7IHZhbHVlOiBzZWxlY3RlZFNwZWNJZCwgb25DaGFuZ2U6IChlKSA9PiB7IHNldFNlbGVjdGVkU3BlY0lkKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSk7IHNldFNlbGVjdGVkTG9hZG91dCgwKTsgfSwgY2xhc3NOYW1lOiAiYmctdHJhbnNwYXJlbnQgdGV4dC16aW5jLTMwMCBmb250LWJvbGQgb3V0bGluZS1ub25lIGN1cnNvci1wb2ludGVyIHctMzIiLCBjaGlsZHJlbjogY3VycmVudENsYXNzLnNwZWNzLm1hcChzID0+IF9qc3goIm9wdGlvbiIsIHsgdmFsdWU6IHMuaWQsIGNoaWxkcmVuOiBzLm5hbWUgfSwgcy5pZCkpIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wiLCBjaGlsZHJlbjogW19qc3goImxhYmVsIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVsxMHB4XSB0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46ICJSQUNFIiB9KSwgX2pzeCgic2VsZWN0IiwgeyB2YWx1ZTogc2VsZWN0ZWRSYWNlSWQsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0U2VsZWN0ZWRSYWNlSWQocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKSwgY2xhc3NOYW1lOiAiYmctemluYy05MDAgYm9yZGVyIGJvcmRlci16aW5jLTgwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBvdXRsaW5lLW5vbmUgY3Vyc29yLXBvaW50ZXIgdGV4dC14cyBwLTEgcm91bmRlZCB3LTMyIiwgY2hpbGRyZW46IFJBQ0VTLm1hcChyID0+IF9qc3goIm9wdGlvbiIsIHsgdmFsdWU6IHIuaWQsIGNoaWxkcmVuOiByLm5hbWUgfSwgci5pZCkpIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogZG93bmxvYWRQcm9qZWN0WmlwLCBjbGFzc05hbWU6ICJiZy1wdXJwbGUtOTAwLzMwIGhvdmVyOmJnLXB1cnBsZS05MDAvNTAgdGV4dC1wdXJwbGUtNTAwIGJvcmRlciBib3JkZXItcHVycGxlLTgwMCBweC00IHB5LTIgdGV4dC14cyBmb250LWJvbGQgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0cmFuc2l0aW9uLWFsbCIsIGNoaWxkcmVuOiBbX2pzeChBcmNoaXZlLCB7IHNpemU6IDE0IH0pLCAiIERPV05MT0FEIFNVSVRFIl0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBiZy16aW5jLTkwMCBwLTEgcm91bmRlZCBib3JkZXIgYm9yZGVyLXppbmMtODAwIiwgY2hpbGRyZW46IFt7IGlkOiAnREFTSEJPQVJEJywgaWNvbjogQWN0aXZpdHkgfSwgeyBpZDogJ0VESVRPUicsIGljb246IEZpbGVKc29uIH0sIHsgaWQ6ICdTT1VSQ0UnLCBpY29uOiBGaWxlQ29kZSB9XS5tYXAoKGl0ZW0pID0+IChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRBY3RpdmVUYWIoaXRlbS5pZCksIGNsYXNzTmFtZTogYHB4LTQgcHktMiB0ZXh0LXhzIGZvbnQtYm9sZCByb3VuZGVkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRyYW5zaXRpb24tYWxsICR7YWN0aXZlVGFiID09PSBpdGVtLmlkID8gJ2JnLXppbmMtODAwIHRleHQtd2hpdGUgc2hhZG93LXNtJyA6ICd0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtemluYy0zMDAnfWAsIGNoaWxkcmVuOiBbX2pzeChpdGVtLmljb24sIHsgc2l6ZTogMTQgfSksICIgIiwgaXRlbS5pZF0gfSwgaXRlbS5pZCkpKSB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0xMiBnYXAtNiBmbGV4LTEgaC1bY2FsYygxMDB2aC0yMDBweCldIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJjb2wtc3Bhbi0xMiBsZzpjb2wtc3Bhbi00IGZsZXggZmxleC1jb2wgZ2FwLTQiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImJnLXppbmMtOTAwLzUwIGJvcmRlciBib3JkZXItemluYy04MDAgcC00IHJvdW5kZWQtbGcgZmxleCBmbGV4LWNvbCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNCIsIGNoaWxkcmVuOiBfanN4cygiaDIiLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtemluYy00MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiLCBjaGlsZHJlbjogWyIgIiwgX2pzeChFeWUsIHsgc2l6ZTogMTQgfSksICIgT1BUSUNBTCBGRUVEICJdIH0pIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImgtMTIgYmctYmxhY2sgYm9yZGVyIGJvcmRlci16aW5jLTcwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgcHgtMSBnYXAtWzFweF0gbWItMiBvdmVyZmxvdy1oaWRkZW4iLCBjaGlsZHJlbjogQXJyYXkoMzIpLmZpbGwoMCkubWFwKChfLCBpZHgpID0+IChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogYGgtOCBmbGV4LTEgcmVsYXRpdmUgJHtpZHggPT09IDE2ICYmIChnYW1lU3RhdGUucGxheWVyUm9vdGVkIHx8IGdhbWVTdGF0ZS5wbGF5ZXJTY2F0dGVyZWQpID8gJ2JnLW9yYW5nZS01MDAnIDogaWR4ID09PSAxNSAmJiBnYW1lU3RhdGUudG90ZW1BY3RpdmUgPyAnYmcteWVsbG93LTUwMCcgOiBpZHggPT09IDIyID8gJ2JnLWdyZWVuLTgwMCByZWxhdGl2ZScgOiBpZHggPT09IDMwICYmIGdhbWVTdGF0ZS5zbmFwc2hvdEFjdGl2ZSA/ICdiZy1wdXJwbGUtODAwJyA6ICdiZy16aW5jLTkwMCd9YCwgY2hpbGRyZW46IGlkeCA9PT0gMjIgJiYgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgdy1mdWxsIGJnLWdyZWVuLTUwMCIsIHN0eWxlOiB7IGhlaWdodDogYCR7Z2FtZVN0YXRlLnBldEhwfSVgIH0gfSkgfSwgaWR4KSkpIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiB0ZXh0LVsxMHB4XSBmb250LW1vbm8gdGV4dC16aW5jLTYwMCIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJQMTU6VE9URU0iIH0pLCAiICIsIF9qc3goInNwYW4iLCB7IGNoaWxkcmVuOiAiUDE2OkRFQlVGRlMiIH0pLCAiICIsIF9qc3goInNwYW4iLCB7IGNoaWxkcmVuOiAiUDIyOlBFVF9IUCIgfSksICIgIiwgX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJQMzA6U05BUCIgfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05MDAvNTAgYm9yZGVyIGJvcmRlci16aW5jLTgwMCBwLTQgcm91bmRlZC1sZyBmbGV4IGZsZXgtY29sIGdhcC00IiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciIsIGNoaWxkcmVuOiBfanN4cygiaDIiLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtemluYy00MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiLCBjaGlsZHJlbjogWyIgIiwgX2pzeChHaG9zdCwgeyBzaXplOiAxNCB9KSwgIiBHSE9TVCBDT05UUk9MICJdIH0pIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0yIGdhcC0yIiwgY2hpbGRyZW46IFtfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHNldFNhZmVNb3ZlbWVudCghc2FmZU1vdmVtZW50KSwgY2xhc3NOYW1lOiBgdGV4dC14cyBwLTIgYm9yZGVyIHJvdW5kZWQgJHtzYWZlTW92ZW1lbnQgPyAnYmctZ3JlZW4tOTAwLzUwIGJvcmRlci1ncmVlbi01MDAgdGV4dC13aGl0ZScgOiAnYmctcmVkLTkwMC81MCBib3JkZXItcmVkLTUwMCB0ZXh0LXdoaXRlJ31gLCBjaGlsZHJlbjogc2FmZU1vdmVtZW50ID8gJ1NBRkVUWTogT04nIDogJ1NBRkVUWTogT0ZGJyB9KSwgX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0R2FtZVN0YXRlKHAgPT4gKHsgLi4ucCwgcGV0SHA6IHAucGV0SHAgPT09IDAgPyAxMDAgOiBwLnBldEhwIC0gMjUgPCAwID8gMCA6IHAucGV0SHAgLSAyNSB9KSksIGNsYXNzTmFtZTogYHRleHQteHMgcC0yIGJvcmRlciByb3VuZGVkICR7Z2FtZVN0YXRlLnBldEhwIDwgNTAgPyAnYmctcmVkLTkwMC81MCBib3JkZXItcmVkLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy16aW5jLTkwMCBib3JkZXItemluYy04MDAgdGV4dC16aW5jLTUwMCd9YCwgY2hpbGRyZW46IFsiUEVUIEhQOiAiLCBnYW1lU3RhdGUucGV0SHAsICIlIChQMjIpIl0gfSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0R2FtZVN0YXRlKHAgPT4gKHsgLi4ucCwgc25hcHNob3RBY3RpdmU6ICFwLnNuYXBzaG90QWN0aXZlIH0pKSwgY2xhc3NOYW1lOiBgdGV4dC14cyBwLTIgYm9yZGVyIHJvdW5kZWQgJHtnYW1lU3RhdGUuc25hcHNob3RBY3RpdmUgPyAnYmctcHVycGxlLTkwMC81MCBib3JkZXItcHVycGxlLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy16aW5jLTkwMCBib3JkZXItemluYy04MDAgdGV4dC16aW5jLTUwMCd9YCwgY2hpbGRyZW46ICJTTkFQU0hPVCBQUk9DIChQMzApIiB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRHYW1lU3RhdGUocCA9PiAoeyAuLi5wLCBwbGF5ZXJTY2F0dGVyZWQ6ICFwLnBsYXllclNjYXR0ZXJlZCB9KSksIGNsYXNzTmFtZTogYHRleHQteHMgcC0yIGJvcmRlciByb3VuZGVkICR7Z2FtZVN0YXRlLnBsYXllclNjYXR0ZXJlZCA/ICdiZy1vcmFuZ2UtOTAwLzUwIGJvcmRlci1vcmFuZ2UtNTAwIHRleHQtd2hpdGUnIDogJ2JnLXppbmMtOTAwIGJvcmRlci16aW5jLTgwMCB0ZXh0LXppbmMtNTAwJ31gLCBjaGlsZHJlbjogIlBMQVlFUiBTQ0FUVEVSRUQgKFAxNikiIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImJnLXppbmMtOTAwLzUwIGJvcmRlciBib3JkZXItemluYy04MDAgcC00IHJvdW5kZWQtbGcgZmxleCBmbGV4LWNvbCBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIiLCBjaGlsZHJlbjogX2pzeHMoImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXppbmMtNDAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIiwgY2hpbGRyZW46IFsiICIsIF9qc3goU2t1bGwsIHsgc2l6ZTogMTQgfSksICIgS0lMTCBXSU5ET1cgIl0gfSkgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMSIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC1bMTBweF0gdGV4dC16aW5jLTUwMCIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJUQVJHRVQgSFAiIH0pLCAiICIsIF9qc3hzKCJzcGFuIiwgeyBjbGFzc05hbWU6IGAke2dhbWVTdGF0ZS50YXJnZXRIcCA8IDQwID8gJ3RleHQtcmVkLTUwMCBmb250LWJvbGQnIDogJ3RleHQtemluYy0zMDAnfWAsIGNoaWxkcmVuOiBbZ2FtZVN0YXRlLnRhcmdldEhwLCAiJSJdIH0pXSB9KSwgX2pzeCgiaW5wdXQiLCB7IHR5cGU6ICJyYW5nZSIsIG1pbjogIjAiLCBtYXg6ICIxMDAiLCB2YWx1ZTogZ2FtZVN0YXRlLnRhcmdldEhwLCBvbkNoYW5nZTogKGUpID0+IHNldEdhbWVTdGF0ZShwID0+ICh7IC4uLnAsIHRhcmdldEhwOiBwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfSkpLCBjbGFzc05hbWU6ICJ3LWZ1bGwgYWNjZW50LXJlZC02MDAgaC0xIGJnLXppbmMtODAwIHJvdW5kZWQgYXBwZWFyYW5jZS1ub25lIiB9KV0gfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29sLXNwYW4tMTIgbGc6Y29sLXNwYW4tOCBiZy16aW5jLTkwMC8zMCBib3JkZXIgYm9yZGVyLXppbmMtODAwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jb2wiLCBjaGlsZHJlbjogW2FjdGl2ZVRhYiA9PT0gJ0RBU0hCT0FSRCcgJiYgKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInAtNiBoLWZ1bGwgZmxleCBmbGV4LWNvbCIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItNiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2hpbGRyZW46IFtfanN4cygiaDIiLCB7IGNsYXNzTmFtZTogInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTIiLCBjaGlsZHJlbjogW2N1cnJlbnRTcGVjLm5hbWUsICIgIiwgY3VycmVudENsYXNzLm5hbWVdIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJweC0yIHB5LTEgYmctemluYy04MDAgdGV4dC16aW5jLTMwMCB0ZXh0LVsxMHB4XSByb3VuZGVkIGZvbnQtbW9ubyIsIGNoaWxkcmVuOiBjdXJyZW50U3BlYy5yb2xlIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJweC0yIHB5LTEgYmctcHVycGxlLTkwMC8zMCB0ZXh0LXB1cnBsZS00MDAgdGV4dC1bMTBweF0gcm91bmRlZCBmb250LW1vbm8gYm9yZGVyIGJvcmRlci1wdXJwbGUtOTAwIiwgY2hpbGRyZW46IGN1cnJlbnRMb2Fkb3V0Lm5hbWUgfSldIH0pXSB9KSwgX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4geyBzZXRJc1NpbXVsYXRpbmcoIWlzU2ltdWxhdGluZyk7IH0sIGNsYXNzTmFtZTogYGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTYgcHktMiByb3VuZGVkIGZvbnQtYm9sZCB0ZXh0LXhzIGJvcmRlciAke2lzU2ltdWxhdGluZyA/ICdiZy1yZWQtNTAwLzEwIGJvcmRlci1yZWQtNTAwIHRleHQtcmVkLTUwMCcgOiAnYmctZW1lcmFsZC01MDAvMTAgYm9yZGVyLWVtZXJhbGQtNTAwIHRleHQtZW1lcmFsZC01MDAnfWAsIGNoaWxkcmVuOiBbaXNTaW11bGF0aW5nID8gX2pzeChQYXVzZSwgeyBzaXplOiAxNiB9KSA6IF9qc3goUGxheSwgeyBzaXplOiAxNiB9KSwgIiAiLCBpc1NpbXVsYXRpbmcgPyAnSEFMVCBMT0dJQycgOiAnRU5HQUdFIExPR0lDJ10gfSldIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgtMSBvdmVyZmxvdy1hdXRvIiwgY2hpbGRyZW46IF9qc3hzKCJ0YWJsZSIsIHsgY2xhc3NOYW1lOiAidy1mdWxsIHRleHQtbGVmdCBib3JkZXItY29sbGFwc2UiLCBjaGlsZHJlbjogW19qc3goInRoZWFkIiwgeyBjaGlsZHJlbjogX2pzeHMoInRyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVsxMHB4XSB0ZXh0LXppbmMtNTAwIGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCIsIGNoaWxkcmVuOiBbX2pzeCgidGgiLCB7IGNsYXNzTmFtZTogInB5LTIgcGwtMiIsIGNoaWxkcmVuOiAiUFJJTyIgfSksIF9qc3goInRoIiwgeyBjbGFzc05hbWU6ICJweS0yIiwgY2hpbGRyZW46ICJBQ1RJT04iIH0pLCBfanN4KCJ0aCIsIHsgY2xhc3NOYW1lOiAicHktMiIsIGNoaWxkcmVuOiAiVFlQRSIgfSksIF9qc3goInRoIiwgeyBjbGFzc05hbWU6ICJweS0yIiwgY2hpbGRyZW46ICJMT0dJQyIgfSksIF9qc3goInRoIiwgeyBjbGFzc05hbWU6ICJweS0yIiwgY2hpbGRyZW46ICJUQVJHRVQiIH0pXSB9KSB9KSwgX2pzeCgidGJvZHkiLCB7IGNoaWxkcmVuOiBjdXJyZW50U3BlYy5zcGVsbHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHMgPT4gY3VycmVudExvYWRvdXQuc3BlbGxzLmluY2x1ZGVzKHMubmFtZSkgfHwgIXMuaXNUYWxlbnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHNwZWxsLCBpZHgpID0+IChfanN4cygidHIiLCB7IGNsYXNzTmFtZTogImJvcmRlci1iIGJvcmRlci16aW5jLTgwMC81MCBob3ZlcjpiZy16aW5jLTgwMC8zMCB0ZXh0LXhzIHRleHQtemluYy0zMDAiLCBjaGlsZHJlbjogW19qc3hzKCJ0ZCIsIHsgY2xhc3NOYW1lOiAicHktMiBwbC0yIGZvbnQtbW9ubyB0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46IFsiIyIsIHNwZWxsLnByaW9yaXR5XSB9KSwgX2pzeCgidGQiLCB7IGNsYXNzTmFtZTogInB5LTIgZm9udC1ib2xkIHRleHQtd2hpdGUiLCBjaGlsZHJlbjogc3BlbGwubmFtZSB9KSwgX2pzeCgidGQiLCB7IGNsYXNzTmFtZTogInB5LTIiLCBjaGlsZHJlbjogX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiBgdGV4dC1bMTBweF0gcHgtMSByb3VuZGVkICR7c3BlbGwudHlwZSA9PT0gJ1BFVF9NQU5BR0UnID8gJ2JnLWdyZWVuLTgwMCB0ZXh0LXdoaXRlJyA6IHNwZWxsLnR5cGUgPT09ICdTQUZFX01PVkVNRU5UJyA/ICdiZy1ncmVlbi05MDAgdGV4dC1ncmVlbi0yMDAnIDogc3BlbGwudHlwZSA9PT0gJ0dST1VORF9UQVJHRVQnID8gJ2JnLWJsdWUtOTAwIHRleHQtYmx1ZS0yMDAnIDogc3BlbGwudHlwZSA9PT0gJ1BFVF9UQVVOVCcgPyAnYmctb3JhbmdlLTgwMCB0ZXh0LXdoaXRlJyA6IHNwZWxsLnR5cGUgPT09ICdTTkFSRV9CUkVBSycgPyAnYmctb3JhbmdlLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy16aW5jLTgwMCB0ZXh0LXppbmMtNDAwJ31gLCBjaGlsZHJlbjogc3BlbGwudHlwZSB9KSB9KSwgX2pzeHMoInRkIiwgeyBjbGFzc05hbWU6ICJweS0yIHRleHQtWzEwcHhdIHRleHQtemluYy00MDAgZm9udC1tb25vIiwgY2hpbGRyZW46IFtzcGVsbC50eXBlID09PSAnUEVUX01BTkFHRScgJiYgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1ncmVlbi00MDAgZm9udC1ib2xkIiwgY2hpbGRyZW46ICJORVVSQUwgTkVUICIgfSksIHNwZWxsLnR5cGUgPT09ICdTQUZFX01PVkVNRU5UJyAmJiBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWdyZWVuLTQwMCIsIGNoaWxkcmVuOiAiU0FGRVRZIEdBVEUiIH0pLCBzcGVsbC50eXBlID09PSAnR1JPVU5EX1RBUkdFVCcgJiYgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1ibHVlLTQwMCIsIGNoaWxkcmVuOiAiQENVUlNPUiIgfSksIHNwZWxsLnR5cGUgPT09ICdQRVRfVEFVTlQnICYmIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtb3JhbmdlLTQwMCIsIGNoaWxkcmVuOiAiQU5USS1DQyIgfSksIHNwZWxsLnNuYXBzaG90ICYmIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtcHVycGxlLTQwMCBmb250LWJvbGQiLCBjaGlsZHJlbjogIlNOQVBTSE9UIiB9KV0gfSksIF9qc3goInRkIiwgeyBjbGFzc05hbWU6ICJweS0yIHRleHQtWzEwcHhdIHRleHQtemluYy01MDAiLCBjaGlsZHJlbjogc3BlbGwudGFyZ2V0ID09PSAnQ1lDTEVfRU5FTVknID8gX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtcHVycGxlLTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSIsIGNoaWxkcmVuOiBbX2pzeChSZWZyZXNoQ3csIHsgc2l6ZTogMTAgfSksICIgQ1lDTEUiXSB9KSA6IHNwZWxsLnRhcmdldCB9KV0gfSwgaWR4KSkpIH0pXSB9KSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibXQtNCBoLTMyIGJnLWJsYWNrIGJvcmRlciBib3JkZXItemluYy04MDAgcm91bmRlZCBwLTIgZm9udC1tb25vIHRleHQtWzEwcHhdIG92ZXJmbG93LWF1dG8iLCBjaGlsZHJlbjogW2xvZ3MubWFwKGxvZyA9PiAoX2pzeHMoImRpdiIsIHsgY2hpbGRyZW46IFtfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCIsIGNoaWxkcmVuOiBbIlsiLCBsb2cudGltZXN0YW1wLCAiXSJdIH0pLCAiICIsIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogYCR7bG9nLm1lc3NhZ2UuaW5jbHVkZXMoJ0dIT1NUJykgPyAndGV4dC1wdXJwbGUtNDAwIGZvbnQtYm9sZCcgOiBsb2cubWVzc2FnZS5pbmNsdWRlcygnQVBFWCcpID8gJ3RleHQteWVsbG93LTUwMCcgOiAndGV4dC16aW5jLTMwMCd9YCwgY2hpbGRyZW46IGxvZy5tZXNzYWdlIH0pXSB9LCBsb2cuaWQpKSksIF9qc3goImRpdiIsIHsgcmVmOiBsb2dzRW5kUmVmIH0pXSB9KV0gfSkpLCBhY3RpdmVUYWIgPT09ICdFRElUT1InICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGgtZnVsbCIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAicC0yIGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCBiZy16aW5jLTk1MCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIiLCBjaGlsZHJlbjogW19qc3hzKCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIGZvbnQtbW9ubyB0ZXh0LXppbmMtNDAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1sLTIiLCBjaGlsZHJlbjogWyIgIiwgX2pzeChGb2xkZXJPcGVuLCB7IHNpemU6IDEyIH0pLCAiICIsIHNwZWNIYXNoLCAiLmpzb24gIl0gfSksIF9qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGRvd25sb2FkRmlsZShgJHtzcGVjSGFzaH0uanNvbmAsIGVkaXRvckNvbnRlbnQpLCBjbGFzc05hbWU6ICJ0ZXh0LXhzIHB4LTMgcHktMSBiZy1lbWVyYWxkLTkwMC8zMCB0ZXh0LWVtZXJhbGQtNDAwIGJvcmRlciBib3JkZXItZW1lcmFsZC05MDAgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiIsIGNoaWxkcmVuOiBbIiAiLCBfanN4KFNhdmUsIHsgc2l6ZTogMTIgfSksICIgU0FWRSAiXSB9KV0gfSksIF9qc3goInRleHRhcmVhIiwgeyB2YWx1ZTogZWRpdG9yQ29udGVudCwgcmVhZE9ubHk6IHRydWUsIGNsYXNzTmFtZTogImZsZXgtMSBiZy16aW5jLTkwMC84MCBwLTQgdGV4dC14cyBmb250LW1vbm8gdGV4dC16aW5jLTMwMCBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUgbGVhZGluZy1yZWxheGVkIiB9KV0gfSkpLCBhY3RpdmVUYWIgPT09ICdTT1VSQ0UnICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGgtZnVsbCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCBiZy16aW5jLTk1MCIsIGNoaWxkcmVuOiBbJ0xVQScsICdQWVRIT04nLCAnQVJEVUlOTyddLm1hcCgoZmlsZSkgPT4gKF9qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHNldFNvdXJjZUZpbGUoZmlsZSksIGNsYXNzTmFtZTogYHB4LTQgcHktMiB0ZXh0LVsxMHB4XSBmb250LWJvbGQgYm9yZGVyLXIgYm9yZGVyLXppbmMtODAwIHRyYW5zaXRpb24tY29sb3JzICR7c291cmNlRmlsZSA9PT0gZmlsZSA/ICdiZy16aW5jLTgwMCB0ZXh0LXdoaXRlJyA6ICd0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtemluYy0zMDAnfWAsIGNoaWxkcmVuOiBbIiAiLCBmaWxlLCAiICJdIH0sIGZpbGUpKSkgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleC0xIG92ZXJmbG93LWF1dG8gYmctemluYy05MDAvODAgcC00IiwgY2hpbGRyZW46IF9qc3hzKCJwcmUiLCB7IGNsYXNzTmFtZTogInRleHQtWzEwcHhdIGZvbnQtbW9ubyB0ZXh0LXppbmMtMzAwIHdoaXRlc3BhY2UtcHJlLXdyYXAiLCBjaGlsZHJlbjogWyIgIiwgZ2V0U291cmNlQ29udGVudCgpLmNvZGUsICIgIl0gfSkgfSldIH0pKV0gfSldIH0pXSB9KSk7Cn07CmNvbnN0IHJvb3QgPSBjcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpOwpyb290LnJlbmRlcihfanN4KEFwcCwge30pKTsK","@":"data:application/javascript;base64,aW1wb3J0IHsganN4IGFzIF9qc3gsIGpzeHMgYXMgX2pzeHMgfSBmcm9tICJyZWFjdC9qc3gtcnVudGltZSI7CmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnOwppbXBvcnQgeyBBY3Rpdml0eSwgRXllLCBGaWxlQ29kZSwgUGxheSwgUGF1c2UsIFJlZnJlc2hDdywgRmlsZUpzb24sIFNhdmUsIEZvbGRlck9wZW4sIFNrdWxsLCBHaG9zdCwgQXJjaGl2ZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7CmltcG9ydCBKU1ppcCBmcm9tICdqc3ppcCc7Ci8vIC0tLSBDb25zdGFudHMgLS0tCmNvbnN0IFJFVElOQV9TVFJJREUgPSAyOwpjb25zdCBQVlBfS0lDS1MgPSBbCiAgICAiUG9seW1vcnBoIiwgIkN5Y2xvbmUiLCAiSGV4IiwgIkZlYXIiLCAiQ2hhb3MgQm9sdCIsICJDb252b2tlIHRoZSBTcGlyaXRzIiwKICAgICJUaGUgSHVudCIsICJNaW5kIENvbnRyb2wiLCAiUmVwZW50YW5jZSIsICJTbGVlcCBXYWxrIiwgIkRpdmluZSBIeW1uIiwgIlJheSBvZiBIb3BlIiwgIkdyZWF0ZXIgUHlyb2JsYXN0IiwgIlZvaWQgVG9ycmVudCIsICJQZW5hbmNlIiwgIlRyYW5xdWlsaXR5IgpdOwpjb25zdCBSQUNFUyA9IFsKICAgIHsgaWQ6IDEsIG5hbWU6ICJIdW1hbiIsIGFiaWxpdHk6ICJXaWxsIHRvIFN1cnZpdmUiLCBjb29sZG93bjogMTgwLCB0eXBlOiAiVVRJTElUWSIsIGRlZmVuc2l2ZVRyaWdnZXI6IHRydWUgfSwKICAgIHsgaWQ6IDIsIG5hbWU6ICJPcmMiLCBhYmlsaXR5OiAiQmxvb2QgRnVyeSIsIGNvb2xkb3duOiAxMjAsIHR5cGU6ICJCVVJTVCIgfSwKICAgIHsgaWQ6IDMsIG5hbWU6ICJEd2FyZiIsIGFiaWxpdHk6ICJTdG9uZWZvcm0iLCBjb29sZG93bjogMTIwLCB0eXBlOiAiREVGRU5TSVZFIiwgZGVmZW5zaXZlVHJpZ2dlcjogdHJ1ZSB9LAogICAgeyBpZDogNCwgbmFtZTogIk5pZ2h0IEVsZiIsIGFiaWxpdHk6ICJTaGFkb3dtZWxkIiwgY29vbGRvd246IDEyMCwgdHlwZTogIlBSRV9FTVBUIiwgZGVmZW5zaXZlVHJpZ2dlcjogdHJ1ZSB9LAogICAgeyBpZDogNSwgbmFtZTogIlVuZGVhZCIsIGFiaWxpdHk6ICJXaWxsIG9mIHRoZSBGb3JzYWtlbiIsIGNvb2xkb3duOiAxMjAsIHR5cGU6ICJVVElMSVRZIiwgZGVmZW5zaXZlVHJpZ2dlcjogdHJ1ZSB9LAogICAgeyBpZDogNiwgbmFtZTogIlRhdXJlbiIsIGFiaWxpdHk6ICJXYXIgU3RvbXAiLCBjb29sZG93bjogOTAsIHR5cGU6ICJDQyIgfSwKICAgIHsgaWQ6IDcsIG5hbWU6ICJHbm9tZSIsIGFiaWxpdHk6ICJFc2NhcGUgQXJ0aXN0IiwgY29vbGRvd246IDYwLCB0eXBlOiAiVVRJTElUWSIsIGRlZmVuc2l2ZVRyaWdnZXI6IHRydWUgfSwKICAgIHsgaWQ6IDgsIG5hbWU6ICJUcm9sbCIsIGFiaWxpdHk6ICJCZXJzZXJraW5nIiwgY29vbGRvd246IDE4MCwgdHlwZTogIkJVUlNUIiB9LAogICAgeyBpZDogOSwgbmFtZTogIkdvYmxpbiIsIGFiaWxpdHk6ICJSb2NrZXQgSnVtcCIsIGNvb2xkb3duOiA5MCwgdHlwZTogIkdBUF9DTE9TRVIiIH0sCiAgICB7IGlkOiAxMCwgbmFtZTogIkJsb29kIEVsZiIsIGFiaWxpdHk6ICJBcmNhbmUgVG9ycmVudCIsIGNvb2xkb3duOiAxMjAsIHR5cGU6ICJESVNQRUwiIH0sCiAgICB7IGlkOiAyOSwgbmFtZTogIlZvaWQgRWxmIiwgYWJpbGl0eTogIlNwYXRpYWwgUmlmdCIsIGNvb2xkb3duOiAxODAsIHR5cGU6ICJHQVBfQ0xPU0VSIiB9LAogICAgeyBpZDogMzQsIG5hbWU6ICJEYXJrIElyb24gRHdhcmYiLCBhYmlsaXR5OiAiRmlyZWJsb29kIiwgY29vbGRvd246IDEyMCwgdHlwZTogIkJVUlNUIiwgZGVmZW5zaXZlVHJpZ2dlcjogdHJ1ZSB9LApdOwovLyAtLS0gREFUQUJBU0U6IFNURUFMVEggUEhBTlRPTSBFRElUSU9OIC0tLQpjb25zdCBTUEVDX0RCID0gWwogICAgewogICAgICAgIGlkOiA5LCBuYW1lOiAiV2FybG9jayIsIGNvbG9yOiAiIzk0ODJDOSIsCiAgICAgICAgc3BlY3M6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IDMsIG5hbWU6ICJEZXN0cnVjdGlvbiIsIHJvbGU6ICJEUFMiLCByZXNvdXJjZU5hbWU6ICJNYW5hIiwgc2Vjb25kYXJ5UmVzb3VyY2VOYW1lOiAiU291bCBTaGFyZHMiLCBzZWNvbmRhcnlQb3dlcklkOiA3LAogICAgICAgICAgICAgICAgbWVsZWVDaGVja1NwZWxsOiAiU2hhZG93YnVybiIsCiAgICAgICAgICAgICAgICByYW5nZUNoZWNrU3BlbGw6ICJJbW1vbGF0ZSIsCiAgICAgICAgICAgICAgICBsb2Fkb3V0czogW3sgbmFtZTogIkNoYW9zIEJ1cnN0IiwgdHlwZTogIkFSRU5BIiwgcGV0U2xvdDogMSwgc3BlbGxzOiBbIkltbW9sYXRlIiwgIkNvbmZsYWdyYXRlIiwgIkNoYW9zIEJvbHQiLCAiU2hhZG93YnVybiIsICJJbmNpbmVyYXRlIiwgIkZlYXIiLCAiTW9ydGFsIENvaWwiLCAiU2hhZG93ZnVyeSIsICJIYXZvYyIsICJVbmVuZGluZyBSZXNvbHZlIiwgIkRhcmsgUGFjdCIsICJIZWFsdGhzdG9uZSIsICJTdW1tb24gRmVsaHVudGVyIiwgIlNwZWxsIExvY2siLCAiQW1wbGlmeSBDdXJzZSIsICJDdXJzZSBvZiBUb25ndWVzIl0gfV0sCiAgICAgICAgICAgICAgICBzcGVsbHM6IFsKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJVbmVuZGluZyBSZXNvbHZlIiwgaGV4OiAweDE0LCB0eXBlOiAiREVGRU5TSVZFIiwgcHJpb3JpdHk6IDEwMCwgcGxheWVySHA6IDQwLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJEYXJrIFBhY3QiLCBoZXg6IDB4MTUsIHR5cGU6ICJERUZFTlNJVkUiLCBwcmlvcml0eTogOTksIHBsYXllckhwOiA2MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU3VtbW9uIEZlbGh1bnRlciIsIGhleDogMHg2MiwgdHlwZTogIlBFVF9NQU5BR0UiLCBwcmlvcml0eTogMTAxLCBwZXRIcDogMCwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnUExBWUVSJyB9LCAvLyBSZS1zdW1tb24KICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTcGVsbCBMb2NrIiwgaGV4OiAweDBELCB0eXBlOiAiSU5URVJSVVBUIiwgcHJpb3JpdHk6IDEwMCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNwZWxsIExvY2siLCBoZXg6IDB4MjAsIHR5cGU6ICJBUkVOQV9JTlRFUlJVUFQiLCBwcmlvcml0eTogOTksIGFyZW5hVGFyZ2V0OiAxLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ0FSRU5BMScgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTcGVsbCBMb2NrIiwgaGV4OiAweDIxLCB0eXBlOiAiQVJFTkFfSU5URVJSVVBUIiwgcHJpb3JpdHk6IDk5LCBhcmVuYVRhcmdldDogMiwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdBUkVOQTInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU3BlbGwgTG9jayIsIGhleDogMHgyMiwgdHlwZTogIkFSRU5BX0lOVEVSUlVQVCIsIHByaW9yaXR5OiA5OSwgYXJlbmFUYXJnZXQ6IDMsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnQVJFTkEzJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNoYWRvd2Z1cnkiLCBoZXg6IDB4NDAsIHR5cGU6ICJHUk9VTkRfVEFSR0VUIiwgcHJpb3JpdHk6IDk4LCBncm91bmRUYXJnZXQ6IHRydWUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIk1vcnRhbCBDb2lsIiwgaGV4OiAweDFBLCB0eXBlOiAiQ0MiLCBwcmlvcml0eTogOTcsIHBsYXllckhwOiA3MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiRmVhciIsIGhleDogMHgxOCwgdHlwZTogIkNIQUlOX0NDIiwgcHJpb3JpdHk6IDk2LCBmb2N1c1RhcmdldDogdHJ1ZSwgb25seUhlYWxlcjogdHJ1ZSwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnRk9DVVMnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU2hhZG93YnVybiIsIGhleDogMHgwNSwgdHlwZTogIkVYRUNVVEUiLCBwcmlvcml0eTogOTUsIG1heEhwOiAyMCwgcmVzb3VyY2U6ICJTRUNPTkRBUlkiLCBjb3N0OiAxLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJDaGFvcyBCb2x0IiwgaGV4OiAweDA2LCB0eXBlOiAiQlVSU1QiLCBwcmlvcml0eTogOTAsIHJlc291cmNlOiAiU0VDT05EQVJZIiwgY29zdDogMiwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnVEFSR0VUJywgd2luZG93OiAnQlVSU1QnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQ29uZmxhZ3JhdGUiLCBoZXg6IDB4MDQsIHR5cGU6ICJEQU1BR0UiLCBwcmlvcml0eTogODUsIGNoYXJnZXM6IDEsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkltbW9sYXRlIiwgaGV4OiAweDAzLCB0eXBlOiAiTUFJTlRBSU5fQlVGRiIsIHByaW9yaXR5OiA4MCwgYnVmZk1pc3Npbmc6ICJJbW1vbGF0ZSIsIHNuYXBzaG90OiB0cnVlLCBtb3Zpbmc6IGZhbHNlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sIC8vIFNuYXBzaG90IGxvZ2ljCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSW5jaW5lcmF0ZSIsIGhleDogMHgwMSwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA2MCwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfSwKICAgIHsKICAgICAgICBpZDogMywgbmFtZTogIkh1bnRlciIsIGNvbG9yOiAiI0FCRDQ3MyIsCiAgICAgICAgc3BlY3M6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IDEsIG5hbWU6ICJCZWFzdCBNYXN0ZXJ5Iiwgcm9sZTogIkRQUyIsIHJlc291cmNlTmFtZTogIkZvY3VzIiwKICAgICAgICAgICAgICAgIG1lbGVlQ2hlY2tTcGVsbDogIldpbmcgQ2xpcCIsCiAgICAgICAgICAgICAgICByYW5nZUNoZWNrU3BlbGw6ICJDb2JyYSBTaG90IiwKICAgICAgICAgICAgICAgIGxvYWRvdXRzOiBbCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQXJlbmEgKEN1bm5pbmcpIiwgdHlwZTogIkFSRU5BIiwgcGV0U2xvdDogMywgc3BlbGxzOiBbIktpbGwgQ29tbWFuZCIsICJCYXJiZWQgU2hvdCIsICJDb2JyYSBTaG90IiwgIkJlc3RpYWwgV3JhdGgiLCAiS2lsbCBTaG90IiwgIk11bHRpLVNob3QiLCAiRnJlZXppbmcgVHJhcCIsICJUYXIgVHJhcCIsICJGbGFyZSIsICJDb3VudGVyIFNob3QiLCAiSW50aW1pZGF0aW9uIiwgIkV4aGlsYXJhdGlvbiIsICJNYXN0ZXIncyBDYWxsIiwgIk1lbmQgUGV0IiwgIlJldml2ZSBQZXQiLCAiQ2FsbCBQZXQgMyJdIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUHZFIChGZXJvY2l0eSkiLCB0eXBlOiAiRFVOR0VPTiIsIHBldFNsb3Q6IDEsIHNwZWxsczogWyJLaWxsIENvbW1hbmQiLCAiQmFyYmVkIFNob3QiLCAiQ29icmEgU2hvdCIsICJCZXN0aWFsIFdyYXRoIiwgIktpbGwgU2hvdCIsICJNdWx0aS1TaG90IiwgIkNvdW50ZXIgU2hvdCIsICJFeGhpbGFyYXRpb24iLCAiTWVuZCBQZXQiLCAiUmV2aXZlIFBldCIsICJDYWxsIFBldCAxIl0gfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHNwZWxsczogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkV4aGlsYXJhdGlvbiIsIGhleDogMHgxNCwgdHlwZTogIkRFRkVOU0lWRSIsIHByaW9yaXR5OiAxMDAsIHBsYXllckhwOiAzMCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTWFzdGVyJ3MgQ2FsbCIsIGhleDogMHg0MCwgdHlwZTogIlNOQVJFX0JSRUFLIiwgcHJpb3JpdHk6IDEwMSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUmV2aXZlIFBldCIsIGhleDogMHg2MCwgdHlwZTogIlBFVF9NQU5BR0UiLCBwcmlvcml0eTogMTAyLCBwZXRIcDogMCwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnUExBWUVSJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNhbGwgUGV0IDEiLCBoZXg6IDB4NjIsIHR5cGU6ICJQRVRfTUFOQUdFIiwgcHJpb3JpdHk6IDEwMSwgcGV0SHA6IDAsIG1vdmluZzogZmFsc2UsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJDYWxsIFBldCAzIiwgaGV4OiAweDY0LCB0eXBlOiAiUEVUX01BTkFHRSIsIHByaW9yaXR5OiAxMDEsIHBldEhwOiAwLCBtb3Zpbmc6IGZhbHNlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTWVuZCBQZXQiLCBoZXg6IDB4NjEsIHR5cGU6ICJQRVRfTUFOQUdFIiwgcHJpb3JpdHk6IDk4LCBwZXRIcDogNTAsIGJ1ZmZNaXNzaW5nOiAiTWVuZCBQZXQiLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BFVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJDb3VudGVyIFNob3QiLCBoZXg6IDB4MEMsIHR5cGU6ICJJTlRFUlJVUFQiLCBwcmlvcml0eTogOTksIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJywgcmVhY3Rpb25DdXJ2ZTogJ0dPRCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJGcmVlemluZyBUcmFwIiwgaGV4OiAweDE4LCB0eXBlOiAiQ0hBSU5fQ0MiLCBwcmlvcml0eTogOTcsIGdyb3VuZFRhcmdldDogdHJ1ZSwgZm9jdXNUYXJnZXQ6IHRydWUsIG9ubHlIZWFsZXI6IHRydWUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnRk9DVVMnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiSW50aW1pZGF0aW9uIiwgaGV4OiAweDFBLCB0eXBlOiAiQ0MiLCBwcmlvcml0eTogOTYsIGZvY3VzVGFyZ2V0OiB0cnVlLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ0ZPQ1VTJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkJlc3RpYWwgV3JhdGgiLCBoZXg6IDB4MTAsIHR5cGU6ICJCVVJTVCIsIHByaW9yaXR5OiA5MywgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInLCB3aW5kb3c6ICdCVVJTVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJLaWxsIFNob3QiLCBoZXg6IDB4MDUsIHR5cGU6ICJFWEVDVVRFIiwgcHJpb3JpdHk6IDkwLCBtYXhIcDogMjAsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIktpbGwgQ29tbWFuZCIsIGhleDogMHgwMiwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4NSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQmFyYmVkIFNob3QiLCBoZXg6IDB4MDMsIHR5cGU6ICJNQUlOVEFJTl9CVUZGIiwgcHJpb3JpdHk6IDgyLCBjaGFyZ2VzOiAxLCBidWZmU3RhY2tzTWF4OiAzLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJDb2JyYSBTaG90IiwgaGV4OiAweDAxLCB0eXBlOiAiREFNQUdFIiwgcHJpb3JpdHk6IDYwLCByZXNvdXJjZTogIlBSSU1BUlkiLCBjb3N0OiA0MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9LAogICAgewogICAgICAgIGlkOiAxMiwgbmFtZTogIkRlbW9uIEh1bnRlciIsIGNvbG9yOiAiI0EzMzBDOSIsCiAgICAgICAgc3BlY3M6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IDEsIG5hbWU6ICJIYXZvYyIsIHJvbGU6ICJEUFMiLCByZXNvdXJjZU5hbWU6ICJGdXJ5IiwKICAgICAgICAgICAgICAgIG1lbGVlQ2hlY2tTcGVsbDogIkNoYW9zIFN0cmlrZSIsCiAgICAgICAgICAgICAgICByYW5nZUNoZWNrU3BlbGw6ICJUaHJvdyBHbGFpdmUiLAogICAgICAgICAgICAgICAgbG9hZG91dHM6IFt7IG5hbWU6ICJGZWwgU2NhcnJlZCIsIHR5cGU6ICJBUkVOQSIsIHNwZWxsczogWyJDaGFvcyBTdHJpa2UiLCAiQmxhZGUgRGFuY2UiLCAiRXllIEJlYW0iLCAiVGhlIEh1bnQiLCAiTWV0YW1vcnBob3NpcyIsICJJbW1vbGF0aW9uIEF1cmEiLCAiRmVsIFJ1c2giLCAiVmVuZ2VmdWwgUmV0cmVhdCIsICJEaXNydXB0IiwgIkNoYW9zIE5vdmEiLCAiQmx1ciIsICJOZXRoZXJ3YWxrIiwgIkNvbnN1bWUgTWFnaWMiLCAiVGhyb3cgR2xhaXZlIl0gfV0sCiAgICAgICAgICAgICAgICBzcGVsbHM6IFsKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJOZXRoZXJ3YWxrIiwgaGV4OiAweDE1LCB0eXBlOiAiREVGRU5TSVZFIiwgcHJpb3JpdHk6IDEwMSwgcGxheWVySHA6IDE1LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicsIHJlYWN0aW9uQ3VydmU6ICdHT0QnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQmx1ciIsIGhleDogMHgxNCwgdHlwZTogIkRFRkVOU0lWRSIsIHByaW9yaXR5OiAxMDAsIHBsYXllckhwOiAzNSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiRGlzcnVwdCIsIGhleDogMHgwQywgdHlwZTogIklOVEVSUlVQVCIsIHByaW9yaXR5OiA5OSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNvbnN1bWUgTWFnaWMiLCBoZXg6IDB4MUQsIHR5cGU6ICJQVVJHRSIsIHByaW9yaXR5OiA5OCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVGhlIEh1bnQiLCBoZXg6IDB4MTksIHR5cGU6ICJCVVJTVCIsIHByaW9yaXR5OiA5NSwgZ3JvdW5kVGFyZ2V0OiB0cnVlLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcsIHdpbmRvdzogJ0JVUlNUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkZlbCBSdXNoIiwgaGV4OiAweDQwLCB0eXBlOiAiU0FGRV9NT1ZFTUVOVCIsIHByaW9yaXR5OiA5NCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiVmVuZ2VmdWwgUmV0cmVhdCIsIGhleDogMHg0MSwgdHlwZTogIlNBRkVfTU9WRU1FTlQiLCBwcmlvcml0eTogOTQsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnUExBWUVSJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkV5ZSBCZWFtIiwgaGV4OiAweDA2LCB0eXBlOiAiQlVSU1QiLCBwcmlvcml0eTogOTAsIG1vdmluZzogZmFsc2UsIHRhcmdldDogJ1RBUkdFVCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJCbGFkZSBEYW5jZSIsIGhleDogMHgwNCwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4NSwgcmVzb3VyY2U6ICJQUklNQVJZIiwgY29zdDogMTUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkNoYW9zIFN0cmlrZSIsIGhleDogMHgwMiwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4MCwgcmVzb3VyY2U6ICJQUklNQVJZIiwgY29zdDogNDAsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkltbW9sYXRpb24gQXVyYSIsIGhleDogMHgwMywgdHlwZTogIk1BSU5UQUlOX0JVRkYiLCBwcmlvcml0eTogNzAsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnUExBWUVSJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRocm93IEdsYWl2ZSIsIGhleDogMHgwMSwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA2MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9LAogICAgewogICAgICAgIGlkOiAxMSwgbmFtZTogIkRydWlkIiwgY29sb3I6ICIjRkY3RDBBIiwKICAgICAgICBzcGVjczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMiwgbmFtZTogIkZlcmFsIiwgcm9sZTogIkRQUyIsIHJlc291cmNlTmFtZTogIkVuZXJneSIsIHNlY29uZGFyeVJlc291cmNlTmFtZTogIkNvbWJvIFBvaW50cyIsIHNlY29uZGFyeVBvd2VySWQ6IDQsCiAgICAgICAgICAgICAgICBtZWxlZUNoZWNrU3BlbGw6ICJTaHJlZCIsCiAgICAgICAgICAgICAgICByYW5nZUNoZWNrU3BlbGw6ICJNb29uZmlyZSIsCiAgICAgICAgICAgICAgICBsb2Fkb3V0czogW3sgbmFtZTogIkp1bmdsZSBDbGVhdmUiLCB0eXBlOiAiQVJFTkEiLCBzcGVsbHM6IFsiUmFrZSIsICJSaXAiLCAiRmVyb2Npb3VzIEJpdGUiLCAiU2hyZWQiLCAiVGlnZXIncyBGdXJ5IiwgIkJlcnNlcmsiLCAiQWRhcHRpdmUgU3dhcm0iLCAiRmVyYWwgRnJlbnp5IiwgIlNrdWxsIEJhc2giLCAiQ3ljbG9uZSIsICJNYWltIiwgIlN1cnZpdmFsIEluc3RpbmN0cyIsICJCYXJrc2tpbiIsICJSZWdyb3d0aCIsICJXaWxkIENoYXJnZSIsICJUcmF2ZWwgRm9ybSIsICJDYXQgRm9ybSIsICJCZWFyIEZvcm0iXSB9XSwKICAgICAgICAgICAgICAgIHNwZWxsczogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlN1cnZpdmFsIEluc3RpbmN0cyIsIGhleDogMHgxNCwgdHlwZTogIkRFRkVOU0lWRSIsIHByaW9yaXR5OiAxMDAsIHBsYXllckhwOiAzMCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRyYXZlbCBGb3JtIiwgaGV4OiAweDQwLCB0eXBlOiAiU05BUkVfQlJFQUsiLCBwcmlvcml0eTogMTAxLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTa3VsbCBCYXNoIiwgaGV4OiAweDBELCB0eXBlOiAiSU5URVJSVVBUIiwgcHJpb3JpdHk6IDk5LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcsIHJlYWN0aW9uQ3VydmU6ICdHT0QnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQ3ljbG9uZSIsIGhleDogMHgxOCwgdHlwZTogIkNIQUlOX0NDIiwgcHJpb3JpdHk6IDk3LCBmb2N1c1RhcmdldDogdHJ1ZSwgb25seUhlYWxlcjogdHJ1ZSwgbW92aW5nOiBmYWxzZSwgdGFyZ2V0OiAnRk9DVVMnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiV2lsZCBDaGFyZ2UiLCBoZXg6IDB4MUIsIHR5cGU6ICJHQVBfQ0xPU0VSIiwgcHJpb3JpdHk6IDk2LCBtaW5SYW5nZTogMTAsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlJlZ3Jvd3RoIiwgaGV4OiAweDE2LCB0eXBlOiAiT0ZGX0hFQUwiLCBwcmlvcml0eTogOTUsIGJ1ZmZQcmVzZW50OiAiUHJlZGF0b3J5IFN3aWZ0bmVzcyIsIHBsYXllckhwOiA2MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdQTEFZRVInIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiQmVyc2VyayIsIGhleDogMHgxMCwgdHlwZTogIkJVUlNUIiwgcHJpb3JpdHk6IDkzLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicsIHdpbmRvdzogJ0JVUlNUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRpZ2VyJ3MgRnVyeSIsIGhleDogMHgxMSwgdHlwZTogIk1BSU5UQUlOX0JVRkYiLCBwcmlvcml0eTogOTIsIHJlc291cmNlOiAiUFJJTUFSWSIsIGNvc3Q6IDMwLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJGZXJhbCBGcmVuenkiLCBoZXg6IDB4MDYsIHR5cGU6ICJCVVJTVCIsIHByaW9yaXR5OiA5MCwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiRmVyb2Npb3VzIEJpdGUiLCBoZXg6IDB4MDUsIHR5cGU6ICJFWEVDVVRFIiwgcHJpb3JpdHk6IDg4LCByZXNvdXJjZTogIlNFQ09OREFSWSIsIGNvc3Q6IDUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlJpcCIsIGhleDogMHgwNCwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4NSwgcmVzb3VyY2U6ICJTRUNPTkRBUlkiLCBjb3N0OiA1LCBidWZmTWlzc2luZzogIlJpcCIsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlJha2UiLCBoZXg6IDB4MDIsIHR5cGU6ICJEQU1BR0UiLCBwcmlvcml0eTogODAsIGJ1ZmZNaXNzaW5nOiAiUmFrZSIsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNocmVkIiwgaGV4OiAweDAxLCB0eXBlOiAiREFNQUdFIiwgcHJpb3JpdHk6IDYwLCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcgfSwKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgICAgaWQ6IDEsIG5hbWU6ICJXYXJyaW9yIiwgY29sb3I6ICIjQzc5QzZFIiwKICAgICAgICBzcGVjczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZDogMSwgbmFtZTogIkFybXMiLCByb2xlOiAiRFBTIiwgcmVzb3VyY2VOYW1lOiAiUmFnZSIsCiAgICAgICAgICAgICAgICBtZWxlZUNoZWNrU3BlbGw6ICJNb3J0YWwgU3RyaWtlIiwKICAgICAgICAgICAgICAgIHJhbmdlQ2hlY2tTcGVsbDogIkNoYXJnZSIsCiAgICAgICAgICAgICAgICBsb2Fkb3V0czogW3sgbmFtZTogIldhcmxvcmQiLCB0eXBlOiAiQVJFTkEiLCBzcGVsbHM6IFsiTW9ydGFsIFN0cmlrZSIsICJFeGVjdXRlIiwgIk92ZXJwb3dlciIsICJDb2xvc3N1cyBTbWFzaCIsICJCbGFkZXN0b3JtIiwgIlNoYXJwZW4gQmxhZGUiLCAiU3Rvcm0gQm9sdCIsICJEaXNhcm0iLCAiU3BlbGwgUmVmbGVjdGlvbiIsICJJbnRlcnZlbmUiLCAiSGVyb2ljIExlYXAiLCAiQ2hhcmdlIiwgIkhhbXN0cmluZyIsICJQdW1tZWwiLCAiSW50aW1pZGF0aW5nIFNob3V0IiwgIlNoYXR0ZXJpbmcgVGhyb3ciLCAiVGF1bnQiXSB9XSwKICAgICAgICAgICAgICAgIHNwZWxsczogWwogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlRhdW50IiwgaGV4OiAweDM1LCB0eXBlOiAiUEVUX1RBVU5UIiwgcHJpb3JpdHk6IDEwMSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdBUkVOQTEnLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIlNwZWxsIFJlZmxlY3Rpb24iLCBoZXg6IDB4MTksIHR5cGU6ICJQUkVfRU1QVCIsIHByaW9yaXR5OiAxMDEsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnUExBWUVSJywgcmVhY3Rpb25DdXJ2ZTogJ0dPRCcgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTaGF0dGVyaW5nIFRocm93IiwgaGV4OiAweDFELCB0eXBlOiAiU1RSSVBfSU1NVU5JVFkiLCBwcmlvcml0eTogMTAwLCBtb3Zpbmc6IGZhbHNlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiUHVtbWVsIiwgaGV4OiAweDBELCB0eXBlOiAiRk9DVVNfSU5URVJSVVBUIiwgcHJpb3JpdHk6IDEwMCwgZm9jdXNUYXJnZXQ6IHRydWUsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnRk9DVVMnLCByZWFjdGlvbkN1cnZlOiAnR09EJyB9LAogICAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkhhbXN0cmluZyIsIGhleDogMHgzMCwgdHlwZTogIlRPVEVNX1NUT01QIiwgcHJpb3JpdHk6IDk5LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ01PVVNFT1ZFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJIZXJvaWMgTGVhcCIsIGhleDogMHg0MCwgdHlwZTogIkdBUF9DTE9TRVIiLCBwcmlvcml0eTogOTYsIG1vdmluZzogdHJ1ZSwgdGFyZ2V0OiAnVEFSR0VUJywgZ3JvdW5kVGFyZ2V0OiB0cnVlIH0sIC8vIEBjdXJzb3IKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTdG9ybSBCb2x0IiwgaGV4OiAweDBDLCB0eXBlOiAiQkFDS1VQX0lOVEVSUlVQVCIsIHByaW9yaXR5OiA5OSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU2hhcnBlbiBCbGFkZSIsIGhleDogMHgxNSwgdHlwZTogIkJVUlNUIiwgcHJpb3JpdHk6IDkyLCBpc1B2UFRhbGVudDogdHJ1ZSwgY29vbGRvd246IDI1LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1BMQVlFUicgfSwKICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICJFeGVjdXRlIiwgaGV4OiAweDA1LCB0eXBlOiAiRVhFQ1VURSIsIHByaW9yaXR5OiA4OCwgbWF4SHA6IDM1LCBtb3Zpbmc6IHRydWUsIHRhcmdldDogJ1RBUkdFVCcsIHdpbmRvdzogJ0VYRUNVVEUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiTW9ydGFsIFN0cmlrZSIsIGhleDogMHgwMSwgdHlwZTogIkRBTUFHRSIsIHByaW9yaXR5OiA4NSwgbW92aW5nOiB0cnVlLCB0YXJnZXQ6ICdUQVJHRVQnIH0sCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICBdCiAgICB9Cl07Ci8vIC0tLSBEeW5hbWljIEdlbmVyYXRvcnMgLS0tCmNvbnN0IGdlbmVyYXRlTHVhQ29kZSA9IChzcGVjKSA9PiB7CiAgICAvLyAxLiBTcGVsbHMKICAgIGNvbnN0IG1vbml0b3JlZFNwZWxscyA9IHNwZWMuc3BlbGxzLm1hcChzID0+IGBbIiR7cy5uYW1lfSJdID0gdHJ1ZWApLmpvaW4oJywnKTsKICAgIC8vIDIuIEJ1ZmYgU3RhY2tzIChQMjkpCiAgICBjb25zdCB0cmFja0J1ZmZMb2dpYyA9IHNwZWMudHJhY2tCdWZmU3RhY2tzID8gYAogICAgbG9jYWwgXywgXywgY291bnQgPSBBdXJhVXRpbC5GaW5kQXVyYUJ5TmFtZSgiJHtzcGVjLnRyYWNrQnVmZlN0YWNrc30iLCAicGxheWVyIikKICAgIFNldFBpeGVsKDI5LCAoY291bnQgb3IgMCkgKiAxMCkKICAgIGAgOiBgU2V0UGl4ZWwoMjksIDApYDsKICAgIC8vIDMuIFJhbmdlIFRyaWFuZ3VsYXRpb24gKFAyMSkKICAgIGNvbnN0IHJhbmdlTG9naWMgPSBgCiAgICBsb2NhbCByYW5nZVZhbCA9IDAKICAgIGlmIElzU3BlbGxJblJhbmdlKCIke3NwZWMubWVsZWVDaGVja1NwZWxsIHx8ICdBdHRhY2snfSIsICJ0YXJnZXQiKSA9PSAxIHRoZW4KICAgICAgICByYW5nZVZhbCA9IDEwIC0tIE1lbGVlIFJhbmdlICg8NS04eWQpCiAgICBlbHNlaWYgSXNTcGVsbEluUmFuZ2UoIiR7c3BlYy5yYW5nZUNoZWNrU3BlbGwgfHwgJ0F0dGFjayd9IiwgInRhcmdldCIpID09IDEgdGhlbgogICAgICAgIHJhbmdlVmFsID0gMjAgLS0gTWlkIFJhbmdlICg8MzAtNDB5ZCkKICAgIGVsc2UKICAgICAgICByYW5nZVZhbCA9IDMwIC0tIE91dCBvZiBSYW5nZQogICAgZW5kCiAgICBTZXRQaXhlbCgyMSwgcmFuZ2VWYWwgKiA4KQogICAgYDsKICAgIC8vIDQuIEZvY3VzIFRyYWNraW5nIChUSEUgVEhJUkQgRVlFIC0gUDExICYgUDEyKQogICAgY29uc3QgZm9jdXNMb2dpYyA9IGAKICAgIGxvY2FsIGZOYW1lLCBfLCBfLCBmU3RhcnQsIGZFbmQsIF8sIF8sIGZOb0ludCA9IFVuaXRDYXN0aW5nSW5mbygiZm9jdXMiKQogICAgaWYgbm90IGZOYW1lIHRoZW4gZk5hbWUsIF8sIF8sIGZTdGFydCwgZkVuZCwgXywgZk5vSW50ID0gVW5pdENoYW5uZWxJbmZvKCJmb2N1cyIpIGVuZAogICAgbG9jYWwgZkNhc3RWYWwgPSAwCiAgICBpZiBmTmFtZSBhbmQgbm90IGZOb0ludCBhbmQgREFOR0VST1VTW2ZOYW1lXSB0aGVuCiAgICAgICAgbG9jYWwgbm93ID0gR2V0VGltZSgpICogMTAwMAogICAgICAgIGxvY2FsIGR1cmF0aW9uID0gZkVuZCAtIGZTdGFydAogICAgICAgIGZDYXN0VmFsID0gMSArICgobm93IC0gZlN0YXJ0KSAvIGR1cmF0aW9uICogMjU0KQogICAgZW5kCiAgICBTZXRQaXhlbCgxMSwgZkNhc3RWYWwpCgogICAgbG9jYWwgZlN0YXR1cyA9IDAKICAgIGlmIFVuaXRFeGlzdHMoImZvY3VzIikgdGhlbgogICAgICAgIGZTdGF0dXMgPSBmU3RhdHVzICsgMSAKICAgICAgICBsb2NhbCBpZCA9IEdldEluc3BlY3RTcGVjaWFsaXphdGlvbigiZm9jdXMiKQogICAgICAgIGxvY2FsIGhlYWxlcnMgPSB7WzEwNV09dHJ1ZSwgWzI3MF09dHJ1ZSwgWzY1XT10cnVlLCBbMjU2XT10cnVlLCBbMjU3XT10cnVlLCBbMjY0XT10cnVlLCBbMTQ2OF09dHJ1ZX0KICAgICAgICBpZiBoZWFsZXJzW2lkXSB0aGVuIGZTdGF0dXMgPSBmU3RhdHVzICsgMiBlbmQKICAgICAgICBpZiBJc1NwZWxsSW5SYW5nZSgiJHtzcGVjLnJhbmdlQ2hlY2tTcGVsbCB8fCAnQXR0YWNrJ30iLCAiZm9jdXMiKSA9PSAxIHRoZW4gZlN0YXR1cyA9IGZTdGF0dXMgKyA0IGVuZAogICAgICAgIGZvciBpPTEsNDAgZG8KICAgICAgICAgICAgbG9jYWwgXywgXywgXywgXywgZHVyYXRpb24sIGV4cGlyYXRpb25UaW1lLCBfLCBfLCBfLCBzcGVsbElkID0gVW5pdERlYnVmZigiZm9jdXMiLCBpKQogICAgICAgICAgICBpZiBub3Qgc3BlbGxJZCB0aGVuIGJyZWFrIGVuZAogICAgICAgICAgICBmU3RhdHVzID0gZlN0YXR1cyArIDggCiAgICAgICAgICAgIGlmIGV4cGlyYXRpb25UaW1lIGFuZCAoZXhwaXJhdGlvblRpbWUgLSBHZXRUaW1lKCkgPCAxLjUpIHRoZW4gZlN0YXR1cyA9IGZTdGF0dXMgKyAxNiBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgU2V0UGl4ZWwoMTIsIGZTdGF0dXMgKiA1KQogICAgYDsKICAgIC8vIDUuIEltbXVuaXR5IFRyYWNraW5nIChQMTMpCiAgICBjb25zdCBpbW11bml0eUxvZ2ljID0gYAogICAgbG9jYWwgaW1tdW5pdHlTdGF0ZSA9IDAKICAgIGlmIFVuaXRFeGlzdHMoInRhcmdldCIpIHRoZW4KICAgICAgICBsb2NhbCBidWZmcyA9IHsgWzY0Ml0gPSAzLCBbNDU0MzhdID0gMywgWzEwMjJdID0gMSwgWzE4NjI2NV0gPSAxLCBbMzEyMjRdID0gMiB9CiAgICAgICAgZm9yIGk9MSw0MCBkbwogICAgICAgICAgICBsb2NhbCBfLCBfLCBfLCBfLCBfLCBfLCBfLCBfLCBfLCBzcGVsbElkID0gVW5pdEJ1ZmYoInRhcmdldCIsIGkpCiAgICAgICAgICAgIGlmIG5vdCBzcGVsbElkIHRoZW4gYnJlYWsgZW5kCiAgICAgICAgICAgIGlmIGJ1ZmZzW3NwZWxsSWRdIHRoZW4gaW1tdW5pdHlTdGF0ZSA9IGJ1ZmZzW3NwZWxsSWRdIGJyZWFrIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBTZXRQaXhlbCgxMywgaW1tdW5pdHlTdGF0ZSAqIDUwKQogICAgYDsKICAgIC8vIDYuIFRvdGVtIFN0b21waW5nIChQMTUpCiAgICBjb25zdCB0b3RlbUxvZ2ljID0gYAogICAgbG9jYWwgdG90ZW1BY3RpdmUgPSAwCiAgICAtLSBJbiByZWFsIEx1YSB0aGlzIHdvdWxkIHNjYW4gTmFtZXBsYXRlcwogICAgU2V0UGl4ZWwoMTUsIHRvdGVtQWN0aXZlICogMjU1KQogICAgYDsKICAgIC8vIDcuIEFyZW5hICYgQm9zcyBDYXN0aW5nIChQMjQsIFAyNSwgUDI2KQogICAgY29uc3Qgb21uaUxvZ2ljID0gYAogICAgZm9yIGk9MSwzIGRvCiAgICAgICAgbG9jYWwgdW5pdCA9ICJhcmVuYSIuLmkKICAgICAgICBsb2NhbCBjTmFtZSwgXywgXywgY1N0YXJ0LCBjRW5kLCBfLCBfLCBjTm9JbnQgPSBVbml0Q2FzdGluZ0luZm8odW5pdCkKICAgICAgICBpZiBub3QgY05hbWUgdGhlbiBjTmFtZSwgXywgXywgY1N0YXJ0LCBjRW5kLCBfLCBjTm9JbnQgPSBVbml0Q2hhbm5lbEluZm8odW5pdCkgZW5kCiAgICAgICAgbG9jYWwgY1ZhbCA9IDAKICAgICAgICBpZiBjTmFtZSBhbmQgbm90IGNOb0ludCBhbmQgREFOR0VST1VTW2NOYW1lXSB0aGVuIGNWYWwgPSAyNTUgZW5kCiAgICAgICAgU2V0UGl4ZWwoMjMraSwgY1ZhbCkgCiAgICBlbmQKICAgIGA7CiAgICAvLyA4LiBQbGF5ZXIgRGVidWZmcyAoUDE2IC0gUm9vdHMvU25hcmVzL0JyZWFrYWJsZSBDQykKICAgIGNvbnN0IHBsYXllckRlYnVmZkxvZ2ljID0gYAogICAgbG9jYWwgcFN0YXRlID0gMAogICAgZm9yIGk9MSw0MCBkbwogICAgICAgIGxvY2FsIG5hbWUsIF8sIF8sIHR5cGUsIF8sIF8sIF8sIF8sIF8sIGlkID0gVW5pdERlYnVmZigicGxheWVyIiwgaSkKICAgICAgICBpZiBub3QgaWQgdGhlbiBicmVhayBlbmQKICAgICAgICBpZiBpZCA9PSAyMTM2OTEgdGhlbiBwU3RhdGUgPSBwU3RhdGUgKyA0IGVuZCAtLSBTY2F0dGVyCiAgICBlbmQKICAgIGxvY2FsIHNwZWVkID0gR2V0VW5pdFNwZWVkKCJwbGF5ZXIiKQogICAgaWYgc3BlZWQgPiAwIGFuZCBzcGVlZCA8IDcgdGhlbiBwU3RhdGUgPSBwU3RhdGUgKyAyIGVuZCAKICAgIFNldFBpeGVsKDE2LCBwU3RhdGUgKiAxMCkKICAgIGA7CiAgICAvLyA5LiBQZXQgSGVhbHRoIChQMjIpCiAgICBjb25zdCBwZXRMb2dpYyA9IGAKICAgIGxvY2FsIHBocCA9IDAKICAgIGlmIFVuaXRFeGlzdHMoInBldCIpIHRoZW4gCiAgICAgICAgcGhwID0gVW5pdEhlYWx0aCgicGV0IikgLyBVbml0SGVhbHRoTWF4KCJwZXQiKSAKICAgIGVsc2VpZiAoR2V0TnVtR3JvdXBNZW1iZXJzKCkgPT0gMCkgdGhlbgogICAgICAgIC0tIFNvbG8gbG9naWM6IGlmIG5vIHBldCBhbmQgbm90IGRlYWQvZGlzbWlzc2VkIG9uIHB1cnBvc2UKICAgICAgICAtLSBwaHAgPSAwIChEZWFkL01pc3NpbmcpCiAgICBlbmQKICAgIFNldFBpeGVsKDIyLCBwaHAgKiAyNTUpCiAgICBgOwogICAgLy8gMTAuIFNuYXBzaG90IEJ1ZmZzIChQMzApIC0gVHJhY2tzIE1ham9yIENEcyBmb3IgRG9UIGxvZ2ljCiAgICBjb25zdCBzbmFwc2hvdExvZ2ljID0gYAogICAgbG9jYWwgc25hcCA9IDAKICAgIC0tIERhcmsgU291bCwgUG93ZXIgSW5mdXNpb24sIFRpZ2VyJ3MgRnVyeSwgZXRjCiAgICBsb2NhbCBidWZmcyA9IHsgWzExMzg2MF09dHJ1ZSwgWzEwMDYwXT10cnVlLCBbNTIxN109dHJ1ZSB9IAogICAgZm9yIGk9MSw0MCBkbwogICAgICAgIGxvY2FsIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIHNwZWxsSWQgPSBVbml0QnVmZigicGxheWVyIiwgaSkKICAgICAgICBpZiBub3Qgc3BlbGxJZCB0aGVuIGJyZWFrIGVuZAogICAgICAgIGlmIGJ1ZmZzW3NwZWxsSWRdIHRoZW4gc25hcCA9IDI1NSBicmVhayBlbmQKICAgIGVuZAogICAgU2V0UGl4ZWwoMzAsIHNuYXApCiAgICBgOwogICAgcmV0dXJuIGAtLSBTa2lsbFdlYXZlcl9BZGRvbi5sdWEKLS0gQVVUT01BVElDQUxMWSBHRU5FUkFURUQgRk9SOiAke3NwZWMubmFtZS50b1VwcGVyQ2FzZSgpfQotLSBQUk9UT0NPTCB2MjIuMCAoU1RFQUxUSCBQSEFOVE9NKQpsb2NhbCBBRERPTl9OQU1FID0gIlNraWxsV2VhdmVyIgpsb2NhbCBmID0gQ3JlYXRlRnJhbWUoIkZyYW1lIiwgQURET05fTkFNRSAuLiAiRnJhbWUiLCBVSVBhcmVudCkKZjpTZXRTaXplKDMyLCAxKSAKZjpTZXRQb2ludCgiQk9UVE9NTEVGVCIsIFVJUGFyZW50LCAiQk9UVE9NTEVGVCIsIDAsIDApCmY6U2V0RnJhbWVTdHJhdGEoIkJBQ0tHUk9VTkQiKSAKCmxvY2FsIERBTkdFUk9VUyA9IHsgJHtQVlBfS0lDS1MubWFwKHMgPT4gYFsiJHtzfSJdPXRydWVgKS5qb2luKCcsICcpfSB9Cgpsb2NhbCBwaXhlbHMgPSB7fQpmb3IgaSA9IDAsIDMxIGRvCiAgICBsb2NhbCB0ID0gZjpDcmVhdGVUZXh0dXJlKG5pbCwgIk9WRVJMQVkiKQogICAgdDpTZXRTaXplKDEsIDEpCiAgICB0OlNldFBvaW50KCJMRUZUIiwgZiwgIkxFRlQiLCBpLCAwKQogICAgLS0gQkFTRUxJTkU6IDEwJSBHcmF5LiBUaGlzIGlzIG91ciAiWmVybyIuCiAgICB0OlNldENvbG9yVGV4dHVyZSgwLjEsIDAuMSwgMC4xKQogICAgcGl4ZWxzW2ldID0gdAplbmQKCi0tIFNURUFMVEggUFJPVE9DT0w6IEVuY29kZSBkYXRhIGluIEJsdWUgY2hhbm5lbCBvZmZzZXQKbG9jYWwgZnVuY3Rpb24gU2V0UGl4ZWwoaW5kZXgsIHZhbHVlKQogICAgbG9jYWwgYmFzZSA9IDAuMQogICAgbG9jYWwgZGlmZiA9IHZhbHVlIC8gMjU1CiAgICAtLSBSPUJhc2UsIEc9QmFzZSwgQj1CYXNlICsgRGF0YQogICAgLS0gVGhlICJSZWFkaW5nIiBlbmdpbmUgd2lsbCBzdWJ0cmFjdCBSIGZyb20gQiB0byBnZXQgRGF0YS4KICAgIC0tIFRoaXMgY2FuY2VscyBvdXQgR2FtbWEvQnJpZ2h0bmVzcy9OaWdodExpZ2h0IHNldHRpbmdzLgogICAgcGl4ZWxzW2luZGV4XTpTZXRDb2xvclRleHR1cmUoYmFzZSwgYmFzZSwgYmFzZSArIGRpZmYpCmVuZAoKZjpTZXRTY3JpcHQoIk9uVXBkYXRlIiwgZnVuY3Rpb24oKQogICAgLS0gMDogQ2FsaWJyYXRpb24gKEFsd2F5cyAwLCB1c2VkIGFzIG5vaXNlIGZsb29yKQogICAgU2V0UGl4ZWwoMCwgMCkKCiAgICAtLSAxOiBIYXNoCiAgICBsb2NhbCBfLCBfLCBjbGFzc0lEID0gVW5pdENsYXNzKCJwbGF5ZXIiKQogICAgbG9jYWwgc3BlY0lEID0gR2V0U3BlY2lhbGl6YXRpb24oKSBvciAwCiAgICBTZXRQaXhlbCgxLCAoY2xhc3NJRCAqIDEwKSArIHNwZWNJRCkKCiAgICAtLSAyOiBDb21iYXQKICAgIFNldFBpeGVsKDIsIFVuaXRBZmZlY3RpbmdDb21iYXQoInBsYXllciIpIGFuZCAyNTUgb3IgMCkKCiAgICAtLSAzOiBQbGF5ZXIgSFAKICAgIFNldFBpeGVsKDMsIChVbml0SGVhbHRoKCJwbGF5ZXIiKSAvIFVuaXRIZWFsdGhNYXgoInBsYXllciIpKSAqIDI1NSkKCiAgICAtLSA0OiBUYXJnZXQgSFAKICAgIGxvY2FsIHRocCA9IDAKICAgIGlmIFVuaXRFeGlzdHMoInRhcmdldCIpIHRoZW4gdGhwID0gVW5pdEhlYWx0aCgidGFyZ2V0IikgLyBVbml0SGVhbHRoTWF4KCJ0YXJnZXQiKSBlbmQKICAgIFNldFBpeGVsKDQsIHRocCAqIDI1NSkKCiAgICAtLSA1OiBUYXJnZXQgVmFsaWQKICAgIFNldFBpeGVsKDUsIChVbml0RXhpc3RzKCJ0YXJnZXQiKSBhbmQgVW5pdENhbkF0dGFjaygicGxheWVyIiwgInRhcmdldCIpKSBhbmQgMjU1IG9yIDApCgogICAgLS0gNjogU21hcnQgSW50ZXJydXB0IChUYXJnZXQpCiAgICBsb2NhbCBuYW1lLCBfLCBfLCBzdGFydFRpbWUsIGVuZFRpbWUsIF8sIF8sIG5vdEludGVycnVwdGlibGUgPSBVbml0Q2FzdGluZ0luZm8oInRhcmdldCIpCiAgICBpZiBub3QgbmFtZSB0aGVuIG5hbWUsIF8sIF8sIHN0YXJ0VGltZSwgZW5kVGltZSwgXywgbm90SW50ZXJydXB0aWJsZSA9IFVuaXRDaGFubmVsSW5mbygidGFyZ2V0IikgZW5kCiAgICBsb2NhbCBjYXN0VmFsID0gMAogICAgaWYgbmFtZSBhbmQgbm90IG5vdEludGVycnVwdGlibGUgYW5kIERBTkdFUk9VU1tuYW1lXSB0aGVuCiAgICAgICAgbG9jYWwgbm93ID0gR2V0VGltZSgpICogMTAwMAogICAgICAgIGxvY2FsIGR1cmF0aW9uID0gZW5kVGltZSAtIHN0YXJ0VGltZQogICAgICAgIGxvY2FsIHByb2dyZXNzID0gKG5vdyAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbgogICAgICAgIGNhc3RWYWwgPSAxICsgKHByb2dyZXNzICogMjU0KQogICAgZW5kCiAgICBTZXRQaXhlbCg2LCBjYXN0VmFsKQoKICAgIC0tIDc6IFByaW1hcnkgUmVzb3VyY2UKICAgIGxvY2FsIHBvd2VyID0gVW5pdFBvd2VyKCJwbGF5ZXIiKQogICAgbG9jYWwgbWF4ID0gVW5pdFBvd2VyTWF4KCJwbGF5ZXIiKQogICAgU2V0UGl4ZWwoNywgKG1heCA+IDApIGFuZCAocG93ZXIgLyBtYXggKiAyNTUpIG9yIDApCgogICAgLS0gODogU2Vjb25kYXJ5IFJlc291cmNlCiAgICAke3NwZWMuc2Vjb25kYXJ5UG93ZXJJZCA/IGBTZXRQaXhlbCg4LCBVbml0UG93ZXIoInBsYXllciIsICR7c3BlYy5zZWNvbmRhcnlQb3dlcklkfSkgKiAyNSlgIDogYFNldFBpeGVsKDgsIDApYH0KCiAgICAtLSA5OiBSYW5nZSAoTGVnYWN5KQogICAgU2V0UGl4ZWwoOSwgKElzU3BlbGxJblJhbmdlKCIke3NwZWMuc3BlbGxzWzBdPy5uYW1lIHx8ICdBdHRhY2snfSIsICJ0YXJnZXQiKSA9PSAxKSBhbmQgMjU1IG9yIDApCgogICAgLS0gMTA6IEdDRAogICAgbG9jYWwgc3RhcnQsIGR1cmF0aW9uID0gR2V0U3BlbGxDb29sZG93big2MTMwNCkgCiAgICBTZXRQaXhlbCgxMCwgKGR1cmF0aW9uID09IDApIGFuZCAyNTUgb3IgMCkgCiAgICAKICAgIC0tIDExICYgMTI6IEZvY3VzIExvZ2ljCiAgICAke2ZvY3VzTG9naWN9CgogICAgLS0gMTM6IEltbXVuaXR5IFN0YXRlCiAgICAke2ltbXVuaXR5TG9naWN9CgogICAgLS0gMTQ6IEZvY3VzIFRhcmdldHMgTWUKICAgIFNldFBpeGVsKDE0LCAoVW5pdEV4aXN0cygiZm9jdXMiKSBhbmQgVW5pdElzVW5pdCgiZm9jdXN0YXJnZXQiLCAicGxheWVyIikpIGFuZCAyNTUgb3IgMCkKCiAgICAtLSAxNTogVG90ZW0gQWN0aXZlCiAgICAke3RvdGVtTG9naWN9CiAgICAKICAgIC0tIDE2OiBQbGF5ZXIgRGVidWZmcyAoUm9vdHMvU25hcmUvU2NhdHRlcikKICAgICR7cGxheWVyRGVidWZmTG9naWN9CgogICAgLS0gMTc6IFRhcmdldGluZyBNZQogICAgU2V0UGl4ZWwoMTcsIFVuaXRJc1VuaXQoInRhcmdldHRhcmdldCIsICJwbGF5ZXIiKSBhbmQgMjU1IG9yIDApCgogICAgLS0gMTg6IFRhcmdldCBDbGFzcwogICAgbG9jYWwgXywgXywgdGFyZ2V0Q2xhc3NJRCA9IFVuaXRDbGFzcygidGFyZ2V0IikKICAgIFNldFBpeGVsKDE4LCAodGFyZ2V0Q2xhc3NJRCBvciAwKSAqIDEwKSAKICAgIAogICAgLS0gMTk6IEVuZW15IENvdW50CiAgICBsb2NhbCBlbmVteUNvdW50ID0gMAogICAgaWYgQ19OYW1lUGxhdGUgdGhlbgogICAgICAgIGZvciBfLCBwbGF0ZSBpbiBwYWlycyhDX05hbWVQbGF0ZS5HZXROYW1lUGxhdGVzKCkpIGRvCiAgICAgICAgICAgIGxvY2FsIHVuaXQgPSBwbGF0ZS5Vbml0RnJhbWUgYW5kIHBsYXRlLlVuaXRGcmFtZS51bml0CiAgICAgICAgICAgIGlmIHVuaXQgYW5kIFVuaXRDYW5BdHRhY2soInBsYXllciIsIHVuaXQpIGFuZCBVbml0QWZmZWN0aW5nQ29tYmF0KHVuaXQpIHRoZW4gZW5lbXlDb3VudCA9IGVuZW15Q291bnQgKyAxIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICBTZXRQaXhlbCgxOSwgbWF0aC5taW4oMjU1LCBlbmVteUNvdW50ICogMTApKQoKICAgIC0tIDIwOiBDQyBTdGF0ZQogICAgU2V0UGl4ZWwoMjAsIDApIAoKICAgIC0tIDIxOiBSYW5nZSBUaWVyCiAgICAke3JhbmdlTG9naWN9CiAgICAKICAgIC0tIDIyOiBQZXQgSGVhbHRoCiAgICAke3BldExvZ2ljfQoKICAgIC0tIDIzOiBQdXJnZWFibGUgQ291bnQKICAgIGxvY2FsIHBDb3VudCA9IDAKICAgIGlmIFVuaXRFeGlzdHMoInRhcmdldCIpIHRoZW4KICAgICAgICBmb3IgaT0xLDQwIGRvCiAgICAgICAgICAgIGxvY2FsIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIF8sIHNwZWxsSWQsIF8sIGlzU3RlYWxhYmxlID0gVW5pdEJ1ZmYoInRhcmdldCIsIGkpCiAgICAgICAgICAgIGlmIG5vdCBzcGVsbElkIHRoZW4gYnJlYWsgZW5kCiAgICAgICAgICAgIGlmIGlzU3RlYWxhYmxlIHRoZW4gcENvdW50ID0gcENvdW50ICsgMSBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgU2V0UGl4ZWwoMjMsIG1hdGgubWluKDI1NSwgcENvdW50ICogMTApKQoKICAgIC0tIDI0LCAyNSwgMjY6IEFyZW5hIEludGVycnVwdHMKICAgICR7b21uaUxvZ2ljfQoKICAgIC0tIDI3OiBUYXJnZXQgU3BlYyBJRAogICAgbG9jYWwgdGFyZ2V0U3BlY0lEID0gMAogICAgaWYgVW5pdElzUGxheWVyKCJ0YXJnZXQiKSB0aGVuCiAgICAgICAgdGFyZ2V0U3BlY0lEID0gR2V0SW5zcGVjdFNwZWNpYWxpemF0aW9uKCJ0YXJnZXQiKQogICAgZW5kCiAgICBTZXRQaXhlbCgyNywgbWF0aC5taW4oMjU1LCAodGFyZ2V0U3BlY0lEIG9yIDApIC8gMikpCgogICAgLS0gMjg6IFBsYXllciBNb3ZpbmcKICAgIFNldFBpeGVsKDI4LCAoR2V0VW5pdFNwZWVkKCJwbGF5ZXIiKSA+IDApIGFuZCAyNTUgb3IgMCkKCiAgICAtLSAyOTogQnVmZiBTdGFja3MKICAgICR7dHJhY2tCdWZmTG9naWN9CgogICAgLS0gMzA6IFNuYXBzaG90IC8gRG9UIExvZ2ljCiAgICAke3NuYXBzaG90TG9naWN9CiAgICAKICAgIC0tIDMxOiBHVEZPCiAgICBTZXRQaXhlbCgzMSwgMCkKCmVuZCkKYDsKfTsKY29uc3QgZ2VuZXJhdGVQeXRob25Db2RlID0gKHNwZWNIYXNoKSA9PiB7CiAgICByZXR1cm4gYCMgTG9naWNFbmdpbmUucHkKIyBQUk9UT0NPTCB2MjIuMCAoU1RFQUxUSCBQSEFOVE9NKQojIERpZmZlcmVudGlhbCBSR0IgRGVjb2Rpbmc6IChCbHVlIC0gUmVkKSA9IERhdGEKCmltcG9ydCB0aW1lCmltcG9ydCBqc29uCmltcG9ydCBzZXJpYWwKaW1wb3J0IG1zcwppbXBvcnQgbnVtcHkgYXMgbnAKZnJvbSBQSUwgaW1wb3J0IEltYWdlCgojIENPTkZJR1VSQVRJT04KTE9HSUNfREJfUEFUSCA9ICIke3NwZWNIYXNofS5qc29uIgpTRVJJQUxfUE9SVCA9ICJDT00zIgpCQVVEX1JBVEUgPSA5NjAwClJFVElOQV9TQ0FMRSA9IDIgIyBTZXQgdG8gMiBmb3IgTWFjL1JldGluYSwgMSBmb3IgU3RhbmRhcmQKCiMgR0FNRSBTVEFURSAoTUlSUk9SUyBMVUEpCmNsYXNzIEdhbWVTdGF0ZToKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmNvbWJhdCA9IEZhbHNlCiAgICAgICAgc2VsZi5wbGF5ZXJfaHAgPSAxMDAKICAgICAgICBzZWxmLnRhcmdldF9ocCA9IDEwMAogICAgICAgIHNlbGYucmVzb3VyY2VzID0gMAogICAgICAgIHNlbGYucmFuZ2VfdGllciA9IDAKICAgICAgICBzZWxmLnBldF9ocCA9IDEwMAogICAgICAgIHNlbGYuc25hcHNob3RfYWN0aXZlID0gRmFsc2UKICAgICAgICBzZWxmLnNhZmVfbW92ZW1lbnQgPSBUcnVlICMgRGVmYXVsdCBTYWZldHkKCiAgICBkZWYgZGVjb2RlX3BpeGVsKHNlbGYsIHB4KToKICAgICAgICAjIERpZmZlcmVudGlhbCBEZWNvZGluZwogICAgICAgICMgQmFzZSBDb2xvciBpcyAoMC4xLCAwLjEsIDAuMSkKICAgICAgICAjIERhdGEgaXMgYWRkZWQgdG8gQmx1ZSBjaGFubmVsLgogICAgICAgICMgU28gRGF0YSA9IEJsdWUgLSBSZWQKICAgICAgICAjIFdlIGFzc3VtZSAwLTI1NSBpbnB1dHMgZnJvbSBtc3MKICAgICAgICAKICAgICAgICByID0gaW50KHB4WzBdKQogICAgICAgIGIgPSBpbnQocHhbMl0pCiAgICAgICAgCiAgICAgICAgIyBTaW1wbGUgc3VidHJhY3Rpb24gd2l0aCBmbG9vciBjbGFtcGluZwogICAgICAgIHZhbCA9IG1heCgwLCBiIC0gcikKICAgICAgICByZXR1cm4gdmFsCgogICAgZGVmIHVwZGF0ZShzZWxmLCBwaXhlbHMpOgogICAgICAgICMgUGl4ZWwgbWFwcGluZyAoUmV0aW5hIHN0cmlkZSBoYW5kbGVkIGluIG1haW4gbG9vcCkKICAgICAgICAKICAgICAgICBzZWxmLmNvbWJhdCA9IHNlbGYuZGVjb2RlX3BpeGVsKHBpeGVsc1syXSkgPiAxMjgKICAgICAgICBzZWxmLnBsYXllcl9ocCA9IChzZWxmLmRlY29kZV9waXhlbChwaXhlbHNbM10pIC8gMjU1LjApICogMTAwCiAgICAgICAgc2VsZi50YXJnZXRfaHAgPSAoc2VsZi5kZWNvZGVfcGl4ZWwocGl4ZWxzWzRdKSAvIDI1NS4wKSAqIDEwMAogICAgICAgIHNlbGYucGV0X2hwID0gKHNlbGYuZGVjb2RlX3BpeGVsKHBpeGVsc1syMl0pIC8gMjU1LjApICogMTAwCiAgICAgICAgc2VsZi5zbmFwc2hvdF9hY3RpdmUgPSBzZWxmLmRlY29kZV9waXhlbChwaXhlbHNbMzBdKSA+IDEyOAogICAgICAgIAogICAgICAgICMgQWR2YW5jZWQgUGFyc2luZwogICAgICAgICMgUGl4ZWwgMTY6IERlYnVmZnMgKDE9Um9vdCwgMj1TbmFyZSwgND1TY2F0dGVyKQogICAgICAgIGRlYnVmZl92YWwgPSBpbnQoKHNlbGYuZGVjb2RlX3BpeGVsKHBpeGVsc1sxNl0pIC8gMjU1LjApICogMTApCiAgICAgICAgc2VsZi5yb290ZWQgPSAoZGVidWZmX3ZhbCAmIDEpID4gMAogICAgICAgIHNlbGYuc2NhdHRlcmVkID0gKGRlYnVmZl92YWwgJiA0KSA+IDAKCiMgTE9BRCBMT0dJQwp3aXRoIG9wZW4oTE9HSUNfREJfUEFUSCwgJ3InKSBhcyBmOgogICAgUk9UQVRJT04gPSBqc29uLmxvYWQoZikKCmRlZiBldmFsdWF0ZV9sb2dpYyhzdGF0ZSk6CiAgICBmb3IgcnVsZSBpbiBST1RBVElPTjoKICAgICAgICAjIENoZWNrIFNhZmV0eSBHYXRlIGZvciBNb3ZlbWVudAogICAgICAgIGlmIHJ1bGUuZ2V0KCdhY3Rpb25fdHlwZScpID09ICdTQUZFX01PVkVNRU5UJyBhbmQgbm90IHN0YXRlLnNhZmVfbW92ZW1lbnQ6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIAogICAgICAgICMgQ2hlY2sgQ29uZGl0aW9ucwogICAgICAgIGNvbmRpdGlvbnNfbWV0ID0gVHJ1ZQogICAgICAgIGZvciBjb25kIGluIHJ1bGVbJ2NvbmRpdGlvbnMnXToKICAgICAgICAgICAgbWV0cmljID0gY29uZFsnbWV0cmljJ10KICAgICAgICAgICAgdmFsID0gY29uZFsndmFsJ10KICAgICAgICAgICAgb3AgPSBjb25kWydvcCddCiAgICAgICAgICAgIAogICAgICAgICAgICBjdXJyZW50X3ZhbCA9IGdldGF0dHIoc3RhdGUsIG1ldHJpYywgMCkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG9wID09ICc9PScgYW5kIGN1cnJlbnRfdmFsICE9IHZhbDogY29uZGl0aW9uc19tZXQgPSBGYWxzZQogICAgICAgICAgICBlbGlmIG9wID09ICc+JyBhbmQgY3VycmVudF92YWwgPD0gdmFsOiBjb25kaXRpb25zX21ldCA9IEZhbHNlCiAgICAgICAgICAgIGVsaWYgb3AgPT0gJzwnIGFuZCBjdXJyZW50X3ZhbCA+PSB2YWw6IGNvbmRpdGlvbnNfbWV0ID0gRmFsc2UKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIG5vdCBjb25kaXRpb25zX21ldDogYnJlYWsKICAgICAgICAgICAgCiAgICAgICAgaWYgY29uZGl0aW9uc19tZXQ6CiAgICAgICAgICAgIHJldHVybiBydWxlWydoZXgnXQogICAgcmV0dXJuIDAKCmRlZiBtYWluKCk6CiAgICBwcmludCgiU2tpbGxXZWF2ZXIgRW5naW5lIHYyMi4wIE9ubGluZS4uLiIpCiAgICBzY3QgPSBtc3MubXNzKCkKICAgIHRyeToKICAgICAgICBzZXIgPSBzZXJpYWwuU2VyaWFsKFNFUklBTF9QT1JULCBCQVVEX1JBVEUpCiAgICBleGNlcHQ6CiAgICAgICAgcHJpbnQoIldhcm5pbmc6IFNlcmlhbCBQb3J0IG5vdCBmb3VuZC4gUnVubmluZyBpbiBzaW11bGF0aW9uIG1vZGUuIikKICAgICAgICBzZXIgPSBOb25lCiAgICAgICAgCiAgICBzdGF0ZSA9IEdhbWVTdGF0ZSgpCiAgICAKICAgICMgMXB4IGhlaWdodCwgMzJweCB3aWR0aCAoNjQgcGh5c2ljYWwgb24gcmV0aW5hKQogICAgbW9uaXRvciA9IHsidG9wIjogMTA4MCAtIDEsICJsZWZ0IjogMCwgIndpZHRoIjogMzIgKiBSRVRJTkFfU0NBTEUsICJoZWlnaHQiOiAxfSAKICAgIAogICAgd2hpbGUgVHJ1ZToKICAgICAgICBpbWcgPSBucC5hcnJheShzY3QuZ3JhYihtb25pdG9yKSkKICAgICAgICAKICAgICAgICAjIFBhcnNlIFBpeGVscyAoSGFuZGxlIFJldGluYSBTdHJpZGUpCiAgICAgICAgIyBXZSBuZWVkIFJHQiBmb3IgZGlmZmVyZW50aWFsIGRlY29kaW5nCiAgICAgICAgIyBtc3MgcmV0dXJucyBCR1JBLCBzbyBzbGljZSBwcm9wZXJseQogICAgICAgICMgV2UgdGFrZSBldmVyeSBSRVRJTkFfU0NBTEUgcGl4ZWwgZnJvbSB0aGUgZmlyc3Qgcm93CiAgICAgICAgCiAgICAgICAgcmF3X3BpeGVscyA9IGltZ1swLCA6OlJFVElOQV9TQ0FMRV0gCiAgICAgICAgIyBDb252ZXJ0IEJHUkEgdG8gUkdCIGlmIG5lZWRlZCwgYnV0IG91ciBpbmRleCBsb2dpYyAoMD1CLCAyPVIpIGhhbmRsZXMgaXQ/CiAgICAgICAgIyBNU1MgdXN1YWxseSByZXR1cm5zIEJHUkEuIAogICAgICAgICMgSW5kZXggMCBpcyBCbHVlLCBJbmRleCAxIGlzIEdyZWVuLCBJbmRleCAyIGlzIFJlZC4KICAgICAgICAjIE91ciBkZWNvZGUgbG9naWMgdXNlcyBweFswXSBhbmQgcHhbMl0uCiAgICAgICAgIyBJZiBMdWEgc2V0cyBSPUJhc2UsIEI9QmFzZStEaWZmCiAgICAgICAgIyBXZSB3YW50IEIgLSBSLiAKICAgICAgICAjIFNvIHdlIHdhbnQgSW5kZXggMCAtIEluZGV4IDIuCiAgICAgICAgCiAgICAgICAgIyBQYXNzIHJhdyBCR1JBIHBpeGVscyB0byB1cGRhdGUKICAgICAgICBzdGF0ZS51cGRhdGUocmF3X3BpeGVscykKICAgICAgICAKICAgICAgICBpZiBzdGF0ZS5jb21iYXQ6CiAgICAgICAgICAgIGFjdGlvbl9oZXggPSBldmFsdWF0ZV9sb2dpYyhzdGF0ZSkKICAgICAgICAgICAgaWYgYWN0aW9uX2hleCA+IDA6CiAgICAgICAgICAgICAgICBwcmludChmIkFjdGlvbjoge2hleChhY3Rpb25faGV4KX0iKQogICAgICAgICAgICAgICAgaWYgc2VyOgogICAgICAgICAgICAgICAgICAgIHNlci53cml0ZShieXRlcyhbYWN0aW9uX2hleF0pKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjEgKyAobnAucmFuZG9tLnJhbmRvbSgpICogMC4wNSkpICMgSHVtYW4gSml0dGVyCiAgICAgICAgCiAgICAgICAgdGltZS5zbGVlcCgwLjAxKQoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQpgOwp9Owpjb25zdCBnZW5lcmF0ZVJvdGF0aW9uSnNvbiA9IChzcGVjLCBsb2Fkb3V0TmFtZSwgcmFjZUlkLCBodW1hbiwgc2FmZU1vdmVtZW50KSA9PiB7CiAgICBjb25zdCBhY3RpdmVMb2Fkb3V0ID0gc3BlYy5sb2Fkb3V0cy5maW5kKGwgPT4gbC5uYW1lID09PSBsb2Fkb3V0TmFtZSkgfHwgc3BlYy5sb2Fkb3V0c1swXTsKICAgIGNvbnN0IGFjdGl2ZVNwZWxscyA9IG5ldyBTZXQoYWN0aXZlTG9hZG91dC5zcGVsbHMpOwogICAgY29uc3QgcnVsZXMgPSBbXTsKICAgIC8vIDAuIEhhemFyZCBBdm9pZGFuY2UgCiAgICBjb25zdCBtb3ZlU3BlbGwgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy5hdm9pZGFuY2UgJiYgYWN0aXZlU3BlbGxzLmhhcyhzLm5hbWUpKTsKICAgIGlmIChtb3ZlU3BlbGwpIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtEQU5HRVJdIEdURk86ICR7bW92ZVNwZWxsLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBtb3ZlU3BlbGwuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk5LAogICAgICAgICAgICBjb25kaXRpb25zOiBbeyBtZXRyaWM6ICJpbl9kYW5nZXIiLCBvcDogIj09IiwgdmFsOiB0cnVlIH1dLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogaHVtYW4uZ29kTW9kZSA/IDAgOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuMDAxIEFSRU5BIEtJQ0tTIChPTU5JLURJUkVDVElPTkFMKQogICAgWzEsIDIsIDNdLmZvckVhY2goYXJlbmFJZCA9PiB7CiAgICAgICAgY29uc3QgYXJlbmFLaWNrID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ0FSRU5BX0lOVEVSUlVQVCcgJiYgcy5hcmVuYVRhcmdldCA9PT0gYXJlbmFJZCAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgICAgIGlmIChhcmVuYUtpY2spIHsKICAgICAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiBgW0FQRVhdIEtJQ0sgQVJFTkEgJHthcmVuYUlkfTogJHthcmVuYUtpY2submFtZX1gLAogICAgICAgICAgICAgICAgaGV4OiBhcmVuYUtpY2suaGV4LAogICAgICAgICAgICAgICAgcHJpb3JpdHk6IDEwMDAsCiAgICAgICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICAgICAgeyBtZXRyaWM6IGBhcmVuYSR7YXJlbmFJZH1fY2FzdGluZ2AsIG9wOiAiPT0iLCB2YWw6IHRydWUgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0pOwogICAgLy8gMC4wMDIgVE9URU0gU1RPTVAKICAgIGNvbnN0IHN0b21wZXIgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnVE9URU1fU1RPTVAnICYmIGFjdGl2ZVNwZWxscy5oYXMocy5uYW1lKSk7CiAgICBpZiAoc3RvbXBlcikgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0FQRVhdIFRPVEVNIFNUT01QOiAke3N0b21wZXIubmFtZX1gLAogICAgICAgICAgICBoZXg6IHN0b21wZXIuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogMTAwMCwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJ0b3RlbV9hY3RpdmUiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0gLy8gUDE1CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjAwMyBQRVQgVEFVTlQgKFNDQVRURVIgQ09VTlRFUikKICAgIGNvbnN0IHBldFRhdW50ID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BFVF9UQVVOVCcgJiYgYWN0aXZlU3BlbGxzLmhhcyhzLm5hbWUpKTsKICAgIGlmIChwZXRUYXVudCkgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW1dBUkxPUkRdIFBFVCBUQVVOVDogJHtwZXRUYXVudC5uYW1lfSAoQnJlYWsgU2NhdHRlcilgLAogICAgICAgICAgICBoZXg6IHBldFRhdW50LmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDEwMDAsCiAgICAgICAgICAgIGNvbmRpdGlvbnM6IFsKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAicGxheWVyX2lzX3NjYXR0ZXJlZCIsIG9wOiAiPT0iLCB2YWw6IHRydWUgfSAvLyBQMTYKICAgICAgICAgICAgXSwKICAgICAgICAgICAgcmVhY3Rpb25fb3ZlcnJpZGU6IDAKICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuMDA0IFBFVCBNQU5BR0VNRU5UIChDQUxML1JFVklWRS9NRU5EKQogICAgLy8gMS4gUmV2aXZlCiAgICBjb25zdCByZXZpdmUgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnUEVUX01BTkFHRScgJiYgcy5uYW1lLmluY2x1ZGVzKCJSZXZpdmUiKSk7CiAgICBpZiAocmV2aXZlICYmIGFjdGl2ZVNwZWxscy5oYXMocmV2aXZlLm5hbWUpKSB7CiAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGBbR0hPU1RdIFJFVklWRSBQRVQ6ICR7cmV2aXZlLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiByZXZpdmUuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogMTAwMSwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJwZXRfaHAiLCBvcDogIj09IiwgdmFsOiAwIH0gLy8gUDIyCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAyLiBDYWxsIFBldCAoU2xvdCBCYXNlZCBvciBTcGVjaWZpYyBOYW1lKQogICAgLy8gSWYgc3BlY2lmaWMgcGV0IHN1bW1vbnMgZXhpc3QgaW4gc3BlbGxzIChsaWtlIFdhcmxvY2sgIlN1bW1vbiBGZWxodW50ZXIiKSwgdXNlIHRoZW0uCiAgICBjb25zdCBzcGVjaWZpY1N1bW1vbiA9IHNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdQRVRfTUFOQUdFJyAmJiBzLm5hbWUuc3RhcnRzV2l0aCgiU3VtbW9uIikpOwogICAgaWYgKHNwZWNpZmljU3VtbW9uICYmIGFjdGl2ZVNwZWxscy5oYXMoc3BlY2lmaWNTdW1tb24ubmFtZSkpIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtHSE9TVF0gU1VNTU9OOiAke3NwZWNpZmljU3VtbW9uLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBzcGVjaWZpY1N1bW1vbi5oZXgsCiAgICAgICAgICAgIHByaW9yaXR5OiAxMDAwLAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInBldF9ocCIsIG9wOiAiPT0iLCB2YWw6IDAgfQogICAgICAgICAgICBdLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogMAogICAgICAgIH0pOwogICAgfQogICAgZWxzZSBpZiAoYWN0aXZlTG9hZG91dC5wZXRTbG90KSB7CiAgICAgICAgLy8gR2VuZXJpYyBDYWxsIFBldCBOCiAgICAgICAgY29uc3QgY2FsbFBldCA9IHNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdQRVRfTUFOQUdFJyAmJiBzLm5hbWUgPT09IGBDYWxsIFBldCAke2FjdGl2ZUxvYWRvdXQucGV0U2xvdH1gKTsKICAgICAgICBpZiAoY2FsbFBldCAmJiBhY3RpdmVTcGVsbHMuaGFzKGNhbGxQZXQubmFtZSkpIHsKICAgICAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiBgW0dIT1NUXSBDQUxMIFBFVCAke2FjdGl2ZUxvYWRvdXQucGV0U2xvdH06ICR7Y2FsbFBldC5uYW1lfWAsCiAgICAgICAgICAgICAgICBoZXg6IGNhbGxQZXQuaGV4LAogICAgICAgICAgICAgICAgcHJpb3JpdHk6IDEwMDAsCiAgICAgICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJwZXRfaHAiLCBvcDogIj09IiwgdmFsOiAwIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogMAogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CiAgICAvLyAzLiBNZW5kCiAgICBjb25zdCBtZW5kID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BFVF9NQU5BR0UnICYmIHMubmFtZS5pbmNsdWRlcygiTWVuZCIpKTsKICAgIGlmIChtZW5kICYmIGFjdGl2ZVNwZWxscy5oYXMobWVuZC5uYW1lKSkgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0dIT1NUXSBNRU5EIFBFVDogJHttZW5kLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBtZW5kLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5OCwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJwZXRfaHAiLCBvcDogIj4iLCB2YWw6IDAgfSwKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAicGV0X2hwIiwgb3A6ICI8IiwgdmFsOiA1MCB9LAogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJidWZmX21lbmRfcGV0Iiwgb3A6ICI9PSIsIHZhbDogZmFsc2UgfQogICAgICAgICAgICBdCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjAwNSBTTkFSRSBCUkVBSyAoRFJVSUQgU0hJRlQgLyBNQVNURVJTIENBTEwpCiAgICBjb25zdCBzbmFyZUJyZWFrID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1NOQVJFX0JSRUFLJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKHNuYXJlQnJlYWspIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtXQVJMT1JEXSBGUkVFRE9NOiAke3NuYXJlQnJlYWsubmFtZX1gLAogICAgICAgICAgICBoZXg6IHNuYXJlQnJlYWsuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk5LAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInBsYXllcl9pc19yb290ZWQiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0gLy8gUDE2CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjAxIEFOVEktQ0MgCiAgICBjb25zdCBhbnRpQ0MgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnQU5USV9DQycgJiYgYWN0aXZlU3BlbGxzLmhhcyhzLm5hbWUpKTsKICAgIGlmIChhbnRpQ0MpIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtXQVJMT1JEXSBBTlRJLUNDOiAke2FudGlDQy5uYW1lfWAsCiAgICAgICAgICAgIGhleDogYW50aUNDLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5OSwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJmb2N1c19jYXN0aW5nIiwgb3A6ICI+IiwgdmFsOiAwLjEgfSwKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAiZm9jdXNfdGFyZ2V0aW5nX21lIiwgb3A6ICI9PSIsIHZhbDogdHJ1ZSB9IC8vIFAxNAogICAgICAgICAgICBdLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogMAogICAgICAgIH0pOwogICAgfQogICAgLy8gMC4wMiBTVFJJUCBJTU1VTklUWSAKICAgIGNvbnN0IHN0cmlwID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1NUUklQX0lNTVVOSVRZJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKHN0cmlwKSB7CiAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGBbV0FSTE9SRF0gU0hBVFRFUjogJHtzdHJpcC5uYW1lfWAsCiAgICAgICAgICAgIGhleDogc3RyaXAuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk5LAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInRhcmdldF9pbW11bml0eSIsIG9wOiAiPT0iLCB2YWw6IDMgfQogICAgICAgICAgICBdCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjEgT1BFTkVSCiAgICBjb25zdCBvcGVuZXIgPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnT1BFTkVSJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKG9wZW5lcikgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0dIT1NUXSBPUEVORVI6ICR7b3BlbmVyLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBvcGVuZXIuaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk5LAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogImNvbWJhdCIsIG9wOiAiPT0iLCB2YWw6IGZhbHNlIH0sCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInN0ZWFsdGgiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0sCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInRhcmdldF9leGlzdHMiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0KICAgICAgICAgICAgXQogICAgICAgIH0pOwogICAgfQogICAgLy8gMC4yIFNVUlZJVkFMIElURU1TIChIUCA8IDMwJSkKICAgIGNvbnN0IHVzZUl0ZW0gPSBzcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnVVNFX0lURU0nICYmIGFjdGl2ZVNwZWxscy5oYXMocy5uYW1lKSk7CiAgICBpZiAodXNlSXRlbSkgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0lURU1dIFNVUlZJVkFMOiAke3VzZUl0ZW0ubmFtZX1gLAogICAgICAgICAgICBoZXg6IHVzZUl0ZW0uaGV4LAogICAgICAgICAgICBwcmlvcml0eTogOTk4LAogICAgICAgICAgICBjb25kaXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInBsYXllcl9ocCIsIG9wOiAiPCIsIHZhbDogdXNlSXRlbS5wbGF5ZXJIcCB8fCAzMCB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHJlYWN0aW9uX292ZXJyaWRlOiAwCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAwLjMgU05BUFNIT1RUSU5HIChCdWZmZWQgRG9UcykKICAgIGNvbnN0IHNuYXBzaG90U3BlbGxzID0gc3BlYy5zcGVsbHMuZmlsdGVyKHMgPT4gcy5zbmFwc2hvdCAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgc25hcHNob3RTcGVsbHMuZm9yRWFjaChzbmFwID0+IHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtTTkFQU0hPVF0gJHtzbmFwLm5hbWV9YCwKICAgICAgICAgICAgaGV4OiBzbmFwLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5MCwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJzbmFwc2hvdF9hY3RpdmUiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0gLy8gUDMwCiAgICAgICAgICAgIF0KICAgICAgICB9KTsKICAgIH0pOwogICAgLy8gMC41IFBSRV9FTVBUIExvZ2ljIAogICAgY29uc3QgcHJlZW1wdFNwZWxsID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BSRV9FTVBUJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKHByZWVtcHRTcGVsbCkgewogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgW0dPRCBNT0RFXSBQUkUtRU1QVDogJHtwcmVlbXB0U3BlbGwubmFtZX1gLAogICAgICAgICAgICBoZXg6IHByZWVtcHRTcGVsbC5oZXgsCiAgICAgICAgICAgIHByaW9yaXR5OiA5OTgsCiAgICAgICAgICAgIGNvbmRpdGlvbnM6IFsKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAidGFyZ2V0aW5nX21lIiwgb3A6ICI9PSIsIHZhbDogdHJ1ZSB9LAogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJjYXN0X3Byb2dyZXNzIiwgb3A6ICI+IiwgdmFsOiAwLjggfQogICAgICAgICAgICBdLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogaHVtYW4uZ29kTW9kZSA/IDAgOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuNTUgQkFDS1VQIElOVEVSUlVQVAogICAgY29uc3QgYmFja3VwSW50ID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ0JBQ0tVUF9JTlRFUlJVUFQnICYmIGFjdGl2ZVNwZWxscy5oYXMocy5uYW1lKSk7CiAgICBpZiAoYmFja3VwSW50KSB7CiAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGBbQkFDS1VQXSBTVE9QOiAke2JhY2t1cEludC5uYW1lfWAsCiAgICAgICAgICAgIGhleDogYmFja3VwSW50LmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5OCwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJ0YXJnZXRfY2FzdGluZyIsIG9wOiAiPiIsIHZhbDogMC4zIH0sCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogImtpY2tfb25fY2QiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0KICAgICAgICAgICAgXQogICAgICAgIH0pOwogICAgfQogICAgLy8gMC42IEZPQ1VTIElOVEVSUlVQVAogICAgY29uc3QgZm9jdXNLaWNrID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ0ZPQ1VTX0lOVEVSUlVQVCcgJiYgYWN0aXZlU3BlbGxzLmhhcyhzLm5hbWUpKTsKICAgIGlmIChmb2N1c0tpY2spIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtPTU5JXSBGT0NVUyBLSUNLOiAke2ZvY3VzS2ljay5uYW1lfWAsCiAgICAgICAgICAgIGhleDogZm9jdXNLaWNrLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5NywKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJmb2N1c19leGlzdHMiLCBvcDogIj09IiwgdmFsOiB0cnVlIH0sCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogImZvY3VzX2Nhc3RpbmciLCBvcDogIj4iLCB2YWw6IDAuMyB9LAogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJmb2N1c19pbl9yYW5nZSIsIG9wOiAiPT0iLCB2YWw6IHRydWUgfQogICAgICAgICAgICBdLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogaHVtYW4uZ29kTW9kZSA/IDAgOiB1bmRlZmluZWQKICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuNjUgQ0hBSU4gQ0MgCiAgICBjb25zdCBjaGFpbkNDID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ0NIQUlOX0NDJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKGNoYWluQ0MpIHsKICAgICAgICBydWxlcy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogYFtHUkFORE1BU1RFUl0gQ0hBSU46ICR7Y2hhaW5DQy5uYW1lfWAsCiAgICAgICAgICAgIGhleDogY2hhaW5DQy5oZXgsCiAgICAgICAgICAgIHByaW9yaXR5OiA5OTcsCiAgICAgICAgICAgIGNvbmRpdGlvbnM6IFsKICAgICAgICAgICAgICAgIHsgbWV0cmljOiAiZm9jdXNfZXhpc3RzIiwgb3A6ICI9PSIsIHZhbDogdHJ1ZSB9LAogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJmb2N1c19jY19leHBpcmluZyIsIG9wOiAiPT0iLCB2YWw6IHRydWUgfSwgLy8gUDEyCiAgICAgICAgICAgIF0KICAgICAgICB9KTsKICAgIH0KICAgIC8vIDAuNjggUFVSR0UgTE9HSUMKICAgIGNvbnN0IHB1cmdlID0gc3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BVUkdFJyAmJiBhY3RpdmVTcGVsbHMuaGFzKHMubmFtZSkpOwogICAgaWYgKHB1cmdlKSB7CiAgICAgICAgcnVsZXMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGBbV0FSTE9SRF0gUFVSR0U6ICR7cHVyZ2UubmFtZX1gLAogICAgICAgICAgICBoZXg6IHB1cmdlLmhleCwKICAgICAgICAgICAgcHJpb3JpdHk6IDk5NSwKICAgICAgICAgICAgY29uZGl0aW9uczogWwogICAgICAgICAgICAgICAgeyBtZXRyaWM6ICJwdXJnZWFibGVfY291bnQiLCBvcDogIj4iLCB2YWw6IDAgfSwgLy8gUDIzCiAgICAgICAgICAgICAgICB7IG1ldHJpYzogInJlc291cmNlcyIsIG9wOiAiPiIsIHZhbDogMTAgfQogICAgICAgICAgICBdCiAgICAgICAgfSk7CiAgICB9CiAgICAvLyAzLiBNYWluIFJvdGF0aW9uCiAgICBjb25zdCBzb3J0ZWRTcGVsbHMgPSBbLi4uc3BlYy5zcGVsbHNdLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTsKICAgIGZvciAoY29uc3Qgc3BlbGwgb2Ygc29ydGVkU3BlbGxzKSB7CiAgICAgICAgaWYgKHNwZWxsLmlzVGFsZW50ICYmICFhY3RpdmVTcGVsbHMuaGFzKHNwZWxsLm5hbWUpKQogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICBpZiAoc3BlbGwuaXNQdlBUYWxlbnQgJiYgIVsnQVJFTkEnLCAnQkcnXS5pbmNsdWRlcyhhY3RpdmVMb2Fkb3V0LnR5cGUpKQogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICBjb25zdCBjb25kaXRpb25zID0gW107CiAgICAgICAgbGV0IG1ldGFUeXBlID0gc3BlbGwudHlwZTsKICAgICAgICBpZiAoc3BlbGwuZ3JvdW5kVGFyZ2V0KQogICAgICAgICAgICBtZXRhVHlwZSA9ICdHUk9VTkRfVEFSR0VUJzsKICAgICAgICBpZiAoc3BlbGwuZmFrZUNhc3QpCiAgICAgICAgICAgIG1ldGFUeXBlID0gJ0ZBS0VfQ0FTVCc7CiAgICAgICAgaWYgKCFbJ0hFQUwnLCAnT0ZGX0hFQUwnLCAnUkFNUCcsICdNQUlOVEFJTl9CVUZGJywgJ01PVkVNRU5UJywgJ1BSRV9FTVBUJywgJ0dBUF9DTE9TRVInLCAnS0lUSU5HJywgJ0ZPQ1VTX0lOVEVSUlVQVCcsICdGT0NVU19DQycsICdIRUFMRVJfU05JUEUnLCAnQ0hBSU5fQ0MnLCAnQkFDS1VQX0lOVEVSUlVQVCcsICdPUEVORVInLCAnU1RSSVBfSU1NVU5JVFknLCAnUFVSR0UnLCAnQU5USV9DQycsICdBUkVOQV9JTlRFUlJVUFQnLCAnVE9URU1fU1RPTVAnLCAnU05BUkVfQlJFQUsnLCAnUEVUX1RBVU5UJywgJ1VTRV9UUklOS0VUJywgJ1VTRV9JVEVNJywgJ0JPU1NfSU5URVJSVVBUJywgJ1BFVF9NQU5BR0UnLCAnU0FGRV9NT1ZFTUVOVCddLmluY2x1ZGVzKHNwZWxsLnR5cGUpKSB7CiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogImNvbWJhdCIsIG9wOiAiPT0iLCB2YWw6IHRydWUgfSk7CiAgICAgICAgfQogICAgICAgIC8vIFNhZmUgTW92ZW1lbnQgTG9naWMKICAgICAgICBpZiAoc3BlbGwudHlwZSA9PT0gJ1NBRkVfTU9WRU1FTlQnKSB7CiAgICAgICAgICAgIGlmICghc2FmZU1vdmVtZW50KQogICAgICAgICAgICAgICAgY29udGludWU7IC8vIFNraXAgaWYgZGlzYWJsZWQKICAgICAgICAgICAgbWV0YVR5cGUgPSAnU0FGRV9NT1ZFTUVOVCc7IC8vIEV4cGxpY2l0bHkgbWFyayBzbyBQeXRob24gY2FuIHNlZSBpdAogICAgICAgIH0KICAgICAgICAvLyBUcmlua2V0IExvZ2ljCiAgICAgICAgaWYgKHNwZWxsLnR5cGUgPT09ICdVU0VfVFJJTktFVCcpIHsKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAiaXNfYnVyc3Rfd2luZG93Iiwgb3A6ICI9PSIsIHZhbDogdHJ1ZSB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHNwZWxsLm1vdmluZyA9PT0gZmFsc2UpCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogImlzX21vdmluZyIsIG9wOiAiPT0iLCB2YWw6IGZhbHNlIH0pOwogICAgICAgIGlmIChzcGVsbC5taW5IcCkgewogICAgICAgICAgICBpZiAoWydIRUFMJywgJ1JBTVAnXS5pbmNsdWRlcyhzcGVsbC50eXBlKSkKICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogImxvd2VzdF9wYXJ0eV9ocCIsIG9wOiAiPCIsIHZhbDogc3BlbGwubWluSHAgfSk7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogInRhcmdldF9ocCIsIG9wOiAiPCIsIHZhbDogc3BlbGwubWluSHAgfSk7CiAgICAgICAgfQogICAgICAgIGlmIChzcGVsbC5wbGF5ZXJIcCkKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAicGxheWVyX2hwIiwgb3A6ICI8IiwgdmFsOiBzcGVsbC5wbGF5ZXJIcCB9KTsKICAgICAgICBpZiAoc3BlbGwubWF4SHApCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogInRhcmdldF9ocCIsIG9wOiAiPCIsIHZhbDogc3BlbGwubWF4SHAgfSk7CiAgICAgICAgaWYgKHNwZWxsLnJlc291cmNlID09PSAnU0VDT05EQVJZJyAmJiBzcGVsbC5jb3N0KQogICAgICAgICAgICBjb25kaXRpb25zLnB1c2goeyBtZXRyaWM6ICJyZXNvdXJjZXMiLCBvcDogIj49IiwgdmFsOiBzcGVsbC5jb3N0IH0pOwogICAgICAgIGlmIChzcGVsbC5idWZmTWlzc2luZykKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAiYnVmZl8iICsgc3BlbGwuYnVmZk1pc3NpbmcsIG9wOiAiPT0iLCB2YWw6IGZhbHNlIH0pOwogICAgICAgIGlmIChzcGVsbC5idWZmU3RhY2tzTWluICE9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogImJ1ZmZfc3RhY2tzIiwgb3A6ICI8IiwgdmFsOiBzcGVsbC5idWZmU3RhY2tzTWluIH0pOwogICAgICAgIGlmIChzcGVsbC5ob3RDb3VudE1heCAhPT0gdW5kZWZpbmVkKQogICAgICAgICAgICBjb25kaXRpb25zLnB1c2goeyBtZXRyaWM6ICJob3RfY291bnQiLCBvcDogIj4iLCB2YWw6IHNwZWxsLmhvdENvdW50TWF4IH0pOwogICAgICAgIGlmIChzcGVsbC5tdWx0aURvdCkKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAiZG90X2NvdW50Iiwgb3A6ICI8IiwgbWV0cmljMjogImVuZW15X2NvdW50IiB9KTsKICAgICAgICBpZiAoc3BlbGwud2luZG93ID09PSAnQlVSU1QnKQogICAgICAgICAgICBjb25kaXRpb25zLnB1c2goeyBtZXRyaWM6ICJpc19idXJzdF93aW5kb3ciLCBvcDogIj09IiwgdmFsOiB0cnVlIH0pOwogICAgICAgIGlmIChzcGVsbC53aW5kb3cgPT09ICdFWEVDVVRFJykKICAgICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHsgbWV0cmljOiAidGFyZ2V0X2hwIiwgb3A6ICI8IiwgdmFsOiAyMCB9KTsKICAgICAgICBpZiAoc3BlbGwubWluUmFuZ2UpCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogInJhbmdlX3RpZXIiLCBvcDogIj49IiwgdmFsOiBzcGVsbC5taW5SYW5nZSB9KTsKICAgICAgICBpZiAoc3BlbGwubWF4UmFuZ2UpCiAgICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IG1ldHJpYzogInJhbmdlX3RpZXIiLCBvcDogIjw9IiwgdmFsOiBzcGVsbC5tYXhSYW5nZSB9KTsKICAgICAgICBpZiAoc3BlbGwucHJldmVudE92ZXJsYXAgJiYgIXNwZWxsLmZvY3VzVGFyZ2V0KQogICAgICAgICAgICBjb25kaXRpb25zLnB1c2goeyBtZXRyaWM6ICJ0YXJnZXRfY2Nfc3RhdGUiLCBvcDogIj09IiwgdmFsOiAwIH0pOwogICAgICAgIGxldCByZWFjdCA9IHVuZGVmaW5lZDsKICAgICAgICBpZiAoaHVtYW4uZ29kTW9kZSAmJiBzcGVsbC5yZWFjdGlvbkN1cnZlID09PSAnR09EJykKICAgICAgICAgICAgcmVhY3QgPSAwOwogICAgICAgIHJ1bGVzLnB1c2goewogICAgICAgICAgICBuYW1lOiBgWyR7c3BlbGwudHlwZX1dICR7c3BlbGwubmFtZX1gLAogICAgICAgICAgICBoZXg6IHNwZWxsLmhleCwKICAgICAgICAgICAgdGFyZ2V0X3R5cGU6IHNwZWxsLm11bHRpRG90ID8gJ0NZQ0xFX0VORU1ZJyA6IHNwZWxsLnRhcmdldCwKICAgICAgICAgICAgYWN0aW9uX3R5cGU6IG1ldGFUeXBlLAogICAgICAgICAgICBjb25kaXRpb25zOiBjb25kaXRpb25zLAogICAgICAgICAgICByZWFjdGlvbl9vdmVycmlkZTogcmVhY3QKICAgICAgICB9KTsKICAgIH0KICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShydWxlcywgbnVsbCwgMik7Cn07Ci8vIC0tLSBSZWFjdCBDb21wb25lbnQgLS0tCmNvbnN0IEFwcCA9ICgpID0+IHsKICAgIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgnREFTSEJPQVJEJyk7CiAgICBjb25zdCBbc291cmNlRmlsZSwgc2V0U291cmNlRmlsZV0gPSB1c2VTdGF0ZSgnUFlUSE9OJyk7CiAgICBjb25zdCBbc2VsZWN0ZWRDbGFzc0lkLCBzZXRTZWxlY3RlZENsYXNzSWRdID0gdXNlU3RhdGUoOSk7IC8vIFdhcmxvY2sKICAgIGNvbnN0IFtzZWxlY3RlZFNwZWNJZCwgc2V0U2VsZWN0ZWRTcGVjSWRdID0gdXNlU3RhdGUoMyk7IC8vIERlc3RybwogICAgY29uc3QgW3NlbGVjdGVkUmFjZUlkLCBzZXRTZWxlY3RlZFJhY2VJZF0gPSB1c2VTdGF0ZSg0KTsgLy8gTmlnaHQgRWxmCiAgICBjb25zdCBbc2VsZWN0ZWRMb2Fkb3V0LCBzZXRTZWxlY3RlZExvYWRvdXRdID0gdXNlU3RhdGUoMCk7CiAgICBjb25zdCBbc2FmZU1vdmVtZW50LCBzZXRTYWZlTW92ZW1lbnRdID0gdXNlU3RhdGUodHJ1ZSk7CiAgICBjb25zdCBbaHVtYW5pemF0aW9uLCBzZXRIdW1hbml6YXRpb25dID0gdXNlU3RhdGUoewogICAgICAgIHJlYWN0aW9uVGltZTogMTUwLCB2YXJpYW5jZTogMzAsIGlucHV0Sml0dGVyOiA1MCwga2lja1BlcmNlbnQ6IDg1LCBnb2RNb2RlOiB0cnVlLCBmYWtlQ2FzdENoYW5jZTogNDAsIGNoYWluT3ZlcmxhcDogMTIwMAogICAgfSk7CiAgICBjb25zdCBjdXJyZW50Q2xhc3MgPSBTUEVDX0RCLmZpbmQoYyA9PiBjLmlkID09PSBzZWxlY3RlZENsYXNzSWQpIHx8IFNQRUNfREJbMF07CiAgICBjb25zdCBjdXJyZW50U3BlYyA9IGN1cnJlbnRDbGFzcy5zcGVjcy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRTcGVjSWQpIHx8IGN1cnJlbnRDbGFzcy5zcGVjc1swXTsKICAgIGNvbnN0IHNwZWNIYXNoID0gKGN1cnJlbnRDbGFzcy5pZCAqIDEwKSArIGN1cnJlbnRTcGVjLmlkOwogICAgY29uc3QgY3VycmVudExvYWRvdXQgPSBjdXJyZW50U3BlYy5sb2Fkb3V0c1tzZWxlY3RlZExvYWRvdXRdIHx8IGN1cnJlbnRTcGVjLmxvYWRvdXRzWzBdOwogICAgY29uc3QgW2dhbWVTdGF0ZSwgc2V0R2FtZVN0YXRlXSA9IHVzZVN0YXRlKHsKICAgICAgICBjb21iYXQ6IHRydWUsCiAgICAgICAgcGxheWVySHA6IDEwMCwKICAgICAgICBwZXRIcDogMTAwLAogICAgICAgIGxvd2VzdFBhcnR5SHA6IDEwMCwKICAgICAgICB0YXJnZXRIcDogMTAwLAogICAgICAgIHRhcmdldEV4aXN0czogdHJ1ZSwKICAgICAgICBjYXN0UHJvZ3Jlc3M6IDAsCiAgICAgICAgdGFyZ2V0aW5nTWU6IGZhbHNlLAogICAgICAgIHJlc291cmNlczogMTAwLAogICAgICAgIGJ1ZmZTdGFja3M6IDAsCiAgICAgICAgaG90Q291bnQ6IDAsCiAgICAgICAgaXNNb3Zpbmc6IGZhbHNlLAogICAgICAgIGNjU3RhdGU6IDAsCiAgICAgICAgaW5EYW5nZXI6IGZhbHNlLAogICAgICAgIHRhcmdldFNwZWNJZDogMCwKICAgICAgICBlbmVteUNvdW50OiAxLAogICAgICAgIGlzQnVyc3RXaW5kb3c6IGZhbHNlLAogICAgICAgIHJhbmdlVGllcjogMTAsCiAgICAgICAgLy8gT01OSVNDSUVOVCBTVEFURQogICAgICAgIGZvY3VzRXhpc3RzOiB0cnVlLAogICAgICAgIGZvY3VzSXNIZWFsZXI6IHRydWUsCiAgICAgICAgZm9jdXNDYXN0aW5nOiAwLAogICAgICAgIGZvY3VzQ0NTdGF0ZTogMCwKICAgICAgICBmb2N1c0NDRXhwaXJpbmc6IGZhbHNlLAogICAgICAgIGtpY2tPbkNEOiBmYWxzZSwKICAgICAgICAvLyBXQVJMT1JEIFNUQVRFCiAgICAgICAgdGFyZ2V0SW1tdW5pdHk6IDAsCiAgICAgICAgZm9jdXNUYXJnZXRpbmdNZTogZmFsc2UsCiAgICAgICAgcHVyZ2VhYmxlQ291bnQ6IDAsCiAgICAgICAgLy8gQVBFWCBTVEFURQogICAgICAgIGFyZW5hMUNhc3Rpbmc6IGZhbHNlLAogICAgICAgIGFyZW5hMkNhc3Rpbmc6IGZhbHNlLAogICAgICAgIGFyZW5hM0Nhc3Rpbmc6IGZhbHNlLAogICAgICAgIHRvdGVtQWN0aXZlOiBmYWxzZSwKICAgICAgICAvLyBXQVJMT1JEIFYxOQogICAgICAgIHBsYXllclJvb3RlZDogZmFsc2UsCiAgICAgICAgcGxheWVyU2NhdHRlcmVkOiBmYWxzZSwKICAgICAgICBzbmFwc2hvdEFjdGl2ZTogZmFsc2UKICAgIH0pOwogICAgY29uc3QgW2xvZ3MsIHNldExvZ3NdID0gdXNlU3RhdGUoW10pOwogICAgY29uc3QgbG9nc0VuZFJlZiA9IHVzZVJlZihudWxsKTsKICAgIGNvbnN0IFtpc1NpbXVsYXRpbmcsIHNldElzU2ltdWxhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgICBjb25zdCBbbGFzdEFjdGlvblRpbWUsIHNldExhc3RBY3Rpb25UaW1lXSA9IHVzZVN0YXRlKDApOwogICAgY29uc3QgW2VkaXRvckNvbnRlbnQsIHNldEVkaXRvckNvbnRlbnRdID0gdXNlU3RhdGUoIiIpOwogICAgY29uc3QgW3B5dGhvbkNvbnRlbnQsIHNldFB5dGhvbkNvbnRlbnRdID0gdXNlU3RhdGUoIiIpOwogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBzZXRFZGl0b3JDb250ZW50KGdlbmVyYXRlUm90YXRpb25Kc29uKGN1cnJlbnRTcGVjLCBjdXJyZW50TG9hZG91dC5uYW1lLCBzZWxlY3RlZFJhY2VJZCwgaHVtYW5pemF0aW9uLCBzYWZlTW92ZW1lbnQpKTsKICAgICAgICBzZXRQeXRob25Db250ZW50KGdlbmVyYXRlUHl0aG9uQ29kZShzcGVjSGFzaCkpOwogICAgfSwgW2N1cnJlbnRTcGVjLCBjdXJyZW50TG9hZG91dCwgc2VsZWN0ZWRSYWNlSWQsIGh1bWFuaXphdGlvbiwgc2FmZU1vdmVtZW50LCBzcGVjSGFzaF0pOwogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBsb2dzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pOwogICAgfSwgW2xvZ3NdKTsKICAgIC8vIC0tLSBET1dOTE9BRCBGRUFUVVJFIC0tLQogICAgY29uc3QgZG93bmxvYWRQcm9qZWN0WmlwID0gYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IHppcCA9IG5ldyBKU1ppcCgpOwogICAgICAgIC8vIEFkZCBmaWxlcwogICAgICAgIHppcC5maWxlKCJpbmRleC5odG1sIiwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTCk7CiAgICAgICAgemlwLmZpbGUoYCR7c3BlY0hhc2h9Lmpzb25gLCBlZGl0b3JDb250ZW50KTsKICAgICAgICB6aXAuZmlsZSgiTG9naWNFbmdpbmUucHkiLCBweXRob25Db250ZW50KTsKICAgICAgICB6aXAuZmlsZSgiT21uaV9FeGVjdXRvci5pbm8iLCAiLy8gQXJkdWlubyBDb2RlIFBsYWNlaG9sZGVyXG4iKTsKICAgICAgICB6aXAuZmlsZSgiU2tpbGxXZWF2ZXJfQWRkb24ubHVhIiwgZ2VuZXJhdGVMdWFDb2RlKGN1cnJlbnRTcGVjKSk7CiAgICAgICAgY29uc3QgbWFjcm9zID0gY3VycmVudFNwZWMuc3BlbGxzLmZpbHRlcihzID0+IHMuZ3JvdW5kVGFyZ2V0KS5tYXAocyA9PiBgCiNzaG93dG9vbHRpcCAke3MubmFtZX0KL2Nhc3QgW0BjdXJzb3JdICR7cy5uYW1lfQpgKS5qb2luKCdcbicpOwogICAgICAgIGNvbnN0IHJlYWRtZSA9IGAKU0tJTExXRUFWRVIgdjIyLjAgKFNURUFMVEggUEhBTlRPTSkgLSBDT01NQU5EIENFTlRFUgoKPT0gU0VUVVAgSU5TVFJVQ1RJT05TID09CgoxLiBLRVlCSU5EUyAoTVVTVCBNQVRDSCBJTi1HQU1FKToKICAgLSBGMTI6IEludGVydXB0IChUYXJnZXQpCiAgIC0gRjEwOiBBcmVuYSAxIEtpY2sKICAgLSBGMTE6IEFyZW5hIDIgS2ljawogICAtIEYwOTogQXJlbmEgMyBLaWNrCiAgIC0gRjA4OiBGb2N1cyBLaWNrCiAgIC0gRjE5OiAvY2FzdCBbQGFyZW5hcGV0MV0gVGF1bnQgIChGb3IgU2NhdHRlciBTaG90IEJyZWFrKQogICAtIEYxODogL3VzZSAxMyAoVHJpbmtldCAxKQogICAtIEYxNzogL3VzZSBIZWFsdGhzdG9uZQogICAke2N1cnJlbnRMb2Fkb3V0LnBldFNsb3QgPyBgLSBGMjA6IC9jYXN0IENhbGwgUGV0ICR7Y3VycmVudExvYWRvdXQucGV0U2xvdH1gIDogJyd9CiAgIAoyLiBHUk9VTkQgVEFSR0VUIE1BQ1JPUyAoUkVRVUlSRUQpOgoke21hY3Jvc30KICAgCjMuIEFERE9OIElOU1RBTExBVElPTjoKICAgLSBDb3B5IFNraWxsV2VhdmVyX0FkZG9uLmx1YSB0byBJbnRlcmZhY2UvQWRkT25zL1NraWxsV2VhdmVyLwogICAtIENyZWF0ZSBhIC50b2MgZmlsZS4KICAgLSBSZWxvYWQgVUkuCgo0LiBMT0dJQyBFTkdJTkU6CiAgIC0gSW5zdGFsbCBQeXRob24gMy45KwogICAtIHBpcCBpbnN0YWxsIG1zcyBudW1weSBweXNlcmlhbCBwaWxsb3cKICAgLSBweXRob24gTG9naWNFbmdpbmUucHkKCj09IFNURUFMVEggUFJPVE9DT0wgPT0KICAgVGhpcyB2ZXJzaW9uIHVzZXMgRGlmZmVyZW50aWFsIFJHQiBlbmNvZGluZy4gCiAgIFRoZSBiYXIgYXQgdGhlIGJvdHRvbSB3aWxsIGxvb2sgbGlrZSBhIHNvbGlkIGRhcmsgZ3JheSBsaW5lLgogICBEbyBub3QgY2hhbmdlIEdhbW1hL0JyaWdodG5lc3Mgc2V0dGluZ3Mgd2hpbGUgcnVubmluZy4KYDsKICAgICAgICB6aXAuZmlsZSgiSW5zdHJ1Y3Rpb25zLnR4dCIsIHJlYWRtZSk7CiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHppcC5nZW5lcmF0ZUFzeW5jKHsgdHlwZTogImJsb2IiIH0pOwogICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBhLmhyZWYgPSB1cmw7CiAgICAgICAgYS5kb3dubG9hZCA9IGBTa2lsbFdlYXZlcl9QaGFudG9tXyR7c3BlY0hhc2h9LnppcGA7CiAgICAgICAgYS5jbGljaygpOwogICAgfTsKICAgIGNvbnN0IGRvd25sb2FkRmlsZSA9IChmaWxlbmFtZSwgY29udGVudCkgPT4gewogICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBCbG9iKFtjb250ZW50XSwgeyB0eXBlOiAndGV4dC9wbGFpbicgfSk7CiAgICAgICAgZWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgICAgICBlbGVtZW50LmRvd25sb2FkID0gZmlsZW5hbWU7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTsKICAgICAgICBlbGVtZW50LmNsaWNrKCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtZW50KTsKICAgIH07CiAgICAvLyAtLS0gU0lNVUxBVElPTiBERU1PIC0tLQogICAgdXNlRWZmZWN0KCgpID0+IHsKICAgICAgICBpZiAoIWlzU2ltdWxhdGluZykKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpOwogICAgICAgICAgICBpZiAobm93IC0gbGFzdEFjdGlvblRpbWUgPiAxMDAwKSB7CiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uID0gIldhaXQiOwogICAgICAgICAgICAgICAgLy8gUFJJT1JJVFk6IFNOQVBTSE9UVElORyAoVjIyKQogICAgICAgICAgICAgICAgaWYgKGdhbWVTdGF0ZS5zbmFwc2hvdEFjdGl2ZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXAgPSBjdXJyZW50U3BlYy5zcGVsbHMuZmluZChzID0+IHMuc25hcHNob3QpOwogICAgICAgICAgICAgICAgICAgIGlmIChzbmFwKQogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSBgW1NOQVBTSE9UXSBSRUZSRVNIOiAke3NuYXAubmFtZX0gKERhcmsgU291bCBBY3RpdmUpYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFBSSU9SSVRZOiBTQ0FUVEVSIEJSRUFLIChWMTkpCiAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUucGxheWVyU2NhdHRlcmVkKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGF1bnQgPSBjdXJyZW50U3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1BFVF9UQVVOVCcpOwogICAgICAgICAgICAgICAgICAgIGlmICh0YXVudCkKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYFtXQVJMT1JEXSBTQ0FUVEVSIEJSRUFLOiAke3RhdW50Lm5hbWV9IChQZXQgVGF1bnQpYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFBSSU9SSVRZOiBQRVQgUkVWSVZFIChHSE9TVCkKICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVTdGF0ZS5wZXRIcCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldml2ZSA9IGN1cnJlbnRTcGVjLnNwZWxscy5maW5kKHMgPT4gcy50eXBlID09PSAnUEVUX01BTkFHRScgJiYgcy5uYW1lLmluY2x1ZGVzKCJSZXZpdmUiKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJldml2ZSkKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYFtHSE9TVF0gUkVWSVZFOiAke3Jldml2ZS5uYW1lfSAoUGV0IERlYWQpYDsKICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VtbW9uID0gY3VycmVudFNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdQRVRfTUFOQUdFJyAmJiBzLm5hbWUuc3RhcnRzV2l0aCgiU3VtbW9uIikpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VtbW9uKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYFtHSE9TVF0gU1VNTU9OOiAke3N1bW1vbi5uYW1lfWA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gUFJJT1JJVFk6IFNOQVJFIEJSRUFLIChWMTkpCiAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUucGxheWVyUm9vdGVkKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hpZnQgPSBjdXJyZW50U3BlYy5zcGVsbHMuZmluZChzID0+IHMudHlwZSA9PT0gJ1NOQVJFX0JSRUFLJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaWZ0KQogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSBgW1dBUkxPUkRdIEZSRUVET006ICR7c2hpZnQubmFtZX0gKFJvb3QgQnJlYWspYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFBSSU9SSVRZOiBBUkVOQSBJTlRFUlJVUFQgKEFQRVgpCiAgICAgICAgICAgICAgICBlbHNlIGlmIChnYW1lU3RhdGUuYXJlbmExQ2FzdGluZykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGtpY2sxID0gY3VycmVudFNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdBUkVOQV9JTlRFUlJVUFQnICYmIHMuYXJlbmFUYXJnZXQgPT09IDEpOwogICAgICAgICAgICAgICAgICAgIGlmIChraWNrMSkKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gYFtBUEVYXSBBUkVOQSBLSUNLOiAke2tpY2sxLm5hbWV9IEAgQXJlbmExYDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIEZBTExCQUNLOiBDTEFTUyBMT0dJQwogICAgICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gIldhaXQiKSB7CiAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gY3VycmVudFNwZWMuc3BlbGxzLmZpbmQocyA9PiBzLnR5cGUgPT09ICdEQU1BR0UnKT8ubmFtZSB8fCAiQXR0YWNrIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gIT09ICJXYWl0IikgewogICAgICAgICAgICAgICAgICAgIHNldExvZ3MocHJldiA9PiBbLi4ucHJldiwgeyBpZDogbm93LCB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCksIHNvdXJjZTogJ0NPUkUnLCBtZXNzYWdlOiBgREVDSVNJT046ICR7YWN0aW9ufWAgfV0uc2xpY2UoLTIwKSk7CiAgICAgICAgICAgICAgICAgICAgc2V0TGFzdEFjdGlvblRpbWUobm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sIDUwMCk7CiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgfSwgW2lzU2ltdWxhdGluZywgZ2FtZVN0YXRlLCBjdXJyZW50U3BlYywgbGFzdEFjdGlvblRpbWUsIHNlbGVjdGVkUmFjZUlkLCBodW1hbml6YXRpb24uZmFrZUNhc3RDaGFuY2VdKTsKICAgIGNvbnN0IGdldFNvdXJjZUNvbnRlbnQgPSAoKSA9PiB7CiAgICAgICAgc3dpdGNoIChzb3VyY2VGaWxlKSB7CiAgICAgICAgICAgIGNhc2UgJ0xVQSc6IHJldHVybiB7IGNvZGU6IGdlbmVyYXRlTHVhQ29kZShjdXJyZW50U3BlYyksIG5hbWU6ICdjb3JlLmx1YScgfTsKICAgICAgICAgICAgY2FzZSAnUFlUSE9OJzogcmV0dXJuIHsgY29kZTogcHl0aG9uQ29udGVudCwgbmFtZTogJ0xvZ2ljRW5naW5lLnB5JyB9OwogICAgICAgICAgICBjYXNlICdBUkRVSU5PJzogcmV0dXJuIHsgY29kZTogIi8vIEFyZHVpbm8gQ29kZS4uLiIsIG5hbWU6ICdPbW5pX0V4ZWN1dG9yLmlubycgfTsKICAgICAgICB9CiAgICB9OwogICAgcmV0dXJuIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJtaW4taC1zY3JlZW4gcC00IGZsZXggZmxleC1jb2wgZ2FwLTQgbWF4LXctWzE2MDBweF0gbXgtYXV0byB6LTEwIHJlbGF0aXZlIGZvbnQtbW9ubyB0ZXh0LXNtIiwgY2hpbGRyZW46IFtfanN4cygiaGVhZGVyIiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIG1kOmZsZXgtcm93IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydCBtZDppdGVtcy1lbmQgYm9yZGVyLWIgYm9yZGVyLXppbmMtODAwIHBiLTQgZ2FwLTQiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNoaWxkcmVuOiBbX2pzeHMoImgxIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC13aGl0ZSB0cmFja2luZy10aWdodGVyIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIiwgY2hpbGRyZW46IFtfanN4KEdob3N0LCB7IGNsYXNzTmFtZTogInRleHQtcHVycGxlLTUwMCIgfSksICJTS0lMTFdFQVZFUiAiLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXppbmMtNjAwIHRleHQtYmFzZSBmb250LW5vcm1hbCIsIGNoaWxkcmVuOiAiLy8gUFJPVE9DT0wgdjIyLjAiIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC00IG10LTIiLCBjaGlsZHJlbjogX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC16aW5jLTUwMCB0ZXh0LXhzIiwgY2hpbGRyZW46IFsiICIsIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInctMiBoLTIgYmctcHVycGxlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZSIgfSksICIgU1RFQUxUSCBQSEFOVE9NOiBPTkxJTkUgIl0gfSkgfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIGl0ZW1zLWNlbnRlciBiZy16aW5jLTkwMCBwLTIgcm91bmRlZCBib3JkZXIgYm9yZGVyLXppbmMtODAwIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIiwgY2hpbGRyZW46IFtfanN4KCJsYWJlbCIsIHsgY2xhc3NOYW1lOiAidGV4dC1bMTBweF0gdGV4dC16aW5jLTUwMCIsIGNoaWxkcmVuOiAiQ0xBU1MiIH0pLCBfanN4KCJzZWxlY3QiLCB7IHZhbHVlOiBzZWxlY3RlZENsYXNzSWQsIG9uQ2hhbmdlOiAoZSkgPT4geyBzZXRTZWxlY3RlZENsYXNzSWQocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKTsgc2V0U2VsZWN0ZWRTcGVjSWQoMyk7IH0sIGNsYXNzTmFtZTogImJnLXRyYW5zcGFyZW50IHRleHQtd2hpdGUgZm9udC1ib2xkIG91dGxpbmUtbm9uZSBjdXJzb3ItcG9pbnRlciIsIGNoaWxkcmVuOiBTUEVDX0RCLm1hcChjID0+IF9qc3goIm9wdGlvbiIsIHsgdmFsdWU6IGMuaWQsIGNoaWxkcmVuOiBjLm5hbWUgfSwgYy5pZCkpIH0pXSB9KSwgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJ3LXB4IGgtOCBiZy16aW5jLTcwMCBteC0yIiB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBmbGV4LWNvbCIsIGNoaWxkcmVuOiBbX2pzeCgibGFiZWwiLCB7IGNsYXNzTmFtZTogInRleHQtWzEwcHhdIHRleHQtemluYy01MDAiLCBjaGlsZHJlbjogIlNQRUMiIH0pLCBfanN4KCJzZWxlY3QiLCB7IHZhbHVlOiBzZWxlY3RlZFNwZWNJZCwgb25DaGFuZ2U6IChlKSA9PiB7IHNldFNlbGVjdGVkU3BlY0lkKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSk7IHNldFNlbGVjdGVkTG9hZG91dCgwKTsgfSwgY2xhc3NOYW1lOiAiYmctdHJhbnNwYXJlbnQgdGV4dC16aW5jLTMwMCBmb250LWJvbGQgb3V0bGluZS1ub25lIGN1cnNvci1wb2ludGVyIHctMzIiLCBjaGlsZHJlbjogY3VycmVudENsYXNzLnNwZWNzLm1hcChzID0+IF9qc3goIm9wdGlvbiIsIHsgdmFsdWU6IHMuaWQsIGNoaWxkcmVuOiBzLm5hbWUgfSwgcy5pZCkpIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXggZmxleC1jb2wiLCBjaGlsZHJlbjogW19qc3goImxhYmVsIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVsxMHB4XSB0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46ICJSQUNFIiB9KSwgX2pzeCgic2VsZWN0IiwgeyB2YWx1ZTogc2VsZWN0ZWRSYWNlSWQsIG9uQ2hhbmdlOiAoZSkgPT4gc2V0U2VsZWN0ZWRSYWNlSWQocGFyc2VJbnQoZS50YXJnZXQudmFsdWUpKSwgY2xhc3NOYW1lOiAiYmctemluYy05MDAgYm9yZGVyIGJvcmRlci16aW5jLTgwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBvdXRsaW5lLW5vbmUgY3Vyc29yLXBvaW50ZXIgdGV4dC14cyBwLTEgcm91bmRlZCB3LTMyIiwgY2hpbGRyZW46IFJBQ0VTLm1hcChyID0+IF9qc3goIm9wdGlvbiIsIHsgdmFsdWU6IHIuaWQsIGNoaWxkcmVuOiByLm5hbWUgfSwgci5pZCkpIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBnYXAtMiIsIGNoaWxkcmVuOiBbX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogZG93bmxvYWRQcm9qZWN0WmlwLCBjbGFzc05hbWU6ICJiZy1wdXJwbGUtOTAwLzMwIGhvdmVyOmJnLXB1cnBsZS05MDAvNTAgdGV4dC1wdXJwbGUtNTAwIGJvcmRlciBib3JkZXItcHVycGxlLTgwMCBweC00IHB5LTIgdGV4dC14cyBmb250LWJvbGQgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0cmFuc2l0aW9uLWFsbCIsIGNoaWxkcmVuOiBbX2pzeChBcmNoaXZlLCB7IHNpemU6IDE0IH0pLCAiIERPV05MT0FEIFNVSVRFIl0gfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBiZy16aW5jLTkwMCBwLTEgcm91bmRlZCBib3JkZXIgYm9yZGVyLXppbmMtODAwIiwgY2hpbGRyZW46IFt7IGlkOiAnREFTSEJPQVJEJywgaWNvbjogQWN0aXZpdHkgfSwgeyBpZDogJ0VESVRPUicsIGljb246IEZpbGVKc29uIH0sIHsgaWQ6ICdTT1VSQ0UnLCBpY29uOiBGaWxlQ29kZSB9XS5tYXAoKGl0ZW0pID0+IChfanN4cygiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRBY3RpdmVUYWIoaXRlbS5pZCksIGNsYXNzTmFtZTogYHB4LTQgcHktMiB0ZXh0LXhzIGZvbnQtYm9sZCByb3VuZGVkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRyYW5zaXRpb24tYWxsICR7YWN0aXZlVGFiID09PSBpdGVtLmlkID8gJ2JnLXppbmMtODAwIHRleHQtd2hpdGUgc2hhZG93LXNtJyA6ICd0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtemluYy0zMDAnfWAsIGNoaWxkcmVuOiBbX2pzeChpdGVtLmljb24sIHsgc2l6ZTogMTQgfSksICIgIiwgaXRlbS5pZF0gfSwgaXRlbS5pZCkpKSB9KV0gfSldIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0xMiBnYXAtNiBmbGV4LTEgaC1bY2FsYygxMDB2aC0yMDBweCldIiwgY2hpbGRyZW46IFtfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJjb2wtc3Bhbi0xMiBsZzpjb2wtc3Bhbi00IGZsZXggZmxleC1jb2wgZ2FwLTQiLCBjaGlsZHJlbjogW19qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImJnLXppbmMtOTAwLzUwIGJvcmRlciBib3JkZXItemluYy04MDAgcC00IHJvdW5kZWQtbGcgZmxleCBmbGV4LWNvbCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNCIsIGNoaWxkcmVuOiBfanN4cygiaDIiLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtemluYy00MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiLCBjaGlsZHJlbjogWyIgIiwgX2pzeChFeWUsIHsgc2l6ZTogMTQgfSksICIgT1BUSUNBTCBGRUVEICJdIH0pIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImgtMTIgYmctYmxhY2sgYm9yZGVyIGJvcmRlci16aW5jLTcwMCB3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgcHgtMSBnYXAtWzFweF0gbWItMiBvdmVyZmxvdy1oaWRkZW4iLCBjaGlsZHJlbjogQXJyYXkoMzIpLmZpbGwoMCkubWFwKChfLCBpZHgpID0+IChfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogYGgtOCBmbGV4LTEgcmVsYXRpdmUgJHtpZHggPT09IDE2ICYmIChnYW1lU3RhdGUucGxheWVyUm9vdGVkIHx8IGdhbWVTdGF0ZS5wbGF5ZXJTY2F0dGVyZWQpID8gJ2JnLW9yYW5nZS01MDAnIDogaWR4ID09PSAxNSAmJiBnYW1lU3RhdGUudG90ZW1BY3RpdmUgPyAnYmcteWVsbG93LTUwMCcgOiBpZHggPT09IDIyID8gJ2JnLWdyZWVuLTgwMCByZWxhdGl2ZScgOiBpZHggPT09IDMwICYmIGdhbWVTdGF0ZS5zbmFwc2hvdEFjdGl2ZSA/ICdiZy1wdXJwbGUtODAwJyA6ICdiZy16aW5jLTkwMCd9YCwgY2hpbGRyZW46IGlkeCA9PT0gMjIgJiYgX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgdy1mdWxsIGJnLWdyZWVuLTUwMCIsIHN0eWxlOiB7IGhlaWdodDogYCR7Z2FtZVN0YXRlLnBldEhwfSVgIH0gfSkgfSwgaWR4KSkpIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiB0ZXh0LVsxMHB4XSBmb250LW1vbm8gdGV4dC16aW5jLTYwMCIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJQMTU6VE9URU0iIH0pLCAiICIsIF9qc3goInNwYW4iLCB7IGNoaWxkcmVuOiAiUDE2OkRFQlVGRlMiIH0pLCAiICIsIF9qc3goInNwYW4iLCB7IGNoaWxkcmVuOiAiUDIyOlBFVF9IUCIgfSksICIgIiwgX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJQMzA6U05BUCIgfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiYmctemluYy05MDAvNTAgYm9yZGVyIGJvcmRlci16aW5jLTgwMCBwLTQgcm91bmRlZC1sZyBmbGV4IGZsZXgtY29sIGdhcC00IiwgY2hpbGRyZW46IFtfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciIsIGNoaWxkcmVuOiBfanN4cygiaDIiLCB7IGNsYXNzTmFtZTogInRleHQteHMgZm9udC1ib2xkIHRleHQtemluYy00MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiLCBjaGlsZHJlbjogWyIgIiwgX2pzeChHaG9zdCwgeyBzaXplOiAxNCB9KSwgIiBHSE9TVCBDT05UUk9MICJdIH0pIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJncmlkIGdyaWQtY29scy0yIGdhcC0yIiwgY2hpbGRyZW46IFtfanN4KCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHNldFNhZmVNb3ZlbWVudCghc2FmZU1vdmVtZW50KSwgY2xhc3NOYW1lOiBgdGV4dC14cyBwLTIgYm9yZGVyIHJvdW5kZWQgJHtzYWZlTW92ZW1lbnQgPyAnYmctZ3JlZW4tOTAwLzUwIGJvcmRlci1ncmVlbi01MDAgdGV4dC13aGl0ZScgOiAnYmctcmVkLTkwMC81MCBib3JkZXItcmVkLTUwMCB0ZXh0LXdoaXRlJ31gLCBjaGlsZHJlbjogc2FmZU1vdmVtZW50ID8gJ1NBRkVUWTogT04nIDogJ1NBRkVUWTogT0ZGJyB9KSwgX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0R2FtZVN0YXRlKHAgPT4gKHsgLi4ucCwgcGV0SHA6IHAucGV0SHAgPT09IDAgPyAxMDAgOiBwLnBldEhwIC0gMjUgPCAwID8gMCA6IHAucGV0SHAgLSAyNSB9KSksIGNsYXNzTmFtZTogYHRleHQteHMgcC0yIGJvcmRlciByb3VuZGVkICR7Z2FtZVN0YXRlLnBldEhwIDwgNTAgPyAnYmctcmVkLTkwMC81MCBib3JkZXItcmVkLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy16aW5jLTkwMCBib3JkZXItemluYy04MDAgdGV4dC16aW5jLTUwMCd9YCwgY2hpbGRyZW46IFsiUEVUIEhQOiAiLCBnYW1lU3RhdGUucGV0SHAsICIlIChQMjIpIl0gfSksIF9qc3goImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4gc2V0R2FtZVN0YXRlKHAgPT4gKHsgLi4ucCwgc25hcHNob3RBY3RpdmU6ICFwLnNuYXBzaG90QWN0aXZlIH0pKSwgY2xhc3NOYW1lOiBgdGV4dC14cyBwLTIgYm9yZGVyIHJvdW5kZWQgJHtnYW1lU3RhdGUuc25hcHNob3RBY3RpdmUgPyAnYmctcHVycGxlLTkwMC81MCBib3JkZXItcHVycGxlLTUwMCB0ZXh0LXdoaXRlJyA6ICdiZy16aW5jLTkwMCBib3JkZXItemluYy04MDAgdGV4dC16aW5jLTUwMCd9YCwgY2hpbGRyZW46ICJTTkFQU0hPVCBQUk9DIChQMzApIiB9KSwgX2pzeCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRHYW1lU3RhdGUocCA9PiAoeyAuLi5wLCBwbGF5ZXJTY2F0dGVyZWQ6ICFwLnBsYXllclNjYXR0ZXJlZCB9KSksIGNsYXNzTmFtZTogYHRleHQteHMgcC0yIGJvcmRlciByb3VuZGVkICR7Z2FtZVN0YXRlLnBsYXllclNjYXR0ZXJlZCA/ICdiZy1vcmFuZ2UtOTAwLzUwIGJvcmRlci1vcmFuZ2UtNTAwIHRleHQtd2hpdGUnIDogJ2JnLXppbmMtOTAwIGJvcmRlci16aW5jLTgwMCB0ZXh0LXppbmMtNTAwJ31gLCBjaGlsZHJlbjogIlBMQVlFUiBTQ0FUVEVSRUQgKFAxNikiIH0pXSB9KV0gfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogImJnLXppbmMtOTAwLzUwIGJvcmRlciBib3JkZXItemluYy04MDAgcC00IHJvdW5kZWQtbGcgZmxleCBmbGV4LWNvbCBnYXAtNCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIiLCBjaGlsZHJlbjogX2pzeHMoImgyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXppbmMtNDAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIiwgY2hpbGRyZW46IFsiICIsIF9qc3goU2t1bGwsIHsgc2l6ZTogMTQgfSksICIgS0lMTCBXSU5ET1cgIl0gfSkgfSksIF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInNwYWNlLXktMSIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC1bMTBweF0gdGV4dC16aW5jLTUwMCIsIGNoaWxkcmVuOiBbX2pzeCgic3BhbiIsIHsgY2hpbGRyZW46ICJUQVJHRVQgSFAiIH0pLCAiICIsIF9qc3hzKCJzcGFuIiwgeyBjbGFzc05hbWU6IGAke2dhbWVTdGF0ZS50YXJnZXRIcCA8IDQwID8gJ3RleHQtcmVkLTUwMCBmb250LWJvbGQnIDogJ3RleHQtemluYy0zMDAnfWAsIGNoaWxkcmVuOiBbZ2FtZVN0YXRlLnRhcmdldEhwLCAiJSJdIH0pXSB9KSwgX2pzeCgiaW5wdXQiLCB7IHR5cGU6ICJyYW5nZSIsIG1pbjogIjAiLCBtYXg6ICIxMDAiLCB2YWx1ZTogZ2FtZVN0YXRlLnRhcmdldEhwLCBvbkNoYW5nZTogKGUpID0+IHNldEdhbWVTdGF0ZShwID0+ICh7IC4uLnAsIHRhcmdldEhwOiBwYXJzZUludChlLnRhcmdldC52YWx1ZSkgfSkpLCBjbGFzc05hbWU6ICJ3LWZ1bGwgYWNjZW50LXJlZC02MDAgaC0xIGJnLXppbmMtODAwIHJvdW5kZWQgYXBwZWFyYW5jZS1ub25lIiB9KV0gfSldIH0pXSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiY29sLXNwYW4tMTIgbGc6Y29sLXNwYW4tOCBiZy16aW5jLTkwMC8zMCBib3JkZXIgYm9yZGVyLXppbmMtODAwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGZsZXggZmxleC1jb2wiLCBjaGlsZHJlbjogW2FjdGl2ZVRhYiA9PT0gJ0RBU0hCT0FSRCcgJiYgKF9qc3hzKCJkaXYiLCB7IGNsYXNzTmFtZTogInAtNiBoLWZ1bGwgZmxleCBmbGV4LWNvbCIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgbWItNiIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2hpbGRyZW46IFtfanN4cygiaDIiLCB7IGNsYXNzTmFtZTogInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlIG1iLTIiLCBjaGlsZHJlbjogW2N1cnJlbnRTcGVjLm5hbWUsICIgIiwgY3VycmVudENsYXNzLm5hbWVdIH0pLCBfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGdhcC0yIiwgY2hpbGRyZW46IFtfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJweC0yIHB5LTEgYmctemluYy04MDAgdGV4dC16aW5jLTMwMCB0ZXh0LVsxMHB4XSByb3VuZGVkIGZvbnQtbW9ubyIsIGNoaWxkcmVuOiBjdXJyZW50U3BlYy5yb2xlIH0pLCBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJweC0yIHB5LTEgYmctcHVycGxlLTkwMC8zMCB0ZXh0LXB1cnBsZS00MDAgdGV4dC1bMTBweF0gcm91bmRlZCBmb250LW1vbm8gYm9yZGVyIGJvcmRlci1wdXJwbGUtOTAwIiwgY2hpbGRyZW46IGN1cnJlbnRMb2Fkb3V0Lm5hbWUgfSldIH0pXSB9KSwgX2pzeHMoImJ1dHRvbiIsIHsgb25DbGljazogKCkgPT4geyBzZXRJc1NpbXVsYXRpbmcoIWlzU2ltdWxhdGluZyk7IH0sIGNsYXNzTmFtZTogYGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTYgcHktMiByb3VuZGVkIGZvbnQtYm9sZCB0ZXh0LXhzIGJvcmRlciAke2lzU2ltdWxhdGluZyA/ICdiZy1yZWQtNTAwLzEwIGJvcmRlci1yZWQtNTAwIHRleHQtcmVkLTUwMCcgOiAnYmctZW1lcmFsZC01MDAvMTAgYm9yZGVyLWVtZXJhbGQtNTAwIHRleHQtZW1lcmFsZC01MDAnfWAsIGNoaWxkcmVuOiBbaXNTaW11bGF0aW5nID8gX2pzeChQYXVzZSwgeyBzaXplOiAxNiB9KSA6IF9qc3goUGxheSwgeyBzaXplOiAxNiB9KSwgIiAiLCBpc1NpbXVsYXRpbmcgPyAnSEFMVCBMT0dJQycgOiAnRU5HQUdFIExPR0lDJ10gfSldIH0pLCBfanN4KCJkaXYiLCB7IGNsYXNzTmFtZTogImZsZXgtMSBvdmVyZmxvdy1hdXRvIiwgY2hpbGRyZW46IF9qc3hzKCJ0YWJsZSIsIHsgY2xhc3NOYW1lOiAidy1mdWxsIHRleHQtbGVmdCBib3JkZXItY29sbGFwc2UiLCBjaGlsZHJlbjogW19qc3goInRoZWFkIiwgeyBjaGlsZHJlbjogX2pzeHMoInRyIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LVsxMHB4XSB0ZXh0LXppbmMtNTAwIGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCIsIGNoaWxkcmVuOiBbX2pzeCgidGgiLCB7IGNsYXNzTmFtZTogInB5LTIgcGwtMiIsIGNoaWxkcmVuOiAiUFJJTyIgfSksIF9qc3goInRoIiwgeyBjbGFzc05hbWU6ICJweS0yIiwgY2hpbGRyZW46ICJBQ1RJT04iIH0pLCBfanN4KCJ0aCIsIHsgY2xhc3NOYW1lOiAicHktMiIsIGNoaWxkcmVuOiAiVFlQRSIgfSksIF9qc3goInRoIiwgeyBjbGFzc05hbWU6ICJweS0yIiwgY2hpbGRyZW46ICJMT0dJQyIgfSksIF9qc3goInRoIiwgeyBjbGFzc05hbWU6ICJweS0yIiwgY2hpbGRyZW46ICJUQVJHRVQiIH0pXSB9KSB9KSwgX2pzeCgidGJvZHkiLCB7IGNoaWxkcmVuOiBjdXJyZW50U3BlYy5zcGVsbHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHMgPT4gY3VycmVudExvYWRvdXQuc3BlbGxzLmluY2x1ZGVzKHMubmFtZSkgfHwgIXMuaXNUYWxlbnQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoKHNwZWxsLCBpZHgpID0+IChfanN4cygidHIiLCB7IGNsYXNzTmFtZTogImJvcmRlci1iIGJvcmRlci16aW5jLTgwMC81MCBob3ZlcjpiZy16aW5jLTgwMC8zMCB0ZXh0LXhzIHRleHQtemluYy0zMDAiLCBjaGlsZHJlbjogW19qc3hzKCJ0ZCIsIHsgY2xhc3NOYW1lOiAicHktMiBwbC0yIGZvbnQtbW9ubyB0ZXh0LXppbmMtNTAwIiwgY2hpbGRyZW46IFsiIyIsIHNwZWxsLnByaW9yaXR5XSB9KSwgX2pzeCgidGQiLCB7IGNsYXNzTmFtZTogInB5LTIgZm9udC1ib2xkIHRleHQtd2hpdGUiLCBjaGlsZHJlbjogc3BlbGwubmFtZSB9KSwgX2pzeCgidGQiLCB7IGNsYXNzTmFtZTogInB5LTIiLCBjaGlsZHJlbjogX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiBgdGV4dC1bMTBweF0gcHgtMSByb3VuZGVkICR7c3BlbGwudHlwZSA9PT0gJ1BFVF9NQU5BR0UnID8gJ2JnLWdyZWVuLTgwMCB0ZXh0LXdoaXRlJyA6IHNwZWxsLnR5cGUgPT09ICdTQUZFX01PVkVNRU5UJyA/ICdiZy1ncmVlbi05MDAgdGV4dC1ncmVlbi0yMDAnIDogc3BlbGwudHlwZSA9PT0gJ0dST1VORF9UQVJHRVQnID8gJ2JnLWJsdWUtOTAwIHRleHQtYmx1ZS0yMDAnIDogc3BlbGwudHlwZSA9PT0gJ1BFVF9UQVVOVCcgPyAnYmctb3JhbmdlLTgwMCB0ZXh0LXdoaXRlJyA6IHNwZWxsLnR5cGUgPT09ICdTTkFSRV9CUkVBSycgPyAnYmctb3JhbmdlLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy16aW5jLTgwMCB0ZXh0LXppbmMtNDAwJ31gLCBjaGlsZHJlbjogc3BlbGwudHlwZSB9KSB9KSwgX2pzeHMoInRkIiwgeyBjbGFzc05hbWU6ICJweS0yIHRleHQtWzEwcHhdIHRleHQtemluYy00MDAgZm9udC1tb25vIiwgY2hpbGRyZW46IFtzcGVsbC50eXBlID09PSAnUEVUX01BTkFHRScgJiYgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1ncmVlbi00MDAgZm9udC1ib2xkIiwgY2hpbGRyZW46ICJORVVSQUwgTkVUICIgfSksIHNwZWxsLnR5cGUgPT09ICdTQUZFX01PVkVNRU5UJyAmJiBfanN4KCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LWdyZWVuLTQwMCIsIGNoaWxkcmVuOiAiU0FGRVRZIEdBVEUiIH0pLCBzcGVsbC50eXBlID09PSAnR1JPVU5EX1RBUkdFVCcgJiYgX2pzeCgic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC1ibHVlLTQwMCIsIGNoaWxkcmVuOiAiQENVUlNPUiIgfSksIHNwZWxsLnR5cGUgPT09ICdQRVRfVEFVTlQnICYmIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtb3JhbmdlLTQwMCIsIGNoaWxkcmVuOiAiQU5USS1DQyIgfSksIHNwZWxsLnNuYXBzaG90ICYmIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtcHVycGxlLTQwMCBmb250LWJvbGQiLCBjaGlsZHJlbjogIlNOQVBTSE9UIiB9KV0gfSksIF9qc3goInRkIiwgeyBjbGFzc05hbWU6ICJweS0yIHRleHQtWzEwcHhdIHRleHQtemluYy01MDAiLCBjaGlsZHJlbjogc3BlbGwudGFyZ2V0ID09PSAnQ1lDTEVfRU5FTVknID8gX2pzeHMoInNwYW4iLCB7IGNsYXNzTmFtZTogInRleHQtcHVycGxlLTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSIsIGNoaWxkcmVuOiBbX2pzeChSZWZyZXNoQ3csIHsgc2l6ZTogMTAgfSksICIgQ1lDTEUiXSB9KSA6IHNwZWxsLnRhcmdldCB9KV0gfSwgaWR4KSkpIH0pXSB9KSB9KSwgX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAibXQtNCBoLTMyIGJnLWJsYWNrIGJvcmRlciBib3JkZXItemluYy04MDAgcm91bmRlZCBwLTIgZm9udC1tb25vIHRleHQtWzEwcHhdIG92ZXJmbG93LWF1dG8iLCBjaGlsZHJlbjogW2xvZ3MubWFwKGxvZyA9PiAoX2pzeHMoImRpdiIsIHsgY2hpbGRyZW46IFtfanN4cygic3BhbiIsIHsgY2xhc3NOYW1lOiAidGV4dC16aW5jLTUwMCIsIGNoaWxkcmVuOiBbIlsiLCBsb2cudGltZXN0YW1wLCAiXSJdIH0pLCAiICIsIF9qc3goInNwYW4iLCB7IGNsYXNzTmFtZTogYCR7bG9nLm1lc3NhZ2UuaW5jbHVkZXMoJ0dIT1NUJykgPyAndGV4dC1wdXJwbGUtNDAwIGZvbnQtYm9sZCcgOiBsb2cubWVzc2FnZS5pbmNsdWRlcygnQVBFWCcpID8gJ3RleHQteWVsbG93LTUwMCcgOiAndGV4dC16aW5jLTMwMCd9YCwgY2hpbGRyZW46IGxvZy5tZXNzYWdlIH0pXSB9LCBsb2cuaWQpKSksIF9qc3goImRpdiIsIHsgcmVmOiBsb2dzRW5kUmVmIH0pXSB9KV0gfSkpLCBhY3RpdmVUYWIgPT09ICdFRElUT1InICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGgtZnVsbCIsIGNoaWxkcmVuOiBbX2pzeHMoImRpdiIsIHsgY2xhc3NOYW1lOiAicC0yIGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCBiZy16aW5jLTk1MCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIiLCBjaGlsZHJlbjogW19qc3hzKCJzcGFuIiwgeyBjbGFzc05hbWU6ICJ0ZXh0LXhzIGZvbnQtbW9ubyB0ZXh0LXppbmMtNDAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1sLTIiLCBjaGlsZHJlbjogWyIgIiwgX2pzeChGb2xkZXJPcGVuLCB7IHNpemU6IDEyIH0pLCAiICIsIHNwZWNIYXNoLCAiLmpzb24gIl0gfSksIF9qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IGRvd25sb2FkRmlsZShgJHtzcGVjSGFzaH0uanNvbmAsIGVkaXRvckNvbnRlbnQpLCBjbGFzc05hbWU6ICJ0ZXh0LXhzIHB4LTMgcHktMSBiZy1lbWVyYWxkLTkwMC8zMCB0ZXh0LWVtZXJhbGQtNDAwIGJvcmRlciBib3JkZXItZW1lcmFsZC05MDAgcm91bmRlZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiIsIGNoaWxkcmVuOiBbIiAiLCBfanN4KFNhdmUsIHsgc2l6ZTogMTIgfSksICIgU0FWRSAiXSB9KV0gfSksIF9qc3goInRleHRhcmVhIiwgeyB2YWx1ZTogZWRpdG9yQ29udGVudCwgcmVhZE9ubHk6IHRydWUsIGNsYXNzTmFtZTogImZsZXgtMSBiZy16aW5jLTkwMC84MCBwLTQgdGV4dC14cyBmb250LW1vbm8gdGV4dC16aW5jLTMwMCBvdXRsaW5lLW5vbmUgcmVzaXplLW5vbmUgbGVhZGluZy1yZWxheGVkIiB9KV0gfSkpLCBhY3RpdmVUYWIgPT09ICdTT1VSQ0UnICYmIChfanN4cygiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGZsZXgtY29sIGgtZnVsbCIsIGNoaWxkcmVuOiBbX2pzeCgiZGl2IiwgeyBjbGFzc05hbWU6ICJmbGV4IGJvcmRlci1iIGJvcmRlci16aW5jLTgwMCBiZy16aW5jLTk1MCIsIGNoaWxkcmVuOiBbJ0xVQScsICdQWVRIT04nLCAnQVJEVUlOTyddLm1hcCgoZmlsZSkgPT4gKF9qc3hzKCJidXR0b24iLCB7IG9uQ2xpY2s6ICgpID0+IHNldFNvdXJjZUZpbGUoZmlsZSksIGNsYXNzTmFtZTogYHB4LTQgcHktMiB0ZXh0LVsxMHB4XSBmb250LWJvbGQgYm9yZGVyLXIgYm9yZGVyLXppbmMtODAwIHRyYW5zaXRpb24tY29sb3JzICR7c291cmNlRmlsZSA9PT0gZmlsZSA/ICdiZy16aW5jLTgwMCB0ZXh0LXdoaXRlJyA6ICd0ZXh0LXppbmMtNTAwIGhvdmVyOnRleHQtemluYy0zMDAnfWAsIGNoaWxkcmVuOiBbIiAiLCBmaWxlLCAiICJdIH0sIGZpbGUpKSkgfSksIF9qc3goImRpdiIsIHsgY2xhc3NOYW1lOiAiZmxleC0xIG92ZXJmbG93LWF1dG8gYmctemluYy05MDAvODAgcC00IiwgY2hpbGRyZW46IF9qc3hzKCJwcmUiLCB7IGNsYXNzTmFtZTogInRleHQtWzEwcHhdIGZvbnQtbW9ubyB0ZXh0LXppbmMtMzAwIHdoaXRlc3BhY2UtcHJlLXdyYXAiLCBjaGlsZHJlbjogWyIgIiwgZ2V0U291cmNlQ29udGVudCgpLmNvZGUsICIgIl0gfSkgfSldIH0pKV0gfSldIH0pXSB9KSk7Cn07CmNvbnN0IHJvb3QgPSBjcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpOwpyb290LnJlbmRlcihfanN4KEFwcCwge30pKTsK"}}</script>
        <script>
          window.APPLET_FILES = ["index.tsx","metadata.json","index.html"];
          </script>
        <script type="module">
        (() => {
  if (window.self === window.top) {
    // Do not run the shim in the main window, only in iframes.
    return;
  }

  window.API_KEY = 'GEMINI_API_KEY';
  window.GEMINI_API_KEY = 'GEMINI_API_KEY';
  window.process = window.process || {};
  window.process.env = window.process.env || {};
  window.process.env.API_KEY = window.API_KEY;
  window.process.env.GEMINI_API_KEY = window.GEMINI_API_KEY;

  const bootstrapChannel = new Promise((resolve) => {
    window.addEventListener('message', (event) => {
      if (event.origin !== 'https://aistudio.google.com') {
        return;
      }

      if (event.data.type === 'bootstrap') {
        resolve({
          port: event.ports[0],
          urlPatterns:
              event.data.urlPatterns.map((pattern) => new RegExp(pattern)),
        });
      }
    });
  });

  window.aistudio = window.aistudio || {
    handleFullscreenEsc: true,
    getHostUrl: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_host_url'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.url);
        };
      });
    },
    hasSelectedApiKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'has_selected_api_key'},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data);
        };
      });
    },
    openSelectKey: async function() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'open_select_key'},
          [channel.port2]);
    },
    getModelQuota: async function(model) {
      const hostPort = (await bootstrapChannel).port;
      return new Promise((resolve) => {
        const channel = new MessageChannel();
        hostPort.postMessage(
            {type: 'get_model_quota', model},
            [channel.port2]);
        const port = channel.port1;
        port.onmessage = (message) => {
          resolve(message.data.modelQuota);
        };
      });
    },
  };

  const nativeFetch = window.fetch;

  /**
   * @param {string | URL | Request} resource The resource of the fetch request.
   * @param {RequestInit} options The options of the fetch request.
   * @return {Promise!} The promise of the fetch request.
   */
  async function fetch(resource, options) {
    const config = await bootstrapChannel;

    const request = resource instanceof Request ?
      resource.clone() :
      new Request(resource, options);

    if (!config.urlPatterns.some((pattern) => request.url.match(pattern))) {
      return nativeFetch(resource, options);
    }
    const hostPort = config.port;

    const channel = new MessageChannel();
    const port = channel.port1;
    let bodyBytes;
    const transfer = [channel.port2];
    const parts = [];
    const buffer = await request.arrayBuffer();
    if (buffer.byteLength) {
      bodyBytes = buffer;
      transfer.push(bodyBytes);
    }
    hostPort.postMessage(
        {
          type: 'fetch',
          url: request.url,
          method: request.method,
          headers: [...request.headers.entries()],
          body: bodyBytes,
        },
        transfer);

    let streamController;
    const body = new ReadableStream({
      start(controller) {
        streamController = controller;
      },
    });
    let resolveReceive;
    const receivePromise = new Promise((resolve) => {
      resolveReceive = resolve;
    });
    port.onmessage = (message) => {
      switch (message.data.type) {
        case 'response':
          resolveReceive(new Response(body, {
            status: message.data.status,
            statusText: message.data.statusText,
            headers: new Headers(message.data.headers),
          }));
          break;
        case 'body':
          streamController.enqueue(message.data.data);
          break;
        case 'body_done':
          streamController.close();
          break;
      }
    };
    return receivePromise;
  }

  Object.defineProperty(window, 'fetch', {
    get: function() {
      return fetch;
    },
  });

  // See details in: https://github.com/angular/angular/issues/63064.
  function patchHistoryStateFunctionForAngular(originalFn, baseHref) {
    return (state, unused, url) => {
      if (typeof url === 'string' && !url.startsWith('blob:')) {
        url = baseHref + url;
      }
      return originalFn.apply(window.history, [state, unused, url]);
    };
  }

  if (false) {
    const baseHref = window.location.href;
    window.history.replaceState = patchHistoryStateFunctionForAngular(window.history.replaceState, baseHref);
    window.history.pushState = patchHistoryStateFunctionForAngular(window.history.pushState, baseHref);
  }

  const originalWebSocket = window.WebSocket;
  class ProxiedWebSocket extends EventTarget {
    /**
     * @param {string} url The url of the websocket.
     * @param {Object!} protocols The protocols of the websocket.
     */
    constructor(url, protocols) {
      super();
      this.url = url;
      this.protocols = protocols;

      this.open();
    }

    /** Opens the websocket. */
    async open() {
      const hostPort = (await bootstrapChannel).port;
      const channel = new MessageChannel();
      hostPort.postMessage(
          {type: 'websocket_open', url: this.url, protocols: this.protocols},
          [channel.port2]);
      this.port = channel.port1;
      this.port.onmessage = (message) => {
        if (message.data.type === 'close') {
          const event = new CloseEvent('close', {
            code: message.data.code,
            reason: message.data.reason,
            wasClean: message.data.wasClean,
          });
          if (this.onclose) {
            this.onclose(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'open') {
          const event = new Event('open');
          if (this.onopen) {
            this.onopen(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'message') {
          let data = message.data.data;
          if (message.data.messageType === 'text' || message.data.messageType === 'message') {
            data = new TextDecoder().decode(data);
          }
          const event = new MessageEvent('message', {
            data,
            type: message.data.messageType,
          });
          if (this.onmessage) {
            this.onmessage(event);
          }
          this.dispatchEvent(event);
          return;
        } else if (message.data.type === 'error') {
          const event = new ErrorEvent('error', {
            message: message.data.message,
          });
          if (this.onerror) {
            this.onerror(event);
          }
          this.dispatchEvent(event);
          return;
        }
        console.error('received unknown message in frame', event.data);
      };
    }
    /**
     * @param {string|ArrayBuffer!} data The data to send.
     */
    send(data) {
      if (typeof data === 'string') {
        this.port.postMessage({type: 'send', data});
      } else {
        this.port.postMessage({type: 'send', data}, [data.buffer]);
      }
    }

    /**
     * @param {number} code The code of the close event.
     * @param {string} reason The reason of the close event.
     */
    close(code, reason) {
      this.port.postMessage({type: 'close', code, reason});
    }
  }

  /**
   * @param {string} url The url of the websocket.
   * @param {Object!} protocols The protocols of the websocket.
   * @return {WebSocket!} The websocket.
   */
  function createWebSocket(url, protocols) {
    // This should come from the bootstrap channel, but we want this to
    // work for the synchronous constructor here.
    if (url.startsWith('wss://generativelanguage.googleapis.com/')) {
      return Reflect.construct(ProxiedWebSocket, [url, protocols]);
    }
    return Reflect.construct(originalWebSocket, [url, protocols]);
  }

  Object.defineProperty(window, 'WebSocket', {
    get: function() {
      return createWebSocket;
    },
  });

  async function instrumentErrorReporting() {
    const errors = [];
    let hostPort;

    function reportError(message) {
      if (!hostPort) {
        errors.push(message);
      } else {
        hostPort.postMessage({type: 'error', message: message}, message);
      }
    }

    function serialize(args) {
      return args.map((a) => {
        if (a instanceof Error || a instanceof ErrorEvent) {
          return a.message;
        }
        if(a instanceof CloseEvent) {
          return {code: a.code, reason: a.reason, wasClean: a.wasClean};
        }
        if( a instanceof Map) {
          return JSON.parse(JSON.stringify([...a.entries()]));
        }
        if( a instanceof Set) {
          return JSON.parse(JSON.stringify([...a.values()]));
        }
        if (a instanceof Object) {
          return JSON.parse(JSON.stringify(a));
        }
        return a;
      });
    }

    const originalConsole = window.console;
    const originalConsoleLog = window.console.log;
    const originalConsoleError = window.console.error;
    const originalConsoleWarn = window.console.warn;
    const originalConsoleDebug = window.console.debug;
    window.console = {
      ...originalConsole,
      log: (message, ...args) => {
        originalConsoleLog.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_log', message: combined });
      },
      debug: (message, ...args) => {
        originalConsoleDebug.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_debug', message: combined });
      },
      error: (message, ...args) => {
        originalConsoleError.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_error', message: combined });
      },
      warn: (message, ...args) => {
        originalConsoleWarn.apply(window.console, [message, ...args]);
        const combined = serialize([message, ...args]);
        reportError({type: 'console_warn', message: combined });
      },
    };

    window.onerror = (message, source, lineno, colno, error) => {
      reportError({type: 'error', message: serialize([message]), source, lineno, colno, error});
    };

    window.onunhandledrejection = (event) => {
      reportError({type: 'unhandledrejection', message: serialize([event.reason])});
    };

    window.alert = (message) => {
      reportError({type: 'alert', message: serialize([message]) });
    };

    hostPort = (await bootstrapChannel).port;
    for(const error of errors) {
      hostPort.postMessage({type: 'error', message: error});
    }
  }

  const availableFiles = new Set(window.APPLET_FILES || []);

  instrumentErrorReporting();

  if (false) {
    const notifyLocationChange = async () => {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'locationchange', href: location.href});
    };

    // Send initial state on load.
    notifyLocationChange();

    const originalPushState = history.pushState;
    history.pushState = (...args) => {
      originalPushState.apply(history, args);
      notifyLocationChange();
    };

    const originalReplaceState = history.replaceState;
    history.replaceState = (...args) => {
      originalReplaceState.apply(history, args);
      notifyLocationChange();
    };
    window.addEventListener('popstate', (e) => {
      notifyLocationChange();
    });
  }

  window.addEventListener('hashchange', async (e) =>{
    const config = await bootstrapChannel;
    const hostPort = config.port;
    hostPort.postMessage({type: 'hashchange', hash: window.location.hash});
    if (false) {
      hostPort.postMessage({
        type: 'locationchange',
        href: location.href,
      });
    }
  });

  if (true) {
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/html2canvas-pro';
    script.onload = () => {
      window.addEventListener('message', async (event) => {
        if (event.data?.type === 'capture-screenshot') {
          try {
            const canvas = await html2canvas(document.documentElement, {
              logging: false,
              useCORS: true,
              backgroundColor: null,
              scale: 1,
            });
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-result',
                dataUrl: canvas.toDataURL('image/png'),
                requestId: event.data.requestId,
                scrollX: document.body.scrollLeft,
                scrollY: document.body.scrollTop,
              },
            );
          } catch (e) {
            const hostPort = (await bootstrapChannel).port;
            hostPort.postMessage(
              {
                type: 'screenshot-error',
                error: e.message,
                requestId: event.data.requestId,
              });
          }
        }
      });
    };
    document.head.appendChild(script);
  }

  if (false) {
    const MAX_ANCESTOR_LEVEL = 3;
    const MAX_DESCENDANT_LEVEL = 3;

    function getElementSelector(el) {
      if (!el || el.nodeType !== 1) {
        return '';
      }
      const parts = [];
      while(el && el.nodeType === 1 && el.tagName.toLowerCase() !== 'body') {
        let part = el.tagName.toLowerCase();
        if (el.id) {
          part += '#' + CSS.escape(el.id);
        }

        const parent = el.parentElement;
        if (parent) {
          let nth = 1;
          let prev = el.previousElementSibling;
          while(prev) {
            if (prev.tagName === el.tagName) {
              nth++;
            }
            prev = prev.previousElementSibling;
          }
          part += ':nth-of-type(' + nth + ')';
        }

        parts.unshift(part);
        el = el.parentElement;
      }
      return parts.join(' > ');
    }

    function getDomTreeAsString(element, depth, maxDepth) {
      if (!element || element.nodeType !== 1 || depth > maxDepth) {
        return '';
      }
      const tagName = element.tagName.toLowerCase();
      let attrs = [];
      if (element.id) {
        attrs.push('id="' + element.id + '"');
      }
      if (element.classList.length > 0) {
        attrs.push('class="' + element.classList.value + '"');
      }
      const attrString = attrs.length > 0 ? ' ' + attrs.join(' ') : '';

      let content = '';
      for (const node of element.childNodes) {
        if (node.nodeType === 1) { // Element node
          content += getDomTreeAsString(node, depth + 1, maxDepth);
        } else if (node.nodeType === 3) { // Text node
          content += node.textContent;
        }
      }

      return '<' + tagName + attrString + '>' + content + '</' + tagName + '>';
    }

    const style = document.createElement('style');
    style.textContent =
      '.aistudio-focus-mode-highlight { box-shadow: inset 0 0 0 0.5px white, inset 0 0 0 1.5px #87a9ff !important; }' +
      '#aistudio-focus-mode-tag { position: absolute; display: none; background: #87a9ff; border-radius: 4px; border: 0.5px solid white; z-index: 10000; text-transform: lowercase; padding: 2px 4px; color: #32302c; font-family: Inter, sans-serif; font-size: 12px; font-style: normal; font-weight: 400; line-height: 16px; pointer-events: none; }';
    document.head.appendChild(style);

    let highlightedElement = null;
    let focusTag = null;
    let resizeObserver = null;
    let iframeLoaded = false;

    function positionFocusTag() {
      if (!highlightedElement || !focusTag) return;
      requestAnimationFrame(() => {
        focusTag.style.display = 'inline-flex';
        const rect = highlightedElement.getBoundingClientRect();
        focusTag.style.top =
          rect.top + window.scrollY - focusTag.offsetHeight - 5 + 'px';
        focusTag.style.left = rect.left + window.scrollX + 'px';
      });
    }

    if (window.ResizeObserver) {
      resizeObserver = new ResizeObserver(() => {
        positionFocusTag();
      });
    }

    function highlight(element) {
      if (!iframeLoaded) return; // Do not highlight if iframe is not loaded
      if (!focusTag) {
        focusTag = document.createElement('div');
        focusTag.id = 'aistudio-focus-mode-tag';
        document.body.appendChild(focusTag);
      }

      const hadHighlightedElement = !!highlightedElement;
      if (highlightedElement) {
        highlightedElement.classList.remove('aistudio-focus-mode-highlight');
        highlightedElement.removeAttribute('data-aistudio-tag-name');
        if (resizeObserver) {
          resizeObserver.unobserve(highlightedElement);
        }
      }
      focusTag.style.display = 'none';
      highlightedElement = element;
      const hasHighlightedElement = !!highlightedElement;

      if (!hadHighlightedElement && hasHighlightedElement) {
        window.addEventListener('resize', positionFocusTag);
        window.addEventListener('scroll', positionFocusTag, true);
      } else if (hadHighlightedElement && !hasHighlightedElement) {
        window.removeEventListener('resize', positionFocusTag);
        window.removeEventListener('scroll', positionFocusTag, true);
      }

      if (highlightedElement) {
        highlightedElement.setAttribute(
          'data-aistudio-tag-name',
          highlightedElement.tagName,
        );
        highlightedElement.classList.add('aistudio-focus-mode-highlight');
        focusTag.textContent = highlightedElement.tagName.toLowerCase();
        positionFocusTag();
        if (resizeObserver) {
          resizeObserver.observe(highlightedElement);
        }
      }
    }

    window.addEventListener('load', () => {
      iframeLoaded = true;
    });

    window.addEventListener('message', async (event) => {
      if (event.data?.type === 'highlight-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          highlight(element);
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'highlight-element-by-selector') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            highlight(element);
          } else {
            highlight(null);
          }
        } catch (e) {
          highlight(null);
        }
      } else if (event.data?.type === 'get-element-at-point') {
        try {
          const element = document.elementFromPoint(
            event.data.x,
            event.data.y,
          );
          const hostPort = (await bootstrapChannel).port;
          if (!element) {
            hostPort.postMessage({
              type: 'element-at-point-error',
              error: 'No element found at point',
              requestId: event.data.requestId,
            });
            return;
          }
          const selector = getElementSelector(element);

          let levelsUp = 0;
          let root = element;
          while(levelsUp < MAX_ANCESTOR_LEVEL && root.parentElement && root.parentElement.tagName.toLowerCase() !== 'html') {
            root = root.parentElement;
            levelsUp++;
          }
          const domString = getDomTreeAsString(root, 0, levelsUp + MAX_DESCENDANT_LEVEL);

          const styles = window.getComputedStyle(element);
          const css = {};
          for (let i = 0; i < styles.length; i++) {
            const key = styles[i];
            css[key] = styles.getPropertyValue(key);
          }
          hostPort.postMessage({
            type: 'element-at-point-result',
            element: {
              selector: selector,
              domString: domString,
              css: css,
              x: event.data.x,
              y: event.data.y,
            },
            requestId: event.data.requestId,
          });
        } catch (e) {
          const hostPort = (await bootstrapChannel).port;
          hostPort.postMessage({
            type: 'element-at-point-error',
            error: e.message,
            requestId: event.data.requestId,
          });
        }
      } else if (event.data?.type === 'change-element-style') {
        try {
          const selector = event.data.selector;
          if (selector) {
            const element = document.querySelector(selector);
            if (element) {
              element.style.setProperty(
                event.data.property,
                event.data.value,
                'important',
              );
              positionFocusTag();
            }
          }
        } catch (e) {}
      }
    });
  }

  window.addEventListener('keydown', async (event) => {
    if (event.key === 'Escape' && window.aistudio?.handleFullscreenEsc) {
      const hostPort = (await bootstrapChannel).port;
      hostPort.postMessage({type: 'exit-fullscreen'});
    }
  });
})();
// # sourceURL=iframe_shim.js
        </script>
        <base href="https://ai.studio">


  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillWeaver // Neural Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
      body {
        font-family: 'JetBrains Mono', monospace;
        background-color: #050505;
        color: #e5e5e5;
      }
      .scanline {
        background: linear-gradient(
          to bottom,
          rgba(255, 255, 255, 0),
          rgba(255, 255, 255, 0) 50%,
          rgba(0, 0, 0, 0.2) 50%,
          rgba(0, 0, 0, 0.2)
        );
        background-size: 100% 4px;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: 50;
      }
      .glow-text {
        text-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
      }
    </style>
  <style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.absolute{position:absolute}.relative{position:relative}.bottom-0{bottom:0px}.left-0{left:0px}.z-10{z-index:10}.col-span-12{grid-column:span 12 / span 12}.mx-2{margin-left:0.5rem;margin-right:0.5rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.flex{display:flex}.grid{display:grid}.h-1{height:0.25rem}.h-12{height:3rem}.h-2{height:0.5rem}.h-32{height:8rem}.h-8{height:2rem}.h-\[calc\(100vh-200px\)\]{height:calc(100vh - 200px)}.h-full{height:100%}.min-h-screen{min-height:100vh}.w-2{width:0.5rem}.w-32{width:8rem}.w-full{width:100%}.w-px{width:1px}.max-w-\[1600px\]{max-width:1600px}.flex-1{flex:1 1 0%}.border-collapse{border-collapse:collapse}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite}.cursor-pointer{cursor:pointer}.appearance-none{-webkit-appearance:none;appearance:none}.grid-cols-12{grid-template-columns:repeat(12, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-\[1px\]{gap:1px}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.rounded{border-radius:0.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-emerald-500{--tw-border-opacity:1;border-color:rgb(16 185 129 / var(--tw-border-opacity, 1))}.border-green-500{--tw-border-opacity:1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-purple-800{--tw-border-opacity:1;border-color:rgb(107 33 168 / var(--tw-border-opacity, 1))}.border-purple-900{--tw-border-opacity:1;border-color:rgb(88 28 135 / var(--tw-border-opacity, 1))}.border-zinc-700{--tw-border-opacity:1;border-color:rgb(63 63 70 / var(--tw-border-opacity, 1))}.border-zinc-800{--tw-border-opacity:1;border-color:rgb(39 39 42 / var(--tw-border-opacity, 1))}.border-zinc-800\/50{border-color:rgb(39 39 42 / 0.5)}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-900{--tw-bg-opacity:1;background-color:rgb(30 58 138 / var(--tw-bg-opacity, 1))}.bg-emerald-500\/10{background-color:rgb(16 185 129 / 0.1)}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-800{--tw-bg-opacity:1;background-color:rgb(22 101 52 / var(--tw-bg-opacity, 1))}.bg-green-900\/50{background-color:rgb(20 83 45 / 0.5)}.bg-purple-500{--tw-bg-opacity:1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}.bg-purple-900\/30{background-color:rgb(88 28 135 / 0.3)}.bg-transparent{background-color:transparent}.bg-zinc-700{--tw-bg-opacity:1;background-color:rgb(63 63 70 / var(--tw-bg-opacity, 1))}.bg-zinc-800{--tw-bg-opacity:1;background-color:rgb(39 39 42 / var(--tw-bg-opacity, 1))}.bg-zinc-900{--tw-bg-opacity:1;background-color:rgb(24 24 27 / var(--tw-bg-opacity, 1))}.bg-zinc-900\/30{background-color:rgb(24 24 27 / 0.3)}.bg-zinc-900\/50{background-color:rgb(24 24 27 / 0.5)}.p-1{padding:0.25rem}.p-2{padding:0.5rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-1{padding-left:0.25rem;padding-right:0.25rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.pb-4{padding-bottom:1rem}.pl-2{padding-left:0.5rem}.text-left{text-align:left}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-\[10px\]{font-size:10px}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-normal{font-weight:400}.tracking-tighter{letter-spacing:-0.05em}.text-blue-200{--tw-text-opacity:1;color:rgb(191 219 254 / var(--tw-text-opacity, 1))}.text-blue-400{--tw-text-opacity:1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.text-emerald-500{--tw-text-opacity:1;color:rgb(16 185 129 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-purple-400{--tw-text-opacity:1;color:rgb(192 132 252 / var(--tw-text-opacity, 1))}.text-purple-500{--tw-text-opacity:1;color:rgb(168 85 247 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-zinc-300{--tw-text-opacity:1;color:rgb(212 212 216 / var(--tw-text-opacity, 1))}.text-zinc-400{--tw-text-opacity:1;color:rgb(161 161 170 / var(--tw-text-opacity, 1))}.text-zinc-500{--tw-text-opacity:1;color:rgb(113 113 122 / var(--tw-text-opacity, 1))}.text-zinc-600{--tw-text-opacity:1;color:rgb(82 82 91 / var(--tw-text-opacity, 1))}.accent-red-600{accent-color:#dc2626}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:bg-purple-900\/50:hover{background-color:rgb(88 28 135 / 0.5)}.hover\:bg-zinc-800\/30:hover{background-color:rgb(39 39 42 / 0.3)}.hover\:text-zinc-300:hover{--tw-text-opacity:1;color:rgb(212 212 216 / var(--tw-text-opacity, 1))}@media (min-width: 768px){.md\:flex-row{flex-direction:row}.md\:items-end{align-items:flex-end}}@media (min-width: 1024px){.lg\:col-span-4{grid-column:span 4 / span 4}.lg\:col-span-8{grid-column:span 8 / span 8}}</style><script src="https://cdn.jsdelivr.net/npm/html2canvas-pro"></script></head>
  <body>
    <div id="root"><div class="min-h-screen p-4 flex flex-col gap-4 max-w-[1600px] mx-auto z-10 relative font-mono text-sm"><header class="flex flex-col md:flex-row justify-between items-start md:items-end border-b border-zinc-800 pb-4 gap-4"><div><h1 class="text-2xl font-bold text-white tracking-tighter flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ghost text-purple-500" aria-hidden="true"><path d="M9 10h.01"></path><path d="M15 10h.01"></path><path d="M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"></path></svg>SKILLWEAVER <span class="text-zinc-600 text-base font-normal">// PROTOCOL v22.0</span></h1><div class="flex gap-4 mt-2"><div class="flex items-center gap-2 text-zinc-500 text-xs"> <span class="w-2 h-2 bg-purple-500 rounded-full animate-pulse"></span> STEALTH PHANTOM: ONLINE </div></div></div><div class="flex gap-2 items-center bg-zinc-900 p-2 rounded border border-zinc-800"><div class="flex flex-col"><label class="text-[10px] text-zinc-500">CLASS</label><select class="bg-transparent text-white font-bold outline-none cursor-pointer"><option value="9">Warlock</option><option value="3">Hunter</option><option value="12">Demon Hunter</option><option value="11">Druid</option><option value="1">Warrior</option></select></div><div class="w-px h-8 bg-zinc-700 mx-2"></div><div class="flex flex-col"><label class="text-[10px] text-zinc-500">SPEC</label><select class="bg-transparent text-zinc-300 font-bold outline-none cursor-pointer w-32"><option value="3">Destruction</option></select></div></div><div class="flex flex-col"><label class="text-[10px] text-zinc-500">RACE</label><select class="bg-zinc-900 border border-zinc-800 text-white font-bold outline-none cursor-pointer text-xs p-1 rounded w-32"><option value="1">Human</option><option value="2">Orc</option><option value="3">Dwarf</option><option value="4">Night Elf</option><option value="5">Undead</option><option value="6">Tauren</option><option value="7">Gnome</option><option value="8">Troll</option><option value="9">Goblin</option><option value="10">Blood Elf</option><option value="29">Void Elf</option><option value="34">Dark Iron Dwarf</option></select></div><div class="flex gap-2"><button class="bg-purple-900/30 hover:bg-purple-900/50 text-purple-500 border border-purple-800 px-4 py-2 text-xs font-bold rounded flex items-center gap-2 transition-all"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-archive" aria-hidden="true"><rect width="20" height="5" x="2" y="3" rx="1"></rect><path d="M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"></path><path d="M10 12h4"></path></svg> DOWNLOAD SUITE</button><div class="flex bg-zinc-900 p-1 rounded border border-zinc-800"><button class="px-4 py-2 text-xs font-bold rounded flex items-center gap-2 transition-all bg-zinc-800 text-white shadow-sm"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-activity" aria-hidden="true"><path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"></path></svg> DASHBOARD</button><button class="px-4 py-2 text-xs font-bold rounded flex items-center gap-2 transition-all text-zinc-500 hover:text-zinc-300"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-braces" aria-hidden="true"><path d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"></path><path d="M14 2v5a1 1 0 0 0 1 1h5"></path><path d="M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1"></path><path d="M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1"></path></svg> EDITOR</button><button class="px-4 py-2 text-xs font-bold rounded flex items-center gap-2 transition-all text-zinc-500 hover:text-zinc-300"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-code" aria-hidden="true"><path d="M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"></path><path d="M14 2v5a1 1 0 0 0 1 1h5"></path><path d="M10 12.5 8 15l2 2.5"></path><path d="m14 12.5 2 2.5-2 2.5"></path></svg> SOURCE</button></div></div></header><div class="grid grid-cols-12 gap-6 flex-1 h-[calc(100vh-200px)]"><div class="col-span-12 lg:col-span-4 flex flex-col gap-4"><div class="bg-zinc-900/50 border border-zinc-800 p-4 rounded-lg flex flex-col"><div class="flex justify-between items-center mb-4"><h2 class="text-xs font-bold text-zinc-400 flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye" aria-hidden="true"><path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path><circle cx="12" cy="12" r="3"></circle></svg> OPTICAL FEED </h2></div><div class="h-12 bg-black border border-zinc-700 w-full flex items-center px-1 gap-[1px] mb-2 overflow-hidden"><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-green-800 relative"><div class="absolute bottom-0 left-0 w-full bg-green-500" style="height: 100%;"></div></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div><div class="h-8 flex-1 relative bg-zinc-900"></div></div><div class="flex justify-between text-[10px] font-mono text-zinc-600"><span>P15:TOTEM</span> <span>P16:DEBUFFS</span> <span>P22:PET_HP</span> <span>P30:SNAP</span></div></div><div class="bg-zinc-900/50 border border-zinc-800 p-4 rounded-lg flex flex-col gap-4"><div class="flex justify-between items-center"><h2 class="text-xs font-bold text-zinc-400 flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ghost" aria-hidden="true"><path d="M9 10h.01"></path><path d="M15 10h.01"></path><path d="M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"></path></svg> GHOST CONTROL </h2></div><div class="grid grid-cols-2 gap-2"><button class="text-xs p-2 border rounded bg-green-900/50 border-green-500 text-white">SAFETY: ON</button><button class="text-xs p-2 border rounded bg-zinc-900 border-zinc-800 text-zinc-500">PET HP: 100% (P22)</button><button class="text-xs p-2 border rounded bg-zinc-900 border-zinc-800 text-zinc-500">SNAPSHOT PROC (P30)</button><button class="text-xs p-2 border rounded bg-zinc-900 border-zinc-800 text-zinc-500">PLAYER SCATTERED (P16)</button></div></div><div class="bg-zinc-900/50 border border-zinc-800 p-4 rounded-lg flex flex-col gap-4"><div class="flex justify-between items-center"><h2 class="text-xs font-bold text-zinc-400 flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-skull" aria-hidden="true"><path d="m12.5 17-.5-1-.5 1h1z"></path><path d="M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"></path><circle cx="15" cy="12" r="1"></circle><circle cx="9" cy="12" r="1"></circle></svg> KILL WINDOW </h2></div><div class="space-y-1"><div class="flex justify-between text-[10px] text-zinc-500"><span>TARGET HP</span> <span class="text-zinc-300">100%</span></div><input min="0" max="100" class="w-full accent-red-600 h-1 bg-zinc-800 rounded appearance-none" type="range" value="100"></div></div></div><div class="col-span-12 lg:col-span-8 bg-zinc-900/30 border border-zinc-800 rounded-lg overflow-hidden flex flex-col"><div class="p-6 h-full flex flex-col"><div class="flex justify-between items-start mb-6"><div><h2 class="text-2xl font-bold text-white mb-2">Destruction Warlock</h2><div class="flex gap-2"><span class="px-2 py-1 bg-zinc-800 text-zinc-300 text-[10px] rounded font-mono">DPS</span><span class="px-2 py-1 bg-purple-900/30 text-purple-400 text-[10px] rounded font-mono border border-purple-900">Chaos Burst</span></div></div><button class="flex items-center gap-2 px-6 py-2 rounded font-bold text-xs border bg-emerald-500/10 border-emerald-500 text-emerald-500"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play" aria-hidden="true"><path d="M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"></path></svg> ENGAGE LOGIC</button></div><div class="flex-1 overflow-auto"><table class="w-full text-left border-collapse"><thead><tr class="text-[10px] text-zinc-500 border-b border-zinc-800"><th class="py-2 pl-2">PRIO</th><th class="py-2">ACTION</th><th class="py-2">TYPE</th><th class="py-2">LOGIC</th><th class="py-2">TARGET</th></tr></thead><tbody><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#101</td><td class="py-2 font-bold text-white">Summon Felhunter</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-green-800 text-white">PET_MANAGE</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"><span class="text-green-400 font-bold">NEURAL NET </span></td><td class="py-2 text-[10px] text-zinc-500">PLAYER</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#100</td><td class="py-2 font-bold text-white">Unending Resolve</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">DEFENSIVE</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">PLAYER</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#100</td><td class="py-2 font-bold text-white">Spell Lock</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">INTERRUPT</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">TARGET</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#99</td><td class="py-2 font-bold text-white">Dark Pact</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">DEFENSIVE</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">PLAYER</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#99</td><td class="py-2 font-bold text-white">Spell Lock</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">ARENA_INTERRUPT</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">ARENA1</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#99</td><td class="py-2 font-bold text-white">Spell Lock</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">ARENA_INTERRUPT</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">ARENA2</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#99</td><td class="py-2 font-bold text-white">Spell Lock</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">ARENA_INTERRUPT</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">ARENA3</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#98</td><td class="py-2 font-bold text-white">Shadowfury</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-blue-900 text-blue-200">GROUND_TARGET</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"><span class="text-blue-400">@CURSOR</span></td><td class="py-2 text-[10px] text-zinc-500">TARGET</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#97</td><td class="py-2 font-bold text-white">Mortal Coil</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">CC</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">TARGET</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#96</td><td class="py-2 font-bold text-white">Fear</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">CHAIN_CC</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">FOCUS</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#95</td><td class="py-2 font-bold text-white">Shadowburn</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">EXECUTE</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">TARGET</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#90</td><td class="py-2 font-bold text-white">Chaos Bolt</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">BURST</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">TARGET</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#85</td><td class="py-2 font-bold text-white">Conflagrate</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">DAMAGE</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">TARGET</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#80</td><td class="py-2 font-bold text-white">Immolate</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">MAINTAIN_BUFF</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"><span class="text-purple-400 font-bold">SNAPSHOT</span></td><td class="py-2 text-[10px] text-zinc-500">TARGET</td></tr><tr class="border-b border-zinc-800/50 hover:bg-zinc-800/30 text-xs text-zinc-300"><td class="py-2 pl-2 font-mono text-zinc-500">#60</td><td class="py-2 font-bold text-white">Incinerate</td><td class="py-2"><span class="text-[10px] px-1 rounded bg-zinc-800 text-zinc-400">DAMAGE</span></td><td class="py-2 text-[10px] text-zinc-400 font-mono"></td><td class="py-2 text-[10px] text-zinc-500">TARGET</td></tr></tbody></table></div><div class="mt-4 h-32 bg-black border border-zinc-800 rounded p-2 font-mono text-[10px] overflow-auto"><div></div></div></div></div></div></div></div>
    <div class="scanline"></div>
    <script type="module" src="/index.tsx"></script>
  

        <script type="module" onerror="console.warn('Failed to load the app. Try reloading it.')">import '@/index';</script>
        </body></html>